<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[iOSå¼€å‘å¸¸ç”¨UIå°æŠ€å·§]]></title>
      <url>https://jiangdaohong.github.io/2016/10/22/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8UI%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<p>æ•´ç†ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„UIå°æŠ€å·§<br><a id="more"></a></p>
<ol>
<li><p>UINavigationBarç›¸å…³è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å»é˜´å½±</span></div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setShadowImage:[<span class="built_in">UIImage</span> new]];</div><div class="line">   <span class="comment">// è®¾ç½®æ ‡é¢˜</span></div><div class="line">   <span class="built_in">NSMutableDictionary</span> *titleTextAttrs = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">   titleTextAttrs[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">   titleTextAttrs[<span class="built_in">NSFontAttributeName</span>] = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">18</span>];</div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setTitleTextAttributes:titleTextAttrs];</div><div class="line">   <span class="comment">// è®¾ç½®æ¸²æŸ“è‰²</span></div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setTintColor:[<span class="built_in">UIColor</span> whiteColor]];</div><div class="line">   </div><div class="line">   <span class="comment">// è®¾ç½®èƒŒæ™¯å›¾ç‰‡</span></div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setBackgroundImage:[[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"navc_bg_blue"</span>] imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>] 	forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>UITabBarç›¸å…³è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å»é˜´å½±</span></div><div class="line">[[<span class="built_in">UITabBar</span> appearance] setShadowImage:[<span class="built_in">UIImage</span> new];</div><div class="line"><span class="comment">// æ›´æ¢ç³»ç»Ÿè‡ªå¸¦çš„tabbar</span></div><div class="line">DHTabBar *tabBar = [DHTabBar tabbar];</div><div class="line">   [<span class="keyword">self</span> setValue:tabBar forKeyPath:<span class="string">@"tabBar"</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>UITabBarController<br>é€‰ä¸­ä¸åŒæ§åˆ¶å™¨æ˜¾ç¤ºä¸åŒçš„statusBaræ ·å¼</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle </div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.selectedViewController.preferredStatusBarStyle;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UITabbarControllerå¿«é€Ÿæ·»åŠ å­æ§åˆ¶å™¨</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> *  æ·»åŠ ä¸€ä¸ªå­æ§åˆ¶å™¨</div><div class="line"> *</div><div class="line"> *  @param childVC       å­æ§åˆ¶å™¨</div><div class="line"> *  @param title         æ ‡é¢˜</div><div class="line"> *  @param image         å›¾ç‰‡</div><div class="line"> *  @param selectedImage é€‰ä¸­çš„å›¾ç‰‡</div><div class="line"> */</div><div class="line">- (<span class="keyword">void</span>)addChildVc:(<span class="built_in">UIViewController</span> *)childVC title:(<span class="built_in">NSString</span> *)title image:(<span class="built_in">NSString</span> *)image selectedImage:(<span class="built_in">NSString</span> *)selectedImage</div><div class="line">&#123;</div><div class="line">    <span class="comment">// è®¾ç½®å­æ§åˆ¶å™¨çš„æ–‡å­—</span></div><div class="line">    childVC.title = title;</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®å­æ§åˆ¶å™¨çš„å›¾ç‰‡</span></div><div class="line">    childVC.tabBarItem.image = [[<span class="built_in">UIImage</span> imageNamed:image]imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</div><div class="line">    childVC.tabBarItem.selectedImage = [[<span class="built_in">UIImage</span> imageNamed:selectedImage]imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®æ–‡å­—çš„æ ·å¼</span></div><div class="line">    <span class="built_in">NSMutableDictionary</span> *textAttrs = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">    textAttrs[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> itemColor];</div><div class="line">    <span class="built_in">NSMutableDictionary</span> *selectTextAttrs = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">    selectTextAttrs[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> themeColor];</div><div class="line">    [childVC.tabBarItem setTitleTextAttributes:textAttrs forState:<span class="built_in">UIControlStateNormal</span>];</div><div class="line">    [childVC.tabBarItem setTitleTextAttributes:selectTextAttrs forState:<span class="built_in">UIControlStateSelected</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// æ·»åŠ ä¸ºå­æ§åˆ¶å™¨</span></div><div class="line">    [<span class="keyword">self</span> addChildViewController:childVC];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UINavigationController<br> ç»Ÿä¸€è®¾ç½®è¿”å›é”®æ ·å¼</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)pushViewController:(<span class="built_in">UIViewController</span> *)viewController animated:(<span class="built_in">BOOL</span>)animated</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="keyword">self</span>.viewControllers.count &gt; <span class="number">0</span>) &#123;</div><div class="line">		<span class="comment">// è‡ªåŠ¨æ˜¾ç¤ºå’Œéšè—tabbar</span></div><div class="line">		viewController.hidesBottomBarWhenPushed = <span class="literal">YES</span>;</div><div class="line">		<span class="comment">// è®¾ç½®å·¦è¾¹çš„è¿”å›æŒ‰é’®</span></div><div class="line">		<span class="comment">// UIBarButtonItem category æ–¹æ³•,å¿«é€Ÿä¿®æ”¹å›¾ç‰‡</span></div><div class="line">        viewController.navigationItem.leftBarButtonItem = [<span class="built_in">UIBarButtonItem</span></div><div class="line">        itemWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(popVC) image:<span class="string">@"wihteback_normal"</span></div><div class="line">        highImage:<span class="string">@"wihteback_hign"</span>];</div><div class="line">	&#125;</div><div class="line">	[<span class="keyword">super</span> pushViewController:viewController animated:animated];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ·»åŠ å…¨å±è¿”å›æ‰‹åŠ¿</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIPanGestureRecognizer</span> *pan; <span class="comment">/**&lt; è¿”å›æ‰‹åŠ¿*/</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">BOOL</span> panGesEnable;           <span class="comment">/**&lt; æ˜¯å¦å¯ç”¨å…¨å±æ‰‹åŠ¿*/</span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">&#123;	</div><div class="line">	[<span class="keyword">super</span> viewDidLoad];</div><div class="line">	<span class="comment">// è·å–ç³»ç»Ÿè‡ªå¸¦æ»‘åŠ¨æ‰‹åŠ¿çš„targetå¯¹è±¡</span></div><div class="line">    <span class="keyword">id</span> target = <span class="keyword">self</span>.interactivePopGestureRecognizer.delegate;</div><div class="line">    <span class="comment">// åˆ›å»ºå…¨å±æ»‘åŠ¨æ‰‹åŠ¿ï¼Œè°ƒç”¨ç³»ç»Ÿè‡ªå¸¦æ»‘åŠ¨æ‰‹åŠ¿çš„targetçš„actionæ–¹æ³•</span></div><div class="line">    SEL action = <span class="built_in">NSSelectorFromString</span>(<span class="string">@"handleNavigationTransition:"</span>);</div><div class="line">    <span class="built_in">UIPanGestureRecognizer</span> *pan = [[<span class="built_in">UIPanGestureRecognizer</span> alloc] initWithTarget:target action:action];</div><div class="line">    <span class="comment">// è®¾ç½®æ‰‹åŠ¿ä»£ç†ï¼Œæ‹¦æˆªæ‰‹åŠ¿è§¦å‘</span></div><div class="line">    pan.delegate = <span class="keyword">self</span>;</div><div class="line">    <span class="keyword">self</span>.pan = pan;</div><div class="line">    <span class="comment">// ç»™å¯¼èˆªæ§åˆ¶å™¨çš„viewæ·»åŠ å…¨å±æ»‘åŠ¨æ‰‹åŠ¿</span></div><div class="line">    [<span class="keyword">self</span>.view addGestureRecognizer:pan];</div><div class="line">    <span class="comment">// ç¦æ­¢ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„æ»‘åŠ¨æ‰‹åŠ¿</span></div><div class="line">    <span class="keyword">self</span>.interactivePopGestureRecognizer.enabled = <span class="literal">NO</span>;</div><div class="line">    <span class="comment">// é»˜è®¤å¯ç”¨</span></div><div class="line">    <span class="keyword">self</span>.panGesEnable = <span class="literal">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">BOOL</span>)gestureRecognizerShouldBegin:(<span class="built_in">UIGestureRecognizer</span> *)gestureRecognizer</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!<span class="keyword">self</span>.panGesEnable) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.childViewControllers.count == <span class="number">1</span> ? <span class="literal">NO</span> : <span class="literal">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIColor</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä½¿ç”¨16è¿›åˆ¶é¢œè‰²</span></div><div class="line">+ (<span class="built_in">UIColor</span> *)colorWithRGBHex:(<span class="built_in">UInt32</span>)hex</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> r = (hex &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>;</div><div class="line">    <span class="keyword">int</span> g = (hex &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>;</div><div class="line">    <span class="keyword">int</span> b = (hex) &amp; <span class="number">0xFF</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> [<span class="built_in">UIColor</span> colorWithRed:r / <span class="number">255.0</span>f</div><div class="line">                           green:g / <span class="number">255.0</span>f</div><div class="line">                            blue:b / <span class="number">255.0</span>f</div><div class="line">                           alpha:<span class="number">1.0</span>f];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä½¿ç”¨16è¿›åˆ¶é¢œè‰²å­—ç¬¦ä¸²æ ¼å¼</span></div><div class="line">+ (<span class="built_in">UIColor</span> *)colorWithHexString:(<span class="built_in">NSString</span> *)stringToConvert</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSString</span> *cString = [[stringToConvert stringByTrimmingCharactersInSet:[<span class="built_in">NSCharacterSet</span> whitespaceAndNewlineCharacterSet]] uppercaseString];</div><div class="line">    </div><div class="line">    <span class="comment">// String should be 6 or 8 characters</span></div><div class="line">    <span class="keyword">if</span> ([cString length] &lt; <span class="number">6</span>) &#123;</div><div class="line">        <span class="keyword">return</span> [<span class="built_in">UIColor</span> clearColor];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// strip 0X if it appears</span></div><div class="line">    <span class="keyword">if</span> ([cString hasPrefix:<span class="string">@"0X"</span>])</div><div class="line">        cString = [cString substringFromIndex:<span class="number">2</span>];</div><div class="line">    <span class="keyword">if</span> ([cString hasPrefix:<span class="string">@"#"</span>])</div><div class="line">        cString = [cString substringFromIndex:<span class="number">1</span>];</div><div class="line">    <span class="keyword">if</span> ([cString length] != <span class="number">6</span>)</div><div class="line">        <span class="keyword">return</span> [<span class="built_in">UIColor</span> clearColor];</div><div class="line">    </div><div class="line">    <span class="built_in">NSScanner</span> *scanner = [<span class="built_in">NSScanner</span> scannerWithString:cString];</div><div class="line">    <span class="keyword">unsigned</span> hexNum;</div><div class="line">    <span class="keyword">if</span> (![scanner scanHexInt:&amp;hexNum]) <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">return</span> [<span class="built_in">UIColor</span> colorWithRGBHex:hexNum];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å¸¸ç”¨é¢œè‰²å†™æˆåˆ†ç±»</span></div><div class="line">+ (<span class="built_in">UIColor</span> *)themeColor </div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">0</span> blue:<span class="number">0</span> alpha:<span class="number">1.0</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIImage</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ ¹æ®é¢œè‰²ç”Ÿæˆå›¾ç‰‡</span></div><div class="line">+ (<span class="built_in">UIImage</span> *)imageWithColor:(<span class="built_in">UIColor</span> *)color</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [<span class="keyword">self</span> imageWithColor:color size:<span class="built_in">CGSizeMake</span>(<span class="number">1</span>, <span class="number">1</span>)];</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (<span class="built_in">UIImage</span> *)imageWithColor:(<span class="built_in">UIColor</span> *)color size:(<span class="built_in">CGSize</span>)size</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!color || size.width &lt;= <span class="number">0</span> || size.height &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0.0</span>f, <span class="number">0.0</span>f, size.width, size.height);</div><div class="line">    <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(rect.size, <span class="literal">NO</span>, <span class="number">0</span>);</div><div class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line">    <span class="built_in">CGContextSetFillColorWithColor</span>(context, color.CGColor);</div><div class="line">    <span class="built_in">CGContextFillRect</span>(context, rect);</div><div class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</div><div class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</div><div class="line">    <span class="keyword">return</span> image;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIView &amp;&amp; UIViewController<br>ä¸ºUIViewå¿«é€Ÿæ·»åŠ è¾¹æ¡†<br> <a href="https://github.com/aaronn/UIView-Borders" target="_blank" rel="external">UIView+Borders.h</a><br>ä¸ºUIViewæ·»åŠ çº¢ç‚¹,æ•°å­—ç­‰<br> <a href="https://github.com/weng1250/WZLBadge" target="_blank" rel="external">WZLBadge</a><br>æ ¹æ®è§†å›¾æ‰¾åˆ°æ§åˆ¶å™¨</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIViewController</span> *)viewController </div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">UIView</span> *view = <span class="keyword">self</span>; view; view = view.superview) &#123;</div><div class="line">        <span class="built_in">UIResponder</span> *nextResponder = [view nextResponder];</div><div class="line">        <span class="keyword">if</span> ([nextResponder isKindOfClass:[<span class="built_in">UIViewController</span> <span class="keyword">class</span>]]) &#123;</div><div class="line">            <span class="keyword">return</span> (<span class="built_in">UIViewController</span> *)nextResponder;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è·å–æŸä¸ªèŒƒå›´å†…çš„å›¾å½¢</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-Â (<span class="built_in">UIImage</span>Â *)imageFromView:(<span class="built_in">UIView</span>Â *)theViewÂ atFrame:(<span class="built_in">CGRect</span>)r</div><div class="line">&#123;Â </div><div class="line">	<span class="built_in">UIGraphicsBeginImageContext</span>(theView.frame.size);Â </div><div class="line">	<span class="built_in">CGContextRef</span>Â contextÂ =Â <span class="built_in">UIGraphicsGetCurrentContext</span>();Â </div><div class="line">	<span class="built_in">CGContextSaveGState</span>(context);Â </div><div class="line">	<span class="built_in">UIRectClip</span>(r);Â </div><div class="line">	[theView.layerÂ renderInContext:context];Â </div><div class="line">	<span class="built_in">UIImage</span>Â *theImageÂ =Â <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();Â </div><div class="line">	<span class="built_in">UIGraphicsEndImageContext</span>();Â Â  Â  Â  Â  Â </div><div class="line">	<span class="keyword">return</span>Â  theImage;Â </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>UIViewç§»é™¤æ‰€æœ‰å­è§†å›¾</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)removeAllSubviews</div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span> (<span class="keyword">self</span>.subviews.count) &#123;</div><div class="line">        [<span class="keyword">self</span>.subviews.lastObject removeFromSuperview];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>UIViewControlleré»˜è®¤è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.automaticallyAdjustsScrollViewInsets = <span class="literal">NO</span>;</div><div class="line"><span class="keyword">self</span>.edgesForExtendedLayout = <span class="built_in">UIRectEdgeNone</span>;</div><div class="line">- (<span class="built_in">UIEdgeInsets</span>)contentInset </div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">UIEdgeInsetsMake</span>(<span class="number">64</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç½‘æ˜“äº‘éŸ³ä¹å¯åŠ¨åŠ¨ç”»</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">TestViewController *test = [[TestViewController alloc] init];</div><div class="line"><span class="built_in">UIWindow</span> *keyWindow = [<span class="built_in">UIApplication</span> sharedApplication].keyWindow;Â Â Â </div><div class="line">[<span class="built_in">UIView</span> transitionWithView:keyWindow duration:<span class="number">0.5</span> options:<span class="built_in">UIViewAnimationOptionTransitionFlipFromLeft</span> animations:^&#123;</div><div class="line">Â Â Â Â Â Â Â  [<span class="built_in">UIApplication</span> sharedApplication].keyWindow.rootViewController = test;</div><div class="line">&#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">Â Â Â Â Â Â Â  </div><div class="line">&#125;];</div></pre></td></tr></table></figure>
</li>
<li><p>UITableViewCell &amp;&amp; UITableView &amp;&amp; UITableViewController<br>table view cellé€‰ä¸­èƒŒæ™¯</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setSelected:(<span class="built_in">BOOL</span>)selected animated:(<span class="built_in">BOOL</span>)animated </div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> setSelected:selected animated:animated];</div><div class="line">    <span class="keyword">if</span> (selected) &#123;</div><div class="line">    	<span class="comment">// é€‰ä¸­</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    	<span class="comment">// éé€‰ä¸­</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>table view cell å·¦å³é—´è·,ä¸å¡«å……æ•´ä¸ªtable view</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setFrame:(<span class="built_in">CGRect</span>)frame</div><div class="line">&#123;</div><div class="line">    frame.origin.x = LEFT_MARGIN;</div><div class="line">    frame.size.width = kScreenWidth - LEFT_MARGIN * <span class="number">2</span>;</div><div class="line">    [<span class="keyword">super</span> setFrame:frame];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>table view cell åˆ†å‰²çº¿</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ–¹æ³•1,é‡å†™drawRectæ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect </div><div class="line">&#123;</div><div class="line">Â Â Â  <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line">Â Â Â  <span class="built_in">CGContextSetFillColorWithColor</span>(context, [<span class="built_in">UIColor</span> clearColor].CGColor);</div><div class="line">Â Â Â  <span class="built_in">CGContextFillRect</span>(context, rect);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  <span class="comment">//ä¸Šåˆ†å‰²çº¿</span></div><div class="line">Â Â Â  <span class="built_in">CGContextSetStrokeColorWithColor</span>(context,[<span class="built_in">UIColor</span> whiteColor].CGColor);</div><div class="line">Â Â Â  <span class="built_in">CGContextStrokeRect</span>(context,<span class="built_in">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,rect.size.width,<span class="number">1</span>));</div><div class="line">Â Â Â </div><div class="line">Â Â Â  <span class="comment">//ä¸‹åˆ†å‰²çº¿</span></div><div class="line">Â Â Â  <span class="built_in">CGContextSetStrokeColorWithColor</span>(context,[<span class="built_in">UIColor</span> whiteColor].CGColor);</div><div class="line">Â Â Â  <span class="built_in">CGContextStrokeRect</span>(context,<span class="built_in">CGRectMake</span>(<span class="number">0</span>,rect.size.height<span class="number">-1</span>,rect.size.width,<span class="number">1</span>)); </div><div class="line">&#125;</div><div class="line"><span class="comment">// æ–¹æ³•2,éšè—è‡ªå¸¦åˆ†å‰²çº¿,ç„¶åå†content viewçš„layerä¸Šæ·»åŠ 1åƒç´ çš„layer</span></div></pre></td></tr></table></figure>
<p>table view é»˜è®¤è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// èƒŒæ™¯è‰²</span></div><div class="line">tableView.backgroundColor = [<span class="built_in">UIColor</span> viewBackgroundColor];</div><div class="line"><span class="comment">// åˆ†å‰²çº¿æ ·å¼å»é™¤</span></div><div class="line">tableView.separatorStyle = <span class="built_in">UITableViewCellSeparatorStyleNone</span>;</div><div class="line"><span class="comment">// è¡¨å°¾å»é™¤</span></div><div class="line">tableView.tableFooterView = [<span class="built_in">UIView</span> new];</div><div class="line"><span class="comment">// è¡¨å¤´å»é™¤</span></div><div class="line">tableView.tableHeaderView = [<span class="built_in">UIView</span> new];</div><div class="line"><span class="comment">// åŒºå¤´é»˜è®¤æœ‰10é«˜åº¦,è®¾ç½®0æ— æ•ˆ,å¯ä»¥è®¾ç½®ä¸º0.01</span></div></pre></td></tr></table></figure>
<p>table view controller æ·»åŠ 3D Touch</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1.éµå¾ªä»£ç†`UIViewControllerPreviewingDelegate`</span></div><div class="line"><span class="comment">// 2.æ³¨å†Œcell</span></div><div class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath </div><div class="line">&#123;</div><div class="line">    DHCell *cell = [DHCell cellWithTableView:tableView];</div><div class="line">    <span class="comment">// æ³¨å†Œ</span></div><div class="line">    [<span class="keyword">self</span> registerForPreviewingWithDelegate:<span class="keyword">self</span> sourceView:cell];</div><div class="line">    <span class="keyword">return</span> cell;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 3.éœ€è¦è·³è½¬çš„ç›®æ ‡æ§åˆ¶å™¨</span></div><div class="line">- (<span class="built_in">UIViewController</span> *)previewingContext:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerPreviewing</span>&gt;)previewingContext viewControllerForLocation:(<span class="built_in">CGPoint</span>)location</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSIndexPath</span> *indexPath = [_tableView indexPathForCell:(<span class="built_in">UITableViewCell</span>* )[previewingContext sourceView]];</div><div class="line">	DestinationViewController *destinationVC = [[DestinationViewController alloc] init];</div><div class="line">	<span class="keyword">return</span> destinationVC;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 4.ç›®æ ‡æ§åˆ¶çš„æ“ä½œ,å†™åœ¨ç›®æ ‡æ§åˆ¶å™¨çš„å®ç°é‡Œé¢</span></div><div class="line">- (<span class="built_in">NSArray</span>&lt;<span class="keyword">id</span>&lt;<span class="built_in">UIPreviewActionItem</span>&gt;&gt; *)previewActionItems</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UIPreviewAction</span> * action1 = [<span class="built_in">UIPreviewAction</span> actionWithTitle:<span class="string">@"æ“ä½œ1"</span> style:<span class="built_in">UIPreviewActionStyleDefault</span> handler:^(<span class="built_in">UIPreviewAction</span> * _Nonnull action, <span class="built_in">UIViewController</span> * _Nonnull previewViewController) &#123;</div><div class="line">        DHLog(<span class="string">@"æ“ä½œ1"</span>);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    <span class="built_in">UIPreviewAction</span> * action2 = [<span class="built_in">UIPreviewAction</span> actionWithTitle:<span class="string">@"æ“ä½œ2"</span> style:<span class="built_in">UIPreviewActionStyleSelected</span> handler:^(<span class="built_in">UIPreviewAction</span> * _Nonnull action, <span class="built_in">UIViewController</span> * _Nonnull previewViewController) &#123;</div><div class="line">        DHLog(<span class="string">@"æ“ä½œ2"</span>);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    <span class="built_in">UIPreviewAction</span> * action3 = [<span class="built_in">UIPreviewAction</span> actionWithTitle:<span class="string">@"æ“ä½œ3"</span> style:<span class="built_in">UIPreviewActionStyleDestructive</span> handler:^(<span class="built_in">UIPreviewAction</span> * _Nonnull action, <span class="built_in">UIViewController</span> * _Nonnull previewViewController) &#123;</div><div class="line">        DHLog(<span class="string">@"æ“ä½œ3"</span>);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    <span class="built_in">NSArray</span> * actions = @[action1,action2,action3];</div><div class="line">    <span class="keyword">return</span> actions;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>app æ·»åŠ  <code>Shortcuts</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions</div><div class="line">&#123;</div><div class="line">	<span class="built_in">UIApplicationShortcutItem</span> *addItem = [[<span class="built_in">UIApplicationShortcutItem</span> alloc] initWithType:SHORTCUT_TYPE_ADD localizedTitle:<span class="string">@"æ·»åŠ "</span> localizedSubtitle:<span class="literal">nil</span> icon:	[<span class="built_in">UIApplicationShortcutIcon</span> iconWithType:<span class="built_in">UIApplicationShortcutIconTypeAdd</span>]</div><div class="line">	userInfo:@&#123;<span class="string">@"infoKey"</span>: <span class="string">@"infoValue"</span>&#125;];</div><div class="line">	[<span class="built_in">UIApplication</span> sharedApplication].shortcutItems = @[addItem];</div><div class="line">	<span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line"></div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)application:(<span class="built_in">UIApplication</span> *)application performActionForShortcutItem:(<span class="built_in">UIApplicationShortcutItem</span> *)shortcutItem completionHandler:(<span class="keyword">void</span>(^)(<span class="built_in">BOOL</span> succeeded))completionHandler</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> ([shortcutItem.type isEqualToString:SHORTCUT_TYPE_ADD]) &#123;</div><div class="line">    	<span class="comment">// do something</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIFont<br>æ·»åŠ è‡ªå®šä¹‰å­—ä½“<br>ç¬¬ä¸€æ­¥,Info.plistæ·»åŠ <code>Fonts provided by application</code> array,<code>item0</code>key,value ä¸ºå­—ä½“æ–‡ä»¶åç§°å…¨å†™;<br>ç¬¬äºŒæ­¥,æ‰“å°æ‰€ä»¥å­—ä½“,æ‰¾åˆ°è‡ªå®šä¹‰å­—ä½“æ‰€åœ¨familyåç§°,æ ¹æ®åç§°æ‰¾åˆ°å…·ä½“å­—çš„åç§°;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> *familays = [<span class="built_in">UIFont</span> familyNames];</div><div class="line">NAArray *names = [<span class="built_in">UIFont</span> fontNamesForFamilyName:familyName];</div></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰æ­¥,åŠ è½½å­—ä½“.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIfont</span> *customFont = [<span class="built_in">UIFont</span> fontWithName:fontName size:fontSize];</div></pre></td></tr></table></figure></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[UIWebViewæ¸…é™¤ç¼“å­˜]]></title>
      <url>https://jiangdaohong.github.io/2016/10/22/UIWebView%E6%B8%85%E9%99%A4%E7%BC%93%E5%AD%98/</url>
      <content type="html"><![CDATA[<p>webviewæ¸…ç†ç¼“å­˜çš„æ­£ç¡®å§¿åŠ¿<br><a id="more"></a></p>
<p>æœ€è¿‘é¡¹ç›®ä¸­åŠ äº†ä¸å°‘ç½‘é¡µ,æœ‰ä¸€äº›å†…å®¹ç»å¸¸å˜åŠ¨,æœªèƒ½åŠæ—¶åˆ·æ–°,ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ–¹æ³•,åŒ…æ‹¬æ¸…é™¤<code>NSURLCache</code>å’Œå†™<code>js</code>è¿›è¡Œæ¸…é™¤,æˆ–è€…åŠ è½½ä¹‹å‰è¿›è¡Œ<code>reload</code>æ“ä½œ,å‘ç°éƒ½æ²¡æ•ˆæœ,å…³æ‰ç½‘ç»œè¿˜æ˜¯å¯ä»¥åŠ è½½å‡ºæ¥ğŸ˜¶åæ¥å‘ç°æƒ³çš„å¤æ‚äº†,ç›´æ¥åˆå§‹åŒ–<code>request</code>çš„æ—¶å€™ç¼“å­˜ç­–ç•¥é€‰æ‹©å¿½ç•¥æœ¬åœ°ç¼“å­˜å°±å¥½äº†,ä¸€å£°å¹æ¯â€¦<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSURLRequest</span> *request = [[<span class="built_in">NSURLRequest</span> alloc] initWithURL:[<span class="built_in">NSURL</span> URLWithString:urlStr] cachePolicy:<span class="built_in">NSURLRequestReloadIgnoringLocalCacheData</span> timeoutInterval:HTTP_REQUSET_TIMEOUT_INTERVAL];</div><div class="line">[webView loadRequest:request];</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é¡¹ç›®å¼€å‘ä¸­çš„GCDå®æˆ˜åº”ç”¨]]></title>
      <url>https://jiangdaohong.github.io/2016/10/22/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84GCD%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8/</url>
      <content type="html"><![CDATA[<p>æ•´ç†ä¸€ä¸‹é¡¹ç›®ä¸­GCDçš„åº”ç”¨<br><a id="more"></a></p>
<p>GCDæ˜¯appleæä¾›çš„ä¸€ç»„Cè¯­è¨€çš„API,ä¸»è¦ç”¨äºå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½,æ¯”å¦‚å¹¶å‘ç¼–ç¨‹ç­‰,è™½ç„¶æ˜¯Cè¯­è¨€çš„æ¥å£,ä½†æ˜¯ç»è¿‡blockå°è£…,è°ƒç”¨ååˆ†æ–¹ä¾¿,å› æ­¤åœ¨é¡¹ç›®ä¸­åº”ç”¨ååˆ†å¹¿æ³›,ç°åœ¨æ€»ç»“ä¸€ä¸‹æˆ‘ä¸ªäººåœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨.</p>
<h3 id="å»¶è¿Ÿæ‰§è¡Œ"><a href="#å»¶è¿Ÿæ‰§è¡Œ" class="headerlink" title="å»¶è¿Ÿæ‰§è¡Œ"></a>å»¶è¿Ÿæ‰§è¡Œ</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSTimeInterval</span> delayTime = <span class="number">5</span>;</div><div class="line">dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayTime * <span class="built_in">NSEC_PER_SEC</span>)), 	dispatch_get_main_queue(), ^&#123;</div><div class="line">        <span class="comment">/// do someting on main thread</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="å¿«é€Ÿåˆ›å»ºå•ä¾‹"><a href="#å¿«é€Ÿåˆ›å»ºå•ä¾‹" class="headerlink" title="å¿«é€Ÿåˆ›å»ºå•ä¾‹"></a>å¿«é€Ÿåˆ›å»ºå•ä¾‹</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)shareInstance</div><div class="line">&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">id</span> shareInstance = <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        shareInstance = [[<span class="keyword">self</span> alloc] init];</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> shareInstance;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å¼‚æ­¥æ‰§è¡Œä»£ç "><a href="#å¼‚æ­¥æ‰§è¡Œä»£ç " class="headerlink" title="å¼‚æ­¥æ‰§è¡Œä»£ç "></a>å¼‚æ­¥æ‰§è¡Œä»£ç </h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">dispatch_sync</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">	<span class="comment">// do something ,global queue</span></div><div class="line">	<span class="built_in">dispatch_sync</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">		<span class="comment">// main thread</span></div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="é¡ºåºæ‰§è¡Œä»£ç -ç›¸å½“äºä½¿ç”¨NSOperationQueueçš„Dependency"><a href="#é¡ºåºæ‰§è¡Œä»£ç -ç›¸å½“äºä½¿ç”¨NSOperationQueueçš„Dependency" class="headerlink" title="é¡ºåºæ‰§è¡Œä»£ç (ç›¸å½“äºä½¿ç”¨NSOperationQueueçš„Dependency)"></a>é¡ºåºæ‰§è¡Œä»£ç (ç›¸å½“äºä½¿ç”¨<code>NSOperationQueue</code>çš„<code>Dependency</code>)</h3><p>1,2,3åŒæ—¶æ‰§è¡Œ,4æœ€åæ‰“å°<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">dispatch_group_t serviceGroup = dispatch_group_create();</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_enter(serviceGroup);</div><div class="line">Â Â Â  <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"1---%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</div><div class="line">Â Â Â Â Â Â Â  dispatch_group_leave(serviceGroup);</div><div class="line">Â Â Â  &#125;);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_enter(serviceGroup);</div><div class="line">Â Â Â  <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"2---%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</div><div class="line">Â Â Â Â Â Â Â  dispatch_group_leave(serviceGroup);</div><div class="line">Â Â Â  &#125;);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_enter(serviceGroup);</div><div class="line">Â Â Â  <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"3---%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</div><div class="line">Â Â Â Â Â Â Â  dispatch_group_leave(serviceGroup);</div><div class="line">Â Â Â  &#125;);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_notify(serviceGroup, dispatch_get_main_queue(), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"4----%@"</span>, [<span class="built_in">NSThread</span> currentThread]); </div><div class="line">Â Â Â  &#125;);</div></pre></td></tr></table></figure></p>
<p>1,2å¼‚æ­¥æ‰§è¡Œå®Œæ¯•å†å¼‚æ­¥æ‰§è¡Œ3,4<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">dispatch_queue_t</span> barrierQueue = dispatch_queue_create(<span class="string">"jiangdaohong.github.io"</span>, DISPATCH_QUEUE_CONCURRENT);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"1"</span>);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"2"</span>);</div><div class="line">    &#125;);</div><div class="line">    dispatch_barrier_async(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"dispatch_barrier_async test"</span>);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"3"</span>);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"4"</span>);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<h3 id="åŒæ­¥è¯·æ±‚"><a href="#åŒæ­¥è¯·æ±‚" class="headerlink" title="åŒæ­¥è¯·æ±‚"></a>åŒæ­¥è¯·æ±‚</h3><p>ç”±äºNSURLSessionæ²¡æœ‰æä¾›åŒæ­¥è¯·æ±‚,å¯ä»¥åˆ©ç”¨<code>semaphore</code>å®ç°åŒæ­¥è¯·æ±‚.<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSURLSession</span> *session = [<span class="built_in">NSURLSession</span> sharedSession];</div><div class="line"><span class="comment">// åˆ›å»ºä¿¡å·</span></div><div class="line">dispatch_semaphore_t semaphore = dispatch_semaphore_create(<span class="number">0</span>);</div><div class="line"><span class="built_in">NSURLSessionDataTask</span> *task = [session dataTaskWithRequest:request completionHandler:^(<span class="built_in">NSData</span> *data, <span class="built_in">NSURLResponse</span> *response, <span class="built_in">NSError</span> *error) &#123;</div><div class="line">    <span class="comment">// è®¾ç½®ä¿¡å·é‡</span></div><div class="line">    dispatch_semaphore_signal(semaphore);</div><div class="line">&#125;];</div><div class="line"></div><div class="line">[task resume];</div><div class="line"><span class="comment">// ç­‰å¾…</span></div><div class="line">dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div></pre></td></tr></table></figure></p>
<h3 id="å®šæ—¶å™¨-NSTimerä¸å‡†"><a href="#å®šæ—¶å™¨-NSTimerä¸å‡†" class="headerlink" title="å®šæ—¶å™¨(NSTimerä¸å‡†)"></a>å®šæ—¶å™¨(NSTimerä¸å‡†)</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å€’è®¡æ—¶æ—¶é—´</span></div><div class="line">__block <span class="keyword">int</span> timeout = <span class="number">60</span>;</div><div class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, <span class="number">0</span>, <span class="number">0</span>, queue);</div><div class="line"><span class="comment">// æ‰§è¡Œé—´éš”1s</span></div><div class="line">dispatch_source_set_timer(timer, dispatch_walltime(<span class="literal">NULL</span>, <span class="number">0</span>),<span class="number">1.0</span> * <span class="built_in">NSEC_PER_SEC</span>, <span class="number">0</span>);</div><div class="line">dispatch_source_set_event_handler(timer, ^&#123;</div><div class="line">    <span class="keyword">if</span>(timeout &lt;= <span class="number">0</span>)&#123;</div><div class="line">        <span class="comment">// å€’è®¡æ—¶ç»“æŸï¼Œå…³é—­</span></div><div class="line">        dispatch_source_cancel(timer);</div><div class="line">        <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">            <span class="comment">// ä¸»çº¿ç¨‹åˆ·æ–°UI</span></div><div class="line">        &#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">int</span> minutes = timeout / <span class="number">60</span>;</div><div class="line">        <span class="keyword">int</span> seconds = timeout % <span class="number">60</span>;</div><div class="line">        <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">            <span class="comment">// ä¸»çº¿ç¨‹åˆ·æ–°UI</span></div><div class="line">        &#125;);</div><div class="line">        timeout--;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">dispatch_resume(timer);</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é¡¹ç›®å¼€å‘ä¸­KVCçš„ç®€å•åº”ç”¨]]></title>
      <url>https://jiangdaohong.github.io/2016/10/03/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%ADKVC%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/</url>
      <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­æœ‰äº›æ—¶å€™ä½¿ç”¨KVC,å¯ä»¥èŠ‚çœå¾ˆå¤šçš„æ—¶é—´ç²¾åŠ›,å®ç°å¿«é€Ÿå¼€å‘</p>
<a id="more"></a>
<p>å‰ä¸€æ®µæ—¶é—´æœ‰åŒå­¦é—®æˆ‘,èƒ½ä¸èƒ½åœ¨ä¸è‡ªå®šä¹‰UIçš„æƒ…å†µä¸‹,ä¿®æ”¹ActionSheetæŒ‡å®štitleçš„é¢œè‰²,å½“æ—¶è¯´å¾ˆç®€å•å•Š,Runtimeè·å–å®ä¾‹å˜é‡åˆ—è¡¨,æ‰¾åˆ°è®¾ç½®æ ‡é¢˜é¢œè‰²çš„key,ä½¿ç”¨KVCå°±å¯ä»¥æå®š.</p>
<h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><p>ç¼–è¯‘æ¡ä»¶: Xcode7.3.1;Project Deployment Target:iOS8.0.</p>
<h3 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h3><ol>
<li><p>åˆå§‹åŒ–ä¸€ä¸ªActionSheet.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIActionSheet</span> *actionSheet = [[<span class="built_in">UIActionSheet</span> alloc] initWithTitle:<span class="string">@"title"</span> delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@"cancle"</span> destructiveButtonTitle:<span class="string">@"destructive"</span> otherButtonTitles:<span class="string">@"other"</span>,<span class="string">@"other1"</span>, <span class="literal">nil</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>è·å–å®ä¾‹å˜é‡åˆ—è¡¨,å¯ä»¥ä¸ºNSObjectæ·»åŠ ä¸€ä¸ªCategoryæ–¹æ³•,ç”¨äºæ‰“å°åˆ—è¡¨,å…·ä½“å®ç°å¦‚ä¸‹:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)printIvarList</div><div class="line">&#123;</div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">    Ivar *ivars = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;count);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;count; i++) &#123;</div><div class="line">        Ivar ivar = ivars[i];</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"name:%s------type:%s"</span>, ivar_getName(ivar),ivar_getTypeEncoding(ivar));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">name:_alertController------type:@<span class="string">"UIAlertController"</span></div><div class="line">name:_presenter------type:@<span class="string">"_UIAlertControllerShimPresenter"</span></div><div class="line">name:_retainedSelf------type:@<span class="string">"UIActionSheet"</span></div><div class="line">name:_actions------type:@<span class="string">"NSMutableArray"</span></div><div class="line">name:_cancelIndex------type:q</div><div class="line">name:_firstOtherButtonIndex------type:q</div><div class="line">name:_destructiveButtonIndex------type:q</div><div class="line">name:_actionSheetStyle------type:q</div><div class="line">name:_context------type:@</div><div class="line">name:_hasPreparedAlertActions------type:B</div><div class="line">name:_isPresented------type:B</div><div class="line">name:_alertControllerShouldDismiss------type:B</div><div class="line">name:_handlingAlertActionShouldDismiss------type:B</div><div class="line">name:_dismissingAlertController------type:B</div><div class="line">name:_delegate------type:@<span class="string">"&lt;UIActionSheetDelegate&gt;"</span>**</div></pre></td></tr></table></figure>
<p> ä¸€çœ‹ç»“æœ,å¥½æ°”å“¦,<code>UIAlertController</code>è¿™ä¸ªç±»æ˜¯iOS8ä¹‹åæ‰å…è®¸ä½¿ç”¨çš„,ç®—äº†,æ¢ç”¨è¿™ä¸ªç±»é‡æ–°æ‰“å°ä¸€ä¸‹å§,ç»è¿‡æµ‹è¯•,<code>UIAlertAction</code>è¿™ä¸ªç±»å«æœ‰å¯ä»¥è®¾ç½®æ ‡é¢˜çš„å±æ€§,å±æ€§åˆ—è¡¨å¤§æ¦‚æ˜¯é…±ç´«çš„:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">name:_checked------type:B</div><div class="line">name:_isPreferred------type:B</div><div class="line">name:_imageTintColor------type:@"UIColor"</div><div class="line">name:_titleTextColor------type:@"UIColor"</div><div class="line">name:_style------type:q</div><div class="line">name:_handler------type:@?</div><div class="line">name:_simpleHandler------type:@?</div><div class="line">name:_image------type:@"UIImage"</div><div class="line">name:_shouldDismissHandler------type:@?</div><div class="line">name:__descriptiveText------type:@"NSString"</div><div class="line">name:_contentViewController------type:@"UIViewController"</div><div class="line">name:_keyCommandInput------type:@"NSString"</div><div class="line">name:_keyCommandModifierFlags------type:q</div><div class="line">name:__representer------type:@"&lt;UIAlertActionViewRepresentation_Internal&gt;"</div><div class="line">name:__alertController------type:@"UIAlertController"</div></pre></td></tr></table></figure>
<p> é‡Œé¢æ‰¾ä¸€ä¸‹,_titleTextColorå°±æ˜¯å®ƒäº†.</p>
</li>
<li><p>æ‰¾åˆ°äº†å°±è¯•ä¸€ä¸‹å–½.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[ac1 setValue:[<span class="built_in">UIColor</span> redColor] forKeyPath:<span class="string">@"_titleTextColor"</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>runä¸€ä¸‹,å®Œç¾.</p>
</li>
<li>å…¶ä»–.<br> é€šè¿‡ç¬¬2æ­¥,å¯ä»¥çœ‹åˆ°åœ¨iOS8ä¸Šä½¿ç”¨<code>UIActionSheet</code>ä¹Ÿæ˜¯å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœçš„,å› ä¸ºå…¶ä¸­æœ‰_actionså¯ä»¥å¾—åˆ°ä¸€ä¸ª<code>UIAlertAction</code>çš„æ•°ç»„,é‡å¤ä¸Šè¿°æ­¥éª¤å³å¯å®Œæˆ,ä»¥åé€‚é…iOS7çš„åº”ç”¨è¶Šæ¥è¶Šå°‘äº†,ä¸è€ƒè™‘iOS7çš„é€‚é…,ä½¿ç”¨KVCå¯ä»¥ä¾¿æ·åœ°å®ç°è¿™ç§UIæ•ˆæœ,è¿˜æ˜¯ä¸é”™çš„.</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¯åˆ°æ·±å¤œ,æ€»æ˜¯æœ‰è¯æƒ³è¯´è¯´]]></title>
      <url>https://jiangdaohong.github.io/2016/10/02/%E6%AF%8F%E5%88%B0%E6%B7%B1%E5%A4%9C-%E6%80%BB%E6%98%AF%E6%9C%89%E8%AF%9D%E6%83%B3%E8%AF%B4%E8%AF%B4/</url>
      <content type="html"><![CDATA[<p>éšä¾¿å†™å†™å­—<br><a id="more"></a></p>
<p>æ¥æ­å·å·¥ä½œä¸€å¹´å¤šäº†,è®°å¾—ä¸Šæ¬¡åä¸€,è¿˜åœ¨åŠ ç­æè¿™ä¸ªé¡¹ç›®,ä¸€å¹´è¿‡å»äº†,è¿˜æ˜¯è¿™ä¸ªé¡¹ç›®,å¿ƒç´¯â€¦åšäº†å¾ˆä¹…çš„ä¸œè¥¿,æ²¡æ¥å¾—åŠä¸Šçº¿å°±è¢«ç äº†,è™½è¯´æ˜¯æ¬ç –,å¿ƒé‡Œæ€»è¿˜æ˜¯ä¸çˆ½çš„.ä¹‹å‰ä¸€ç›´æƒ³å†™åšå®¢,ä½†æ˜¯ç½‘ä¸Šå¤§ç‰›å¾ˆå¤š,åšå®¢å†™çš„å¾ˆå¥½,æˆ‘å†™å‡ºæ¥æœ‰ä»€ä¹ˆç”¨å‘¢?å†…å¿ƒè¿˜æ˜¯å¸Œæœ›è®°å½•ä¸€äº›ä¸œè¥¿.ç›´åˆ°å‰ä¸€æ®µæ—¶é—´æ¯”è¾ƒç©ºé—²,å°±æ­å»ºäº†è¿™ä¸ªåšå®¢.</p>
<p>é™¤äº†æƒ³æœ‰ä¸ªåœ°æ–¹è¯´è¯´è¯,ä¹‹å‰è®°å½•å¤šå¾ˆå¤šé›¶æ•£çš„ä¸œè¥¿,éƒ½ä¿å­˜åœ¨ç¬”è®°è½¯ä»¶é‡Œé¢,å‰ä¸€æ®µæ‰å‘ç°,é‡Œé¢å®åœ¨å¤ªä¹±äº†,æ­£å¥½å€Ÿç€æ•´ç†ä¸€ä¸‹,ä»¥åæŸ¥é˜…ä¹Ÿæ–¹ä¾¿.</p>
<p>å°±è¿™æ ·,è¯å” .</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è®°ä¸€æ¬¡å…³äºnull_resettableçš„æ€§èƒ½ä¼˜åŒ–]]></title>
      <url>https://jiangdaohong.github.io/2016/10/02/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%85%B3%E4%BA%8Enull-resettable%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨è¿›è¡Œé¡¹ç›®ä¼˜åŒ–çš„æ—¶å€™é‡åˆ°äº†å…³äºnull_resettableçš„å‘,è®°å½•ä¸€ä¸‹,ç”±äºä¹‹å‰ä»£ç ä¸åœ¨äº†,ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹å½“æ—¶çš„æƒ…å†µ.<br><a id="more"></a></p>
<p>æœ€è¿‘é¡¹ç›®è¦æ­£å¼ä¸Šçº¿,éœ€è¦è¿›è¡Œä¸€å®šçš„æ€§èƒ½æ–¹é¢çš„æµ‹è¯•,ç”±äºä¹‹å‰çš„æ•°æ®åŠ è½½çš„æ–¹æ¡ˆå‡ ç»å˜åŒ–,éƒ½æ²¡æœ‰å‡ºç°ä¸¥é‡çš„æ€§èƒ½é—®é¢˜,ä¹Ÿæ²¡æœ‰åœ¨æ„,ç»“æœä¸€æµ‹è¯•,ç»“æœè®©æˆ‘å¤§è·Œçœ¼é•œ:æ€§èƒ½ç®€ç›´å·®åˆ°å¤©è¾¹d(ï½¥ï½€Ï‰Â´ï½¥d*)!!!ç®€å•logä¸€ä¸‹çœ‹çœ‹é‚£é‡Œè€—æ—¶ä¸¥é‡.</p>
<h3 id="æµ‹è¯•ç¯å¢ƒ"><a href="#æµ‹è¯•ç¯å¢ƒ" class="headerlink" title="æµ‹è¯•ç¯å¢ƒ"></a>æµ‹è¯•ç¯å¢ƒ</h3><p>ç¡¬ä»¶:iPhone5C,ç³»ç»Ÿ,iOS9.0.2(è¶Šç‹±)<br>ç½‘ç»œ:è¾£é¸¡WiFiâ€¦<br>æ²¡æœ‰æ¨¡æ‹Ÿå™¨,ä¹‹å‰å¼•å…¥ç¬¬ä¸‰æ–¹è“ç‰™åº“,åªæœ‰çœŸæœºåŒ…,å‘â€¦,è¦ä¸ç„¶ç›´æ¥InstrumentsæŸ¥çœ‹äº†,ä¸è¿‡å½“æ—¶é¢„æµ‹ä¸æ˜¯å¤§é—®é¢˜,å°±ç›´æ¥logæŸ¥çœ‹äº†.</p>
<h3 id="ä¸»è¦è¿‡ç¨‹"><a href="#ä¸»è¦è¿‡ç¨‹" class="headerlink" title="ä¸»è¦è¿‡ç¨‹"></a>ä¸»è¦è¿‡ç¨‹</h3><p>æ€è·¯:ç”±äºä¹‹å‰æ˜¯é‡‡å–åˆ†æ®µåŠ è½½æ•°æ®,ä¹‹åé‡‡å–ä¸€æ¬¡æ€§åŠ è½½æ•°æ®,åŒæ—¶è¿›è¡Œ4ä¸ªç½‘ç»œè¯·æ±‚,å¯èƒ½åœ¨ç½‘ç»œæ–¹é¢æœ‰è€—æ—¶æ“ä½œ,åŒ…æ‹¬è¯·æ±‚æ•°æ®,è§£ææ•°æ®;å¦ä¸€ä¸ªå°±æ˜¯å­˜åœ¨é¢‘ç¹è°ƒç”¨æ–¹æ³•çš„ä½æ€§èƒ½,å¯¼è‡´è¿è¡Œæ…¢.<br>æµ‹è¯•æ•°æ®æ˜¯è¡€ç³–æ•°æ®,æ•°æ®æ—¶é—´è·¨åº¦ä¸ºä¸¤å¹´,æ¨¡æ‹Ÿæ•°æ®3600æ¡,ä¸»è¦åŒ…æ‹¬ç©ºè…¹è¡€ç³–æ•°æ®,ä»¥åŠæ•°æ®è®°å½•æ—¶é—´ç­‰,ç”¨äºç»˜åˆ¶æ›²çº¿å›¾,æ›²çº¿å›¾ä»¥å››å°æ—¶ä¸ºå•ä½è¿›è¡Œç»˜åˆ¶,å¯çŸ¥å…±æœ‰<code>365 * 2 * 6 = 4380</code>ä¸ªç‚¹éœ€è¦ç»˜åˆ¶,å…¶ä¸­åŒ…æ‹¬å¤§é‡çš„æ—¶é—´æ¯”è¾ƒ,å› ä¸ºåœ¨åŒä¸€æ—¶é—´åŒºé—´,æ¯”å¦‚4:00-8:00åªå…è®¸æœ‰ä¸€ä¸ªæ•°æ®è¿›è¡Œç»˜åˆ¶,å› æ­¤è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ•°æ®å»é‡æ“ä½œ.å¤§æ¦‚è¿‡ç¨‹ç†æ¸…ä¹‹å,æ‰“å°ä¸€ä¸‹æ—¶é—´:<br><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8e88oerjmj312e0megzu.jpg" alt=""></p>
<h3 id="å®šä½é—®é¢˜"><a href="#å®šä½é—®é¢˜" class="headerlink" title="å®šä½é—®é¢˜"></a>å®šä½é—®é¢˜</h3><p>ç®€å•çœ‹äº†ä¸€ä¸‹æ—¶é—´åˆ†å¸ƒ,æ€»å…±æœ‰18s,ç½‘ç»œéƒ¨åˆ†,ç½‘ç»œè¯·æ±‚7s,å…¶ä¸­æœ‰æ¥è¿‘1sçš„æ•°æ®è§£æè€—æ—¶;ç»˜å›¾éƒ¨åˆ†,ç©ºè…¹è¡€ç³–æ•°æ®ç”Ÿæˆè€—æ—¶10s.<br>è€—æ—¶ä»£ç :<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">DHLog(<span class="string">@"-----------fbgæ•°æ®å¼€å§‹------------"</span>);</div><div class="line">   __block <span class="built_in">NSMutableArray</span> *fbgVals = [<span class="built_in">NSMutableArray</span> array];</div><div class="line">   __block <span class="built_in">NSInteger</span> didAddIndex = <span class="number">-1</span>; <span class="comment">// æ ‡è®°æ˜¯å¦è¢«æ·»åŠ è¿‡</span></div><div class="line">   <span class="built_in">NSInteger</span> listCount = (<span class="built_in">NSInteger</span>)<span class="keyword">self</span>.weekRecords.count;</div><div class="line">   <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i = listCount<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">       <span class="comment">// ä»è¿œåˆ°è¿‘å–å‡ºæ—¶é—´</span></div><div class="line">       RecordBG *bg = <span class="keyword">self</span>.weekRecords[i];</div><div class="line">       <span class="built_in">NSDate</span> *currentDate = [bg.happenTime dotString2Date];</div><div class="line">       <span class="built_in">NSInteger</span> xPosition = [DHChartTool getXAxisPointWithHour:currentDate.hour];</div><div class="line">       </div><div class="line">       <span class="built_in">NSInteger</span> index = [<span class="built_in">NSDate</span> daysWithinEraFromDate:from toDate:currentDate] * <span class="number">6</span> + xPosition + <span class="number">6</span>;</div><div class="line">       <span class="keyword">if</span> (didAddIndex != index) &#123;</div><div class="line">           didAddIndex = index;</div><div class="line">           [fbgVals addObject:[[ChartDataEntry alloc] initWithValue:bg.fbg xIndex:index data:bg]];</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">   &#125;</div><div class="line">   DHLog(<span class="string">@"-----------fbgæ•°æ®OK------------"</span>);</div></pre></td></tr></table></figure></p>
<p>æŒ‰ç…§ä»¥ä¸Šæ€è·¯,ç»§ç»­æ‰“å°æ—¶é—´,æœ€åå®šä½é—®é¢˜ä»£ç <br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSInteger</span> index = [<span class="built_in">NSDate</span> daysWithinEraFromDate:from toDate:currentDate] * <span class="number">6</span> + xPosition + <span class="number">6</span>;</div></pre></td></tr></table></figure></p>
<p>è¿›å…¥çœ‹ä¸€ä¸‹è¿™è¡Œä»£ç çš„åŠŸèƒ½,ä¸»è¦ç”¨äºè®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ•´æ•°å¤©.ä»£ç å®ç°å¦‚ä¸‹:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">+ (<span class="built_in">NSInteger</span>)daysWithinEraFromDate:(<span class="built_in">NSDate</span> *) startDate toDate:(<span class="built_in">NSDate</span> *) endDate</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSCalendar</span> *cal = [<span class="built_in">NSCalendar</span> currentCalendar];</div><div class="line">    <span class="built_in">NSDate</span> *s = [[startDate dateStringWithFormatString:<span class="string">@"yyyy-MM-dd"</span>] string2DateWithFormat:<span class="string">@"yyyy-MM-dd"</span>];</div><div class="line">    <span class="built_in">NSDate</span> *e = [[endDate dateStringWithFormatString:<span class="string">@"yyyy-MM-dd"</span>] string2DateWithFormat:<span class="string">@"yyyy-MM-dd"</span>];</div><div class="line">    <span class="built_in">NSInteger</span> startDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                      inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:s];</div><div class="line">    <span class="built_in">NSInteger</span> endDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                    inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:e];</div><div class="line">    <span class="keyword">return</span> (endDay-startDay);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>çœ‹äº†ä¸€ä¸‹è¿™å‡ è¡Œä»£ç ,<code>[endDate dateStringWithFormatString:@&quot;yyyy-MM-dd&quot;]</code>ä¸»è¦ç”¨äºå»æ‰æ—¥æœŸçš„æ—¶åˆ†ç§’æ—¶é—´,<code>[cal ordinalityOfUnit:NSDayCalendarUnit inUnit:NSEraCalendarUnit forDate:s]</code>æ˜¯ç³»ç»Ÿæä¾›çš„æ–¹æ³•,è¿›è¡Œå•ç‹¬æµ‹è¯•,æ²¡å‘ç°é—®é¢˜.ä¸Šé¢çš„æ–¹æ³•å®ç°å¦‚ä¸‹:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSString</span> *)dateStringWithFormatString:(<span class="built_in">NSString</span> *)formatString &#123;</div><div class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</div><div class="line">    [dateFormatter setDateFormat:formatString];</div><div class="line">    <span class="keyword">return</span> [dateFormatter stringFromDate:<span class="keyword">self</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œåªæ˜¯å¯¹ç³»ç»Ÿæ–¹æ³•è¿›è¡Œç®€å•è°ƒç”¨,å•çœ‹ä»£ç æ²¡é—®é¢˜,æ¯ä¸ªæ–¹æ³•è¿›å…¥å¤´æ–‡ä»¶çœ‹ä¸€ä¸‹,å…¶ä¸­ä¸€ä¸ªå…³é”®å­—å¼•èµ·æ³¨æ„,æƒ³èµ·äº†ä¹‹å‰å¬è¯´è¿‡<code>NSDate</code>æœ‰æ€§èƒ½é—®é¢˜,å½“æ—¶æ²¡æ³¨æ„,ç°åœ¨çœ‹åˆ°è¿™ä¸ªå…³é”®å­—,çŒœæµ‹æ˜¯è¿™ä¸ªå±æ€§å¼•èµ·çš„æ€§èƒ½é—®é¢˜:</p>
<blockquote>
<p>NSDateFormatter.h<br>@property (null_resettable, copy) NSString *dateFormat;<br>ä½¿ç”¨null_resettableä¿®é¥°çš„å±æ€§,å­—é¢æ„ä¹‰,ä¸å¯é‡ç½®çš„,å®˜æ–¹é»˜è®¤ä½¿ç”¨è¿™ä¸ªå…³é”®å­—,å°±æ˜¯å‘Šè¯‰å¼€å‘è€…å°½é‡ä¸è¦é‡ç½®è¿™ä¸ªå±æ€§çš„å€¼,å› ä¸ºé‡ç½®éœ€è¦é‡å†™setå’Œget,é˜²æ­¢ä¸ºç©ºçš„æƒ…å†µä¸‹æ²¡æœ‰é»˜è®¤å€¼,å¥½äº†,å°±æ˜¯è¿™ä¸ªå‘.</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å®šä½åˆ°é—®é¢˜ä»£ç ,ä¼˜åŒ–è€ƒè™‘ä»ä¸¤æ–¹é¢å…¥æ‰‹,ä¸€æ˜¯é¿å…è°ƒç”¨è¿™ä¸ªæ–¹æ³•,äºŒæ˜¯æ›¿æ¢è¿™ä¸ªæ–¹æ³•çš„å®ç°,æ¢ç”¨æ›´å¥½æ€§èƒ½çš„å®ç°.åœ¨åŸå…ˆçš„ä»£ç ä¸­,æœ‰å¾ˆå¤šåœ°æ–¹è°ƒç”¨<code>[NSDate daysWithinEraFromDate: toDate:]</code>,è¿˜æœ‰å¾ˆå¤šåœ°æ–¹è°ƒç”¨æ—¥æœŸè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•.<br>é¦–å…ˆ,æŠŠç®€å•è°ƒç”¨æ—¥æœŸè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•æ”¹ä¸ºå­—ç¬¦ä¸²æˆªå–æ–¹æ³•,æ¯”å¦‚,åªéœ€è¦è·å–å¹´æœˆæ—¥çš„åœ°æ–¹å¯ä»¥è¿™æ ·è°ƒç”¨:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *dateStr = [[[[date dateByAddingDays:i] description] substringToIndex:<span class="number">10</span>] stringByReplacingOccurrencesOfString:<span class="string">@"-"</span> withString:<span class="string">@"/"</span>];</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·å°±å¯ä»¥æŠŠæ—¥æœŸè½¬æ¢ä¸ºyyyy-MM-ddæ ¼å¼,æ³¨æ„,éœ€è¦ä¿è¯dateçš„<code>description</code>è¿”å›æ ‡å‡†æ ¼å¼,é˜²æ­¢ä»–äººé‡å†™<code>description</code>å¸¦æ¥éšæ‚£,<br>å…¶æ¬¡,æŠŠéœ€è¦è¿›è¡Œè®¡ç®—æ—¥æœŸå·®çš„æ–¹æ³•æ”¹ä¸ºä¸‹é¢çš„å®ç°:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">+ (<span class="built_in">NSInteger</span>)dh_daysWithinEraFromDate:(<span class="built_in">NSString</span> *)startDate toDate:(<span class="built_in">NSString</span> *)endDate</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSCalendar</span> *cal = [<span class="built_in">NSCalendar</span> currentCalendar];</div><div class="line">    <span class="comment">// æˆªå–å¹´æœˆæ—¥</span></div><div class="line">    <span class="built_in">NSString</span> *start = [startDate substringToIndex:<span class="number">10</span>];</div><div class="line">    <span class="built_in">NSString</span> *end = [endDate substringToIndex:<span class="number">10</span>];</div><div class="line">    </div><div class="line">    <span class="keyword">static</span> <span class="built_in">NSDateFormatter</span> *formatter;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        formatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</div><div class="line">        [formatter setDateFormat:<span class="string">@"yyyy-MM-dd"</span>];</div><div class="line">        [formatter setLocale:[<span class="built_in">NSLocale</span> currentLocale]];</div><div class="line">    &#125;);</div><div class="line">    </div><div class="line">    <span class="comment">// è½¬æˆå»æ‰æ—¶åˆ†ç§’çš„æ—¥æœŸ</span></div><div class="line">    <span class="built_in">NSDate</span> *s = [formatter dateFromString:start];</div><div class="line">    <span class="built_in">NSDate</span> *e = [formatter dateFromString:end];</div><div class="line">    </div><div class="line">    <span class="built_in">NSInteger</span> startDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                      inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:s];</div><div class="line">    <span class="built_in">NSInteger</span> endDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                    inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:e];</div><div class="line">    <span class="keyword">return</span> (endDay-startDay);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ç»è¿‡è¿™ä¸€ç•ªä¿®æ”¹,ç»˜åˆ¶æ—¶é—´ç¼©çŸ­åˆ°äº†1.5s,ä½†æ˜¯ç½‘ç»œè¯·æ±‚æ—¶é—´å¤ªä¹…,æ¥ä¸‹æ¥å°±æ˜¯è¿›è¡Œæ•°æ®æœ¬åœ°ç¼“å­˜,ç½‘ç»œåˆ†æ®µåŠ è½½æ•°æ®ç­‰æ–¹é¢ç½‘ç»œéƒ¨åˆ†çš„ä¼˜åŒ–äº†.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Xcodeå‘½ä»¤è¡Œæ‰“åŒ…]]></title>
      <url>https://jiangdaohong.github.io/2016/09/25/Xcode%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%8C%85/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨å‘½ä»¤è¡Œè¿›è¡Œæ‰“åŒ…<br><a id="more"></a></p>
<h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>æœ€è¿‘å…¬å¸è¿›è¡Œå†…éƒ¨æµ‹è¯•,è¦æ±‚æ¯å¤©è¿›è¡ŒAppæ‰“åŒ…ä¸Šä¼ ,æœ¬æ¥æƒ³æ­å»ºä¸€ä¸ªCIç³»ç»Ÿ,ä½†æ˜¯å®åœ¨æ²¡æœ‰ç²¾åŠ›(å¥½å§,æ˜¯æ²¡æœ‰æˆåŠŸâ•®(â•¯_â•°)â•­,æ­å»ºåˆ°ä¸€åŠä¸‹è½½gitç­‰æ’ä»¶çš„æ—¶å€™ä¸€ç›´å‡ºé—®é¢˜,ä¸‹æ¬¡æœ‰æ—¶é—´å†æäº†),é¡¹ç›®ä¸å¤§,ä½†æ˜¯æ¯æ¬¡æ‰“åŒ…è¦10åˆ†é’Ÿ(é‡Œé¢æœ‰Swiftæ··ç¼–,å¤§å‘),å¿ä¸äº†äº†,ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹çœ‹åˆ°æœ‰ä¸€äº›ç¼–è¯‘ä¼˜åŒ–æŒ‡ä»¤,ç„¶åçœ‹CIçš„æ—¶å€™çœ‹åˆ°äº†è‡ªåŠ¨æ‰“åŒ…å‘½ä»¤,è¯•äº†ä¸€ä¸‹,æ‰“åŒ…æ—¶é—´å¯ä»¥ç¼©çŸ­åˆ°3åˆ†é’Ÿä»¥å†…,è®°å½•ä¸€ä¸‹è¿‡ç¨‹å§.</p>
<h3 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h3><ol>
<li>Xcodeä¸­ä¿®æ”¹ç¼–è¯‘é€‰é¡¹,ä¿®æ”¹ä¸ºå‘å¸ƒç‰ˆè¯ä¹¦å’Œæè¿°æ–‡ä»¶,æˆ–è€…ä¿®æ”¹ç¼–è¯‘Target</li>
<li>ç»ˆç«¯è¿›å…¥é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹</li>
<li>æ‰§è¡Œå‘½ä»¤xcodebuild clean</li>
<li><p>ç»§ç»­æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcodebuild -workspace appname.xcworkspace -scheme appname -configuration Release -derivedDataPath build</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯æœ‰workspaceçš„é¡¹ç›®çš„æŒ‡ä»¤,éœ€è¦å°†appnameæ›¿æ¢ä¸ºä½ çš„é¡¹ç›®å<br>å¦‚æœæœªä½¿ç”¨workspace,ç”¨ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcrun -sdk iphoneos PackageApplication -v build/Release-iphoneos/app.app -o /path/appname.ipa</div></pre></td></tr></table></figure>
<p>åé¢çš„æ˜¯è¾“å‡ºè·¯å¾„ä»¥åŠæ‰“åŒ…appçš„åå­—</p>
</li>
<li><p>é¡¹ç›®ä½¿ç”¨workspace,è¿›è¡Œipaè¾“å‡º,æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcrun -sdk iphoneos PackageApplication -v /ProjectPath/build/Build/Products/Release-iphoneos/appname.app -o /path/appname.ipa</div></pre></td></tr></table></figure>
<p>ProjectPathæ›¿æ¢ä¸ºä½ é¡¹ç›®çš„è·¯å¾„,ä¿è¯æ­¤è·¯å¾„ä¸‹é¢æœ‰Release-iphoneosç›®å½•</p>
</li>
<li>å‘å¸ƒé¡¹ç›®,æš‚æ—¶æ‰‹åŠ¨å‘å¸ƒğŸ˜¢</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[RevealçœŸæœºæŸ¥çœ‹app]]></title>
      <url>https://jiangdaohong.github.io/2016/09/23/Reveal%E7%9C%9F%E6%9C%BA%E6%9F%A5%E7%9C%8Bapp/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨Revealçš„åŸºæœ¬ä½¿ç”¨<br><a id="more"></a></p>
<h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ol>
<li>ä½¿ç”¨è®¾å¤‡:iPhone5C,ç³»ç»Ÿç‰ˆæœ¬iOS9.0.2</li>
<li>Revealç‰ˆæœ¬:1.6.3</li>
<li>Cydiaç‰ˆæœ¬:1.1.26;Reveal Loaderç‰ˆæœ¬:1.0.0-1</li>
<li>Xcodeç‰ˆæœ¬:7.3.1</li>
</ol>
<h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><ol>
<li>ä¸€å°è¶Šç‹±iOSè®¾å¤‡</li>
<li>Cydiaä¸‹è½½Reveal Loader,å¦‚æœä½ æ˜¯iOSæœ€æ–°çš„æ“ä½œç³»ç»Ÿ,å»ºè®®ä¸‹è½½æœ€æ–°çš„æ’ä»¶,<a href="https://github.com/heardrwt/RevealLoader" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></li>
<li>ä¸‹è½½<a href="http://revealapp.com/download/" target="_blank" rel="external">Reveal</a>,æŸ¥çœ‹å®˜æ–¹ä½¿ç”¨è¯´æ˜</li>
<li>ä¸€å®šä¿è¯Revealå’Œè¶Šç‹±è®¾å¤‡åœ¨åŒä¸€ç½‘ç»œç¯å¢ƒä¸‹</li>
</ol>
<h3 id="çœŸæœºæŸ¥çœ‹appæ­¥éª¤"><a href="#çœŸæœºæŸ¥çœ‹appæ­¥éª¤" class="headerlink" title="çœŸæœºæŸ¥çœ‹appæ­¥éª¤"></a>çœŸæœºæŸ¥çœ‹appæ­¥éª¤</h3><ol>
<li>ä¸‹è½½éœ€è¦æŸ¥çœ‹çš„app,è¿™é‡Œæ¼”ç¤ºæŸ¥çœ‹ç³»ç»Ÿçš„æ’­å®¢app</li>
<li>æ‰“å¼€ç³»ç»Ÿè®¾ç½®,æ‰¾åˆ°Reveal,åœ¨é‡Œé¢æ‰¾åˆ°éœ€è¦æŸ¥çœ‹çš„app, enable,ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤º.<br><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f861nvo8guj20hs0vkjt2.jpg" alt="Revealç•Œé¢"><br><img src="http://ww3.sinaimg.cn/large/72f96cbagw1f861ldv4ozj20hs0vkq5w.jpg" alt="revealæ’ä»¶ç•Œé¢"></li>
<li>æ‰“å¼€app</li>
<li>æ‰“å¼€Reveal,é€‰æ‹©è¿æ¥æŸ¥çœ‹çš„app,å¦‚ä¸‹å›¾<br><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f861pa9znxj20ia03qaam.jpg" alt="è¿æ¥Reveal"></li>
<li>è¿™æ ·å°±å¯ä»¥æŸ¥çœ‹appäº†,å¯ä»¥çœ‹åˆ°,æ’­å®¢appä¸­é—´éƒ¨åˆ†ä½¿ç”¨çš„æ§ä»¶åç§°ä»¥åŠå¸ƒå±€æ–¹å¼<br><img src="http://ww2.sinaimg.cn/large/72f96cbagw1f861qucaq1j21kw0v213g.jpg" alt="æŸ¥çœ‹appç•Œé¢"></li>
</ol>
<h3 id="ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼"><a href="#ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼" class="headerlink" title="ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼"></a>ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼</h3><p>ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„æ–¹å¼å¾ˆç®€å•,åªéœ€è¦é…ç½®ä¸€ä¸‹æ–­ç‚¹å³å¯,å®˜æ–¹ç»™å‡ºäº†æ•™ç¨‹,å¯ä»¥ç‚¹å‡»<a href="http://support.revealapp.com/kb/getting-started/load-the-reveal-server-via-an-xcode-breakpoint" target="_blank" rel="external">è¿™é‡Œ</a>æŸ¥çœ‹.</p>
<h3 id="ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤"><a href="#ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤" class="headerlink" title="ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤"></a>ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤</h3><ol>
<li>æ‰“å¼€Xcode,é€‰æ‹©<strong>View</strong> <strong>â†’ Navigators</strong> <strong>â†’ Show Breakpoint Navigator</strong></li>
<li>ç‚¹å‡» <strong>+</strong> æŒ‰é’®,é€‰æ‹©<strong>Add Symbolic Breakpoint</strong>,å¦‚ä¸‹å›¾<br><img src="http://ww1.sinaimg.cn/large/72f96cbagw1f862aw5twjj20ea06wabf.jpg" alt="æ·»åŠ å›¾ç‰‡"></li>
<li><p>è¿›è¡Œæ–­ç‚¹ç¼–è¾‘,å¦‚ä¸‹å›¾<br><img src="http://ww3.sinaimg.cn/large/72f96cbagw1f862cendfrj20q40egq6w.jpg" alt="ç¼–è¾‘æ–­ç‚¹"><br>  æ–­ç‚¹å‘½ä»¤:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expr (Class)NSClassFromString(@"IBARevealLoader") == nil ? (void )dlopen("/Applications/Reveal.app/Contents/SharedSupport/iOS-Libraries/RevealServer.framework/RevealServer", 0x2) : ((void)0)</div></pre></td></tr></table></figure>
<p>å¦‚æœå‘½ä»¤æ— æ•ˆ,å‚çœ‹<a href="http://support.revealapp.com/kb/getting-started/load-the-reveal-server-via-an-xcode-breakpoint" target="_blank" rel="external">å®˜æ–¹æ•™ç¨‹</a></p>
</li>
<li>è¿›è¡Œæ–­ç‚¹è®¾ç½®,å¦‚ä¸‹å›¾<br><img src="http://ww1.sinaimg.cn/large/72f96cbagw1f862fq6wfbj20s80ccgpf.jpg" alt="æ–­ç‚¹è®¾ç½®"></li>
<li>è¿è¡ŒXcode,æ¥ä¸‹æ¥çš„æ­¥éª¤æ˜¯é‡å¤çœŸæœºæŸ¥çœ‹appæ­¥éª¤4-5æ­¥.</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å®‰è£…Chisel]]></title>
      <url>https://jiangdaohong.github.io/2016/09/22/%E5%AE%89%E8%A3%85Chisel/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨Chiselçš„å®‰è£…è¿‡ç¨‹ä»¥åŠåŸºæœ¬çš„å‘½ä»¤<br><a id="more"></a></p>
<ol>
<li>ä½¿ç”¨ brew install chisel</li>
<li>è®°å½•é»˜è®¤å‘½ä»¤çš„å®‰è£…è·¯å¾„,é»˜è®¤è·¯å¾„æ˜¯ /usr/local/opt/chisel/libexec/fblldb.py</li>
<li>ç”¨vimæ‰“å¼€ <code>~./lldbinit</code> æ–‡ä»¶,å¦‚æœä¸å­˜åœ¨,æ–°å»ºæ­¤æ–‡ä»¶</li>
<li><p>åœ¨æ–‡ä»¶ä¸­æ·»åŠ å‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">command script <span class="keyword">import</span> å®‰è£…è·¯å¾„</div></pre></td></tr></table></figure>
</li>
<li><p>é‡å¯Xcode</p>
</li>
</ol>
<p>å®˜æ–¹åœ°å€ä»¥åŠå¸¸ç”¨å‘½ä»¤å‚è€ƒ:<a href="https://github.com/facebook/chisel" target="_blank" rel="external">https://github.com/facebook/chisel</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tips]]></title>
      <url>https://jiangdaohong.github.io/2016/08/19/tips/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// ä¸»çº¿ç¨‹</div><div class="line">if (pthread_main_np() == 0) returnnil;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//å¤„äºå¼€å‘é˜¶æ®µ</div><div class="line">#ifdef DEBUG</div><div class="line">#define DHLog(...) NSLog(VA_ARGS)</div><div class="line">#else</div><div class="line">//å¤„äºå‘å¸ƒé˜¶æ®µ</div><div class="line">#define DHLog(...)</div><div class="line">#endif</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//Format</div><div class="line">#define F(string, args...)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [NSString stringWithFormat:string, args]</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[123]]></title>
      <url>https://jiangdaohong.github.io/2016/08/19/hello%20world/</url>
      <content type="html"><![CDATA[<p>hello world</p>
]]></content>
    </entry>
    
  
  
</search>
