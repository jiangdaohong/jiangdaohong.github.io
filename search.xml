<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[æµ…è°ˆiOSå¤æ‚åˆ—è¡¨ä¼˜åŒ–]]></title>
      <url>https://jiangdaohong.github.io./2017/05/14/%E6%B5%85%E8%B0%88iOS%E5%A4%8D%E6%9D%82%E5%88%97%E8%A1%A8%E4%BC%98%E5%8C%96/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹æœ€è¿›é¡¹ç›®æ”¹ç‰ˆçš„ä¸€äº›æ€è€ƒ<br><a id="more"></a></p>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>ç”±äºåŸæ¥é¦–é¡µåˆ—è¡¨éœ€æ±‚å¤šæ¬¡å¤§å˜åŠ¨,åŠ è½½<code>cell</code>çš„é€»è¾‘ä¹Ÿè·Ÿç€è°ƒæ•´äº†å¾ˆå¤šæ¬¡,<code>cell</code>çš„ç§ç±»ä»¥åŠå¸ƒå±€ä¹Ÿå˜åŒ–å¾ˆå¤§,è¿™æ¬¡åˆšå¥½è¿›è¡Œé‡æ„;è€Œä¸”,åŸæ¥çš„åŠ è½½æ–¹å¼ä¼šå¤§é‡è¿›è¡Œå­è§†å›¾ä¿®æ”¹,æœ‰ä¸€å®šçš„æ½œåœ¨æ€§èƒ½é—®é¢˜.</p>
<h3 id="éœ€æ±‚åˆ†æåŠç›®æ ‡"><a href="#éœ€æ±‚åˆ†æåŠç›®æ ‡" class="headerlink" title="éœ€æ±‚åˆ†æåŠç›®æ ‡"></a>éœ€æ±‚åˆ†æåŠç›®æ ‡</h3><ol>
<li><code>cell</code>å¸ƒå±€æ›´åŠ çµæ´»,ä»¥åå¢åŠ æ–°ç±»å‹ä¸éœ€è¦ä¿®æ”¹æ§åˆ¶å™¨ä»£ç é€»è¾‘,ç®€è¨€ä¹‹,è§†å›¾å’Œæ§åˆ¶å™¨è§£è€¦;</li>
<li>å®ç°ä»£ç å¤ç”¨</li>
<li>è§£å†³æ½œåœ¨æ€§èƒ½é—®é¢˜<br>åœ¨è¿›è¡Œcodingä¹‹å‰,å¯ä»¥å‚è€ƒä¸€ä¸‹å‡ ç¯‡æ–‡ç« ,é‡Œé¢å¯¹åˆ—è¡¨çš„è®ºè¿°å¤šæœ‰è£¨ç›Š:<br><a href="https://objccn.io/issue-1-1/" target="_blank" rel="external">æ›´è½»é‡çš„ View Controllers</a><br><a href="https://objccn.io/issue-1-2/" target="_blank" rel="external">æ•´æ´çš„ Table View ä»£ç </a><br><a href="http://blog.ibireme.com/2015/11/12/smooth_user_interfaces_for_ios/" target="_blank" rel="external">iOS ä¿æŒç•Œé¢æµç•…çš„æŠ€å·§</a></li>
</ol>
<p>å‰ä¸¤ç¯‡ä»‹ç»äº†å¦‚ä½•ç¼–å†™ä½è€¦åˆçš„<code>UITableView</code>ä»£ç çš„æ€æƒ³,æ ¸å¿ƒå°±æ˜¯:</p>
<ol>
<li>å°†å…¶<code>delegate</code>å’Œ<code>datasource</code>è¿›è¡Œç‹¬ç«‹,åˆ›å»ºå•ç‹¬çš„ç±»è¿›è¡Œç®¡ç†,è¿™ä¸ªç±»æ˜¯å¯ä»¥å¤ç”¨çš„,å¹¶ä¸”é€šè¿‡<code>blocks</code>çš„æ–¹æ³•è¿›è¡Œ<code>cell</code>çš„åˆ›å»ºäºèµ‹å€¼,è€Œæ§åˆ¶å™¨ä¸éœ€è¦äº†è§£<code>cell</code>çš„å®ç°;</li>
<li>å°†æ•°æ®æ“ä½œé›†ä¸­åˆ°å•ç‹¬åˆ›å»ºçš„ç±»ä¸­,è€Œæ•°æ®æ¨¡å‹æœ‰æ—¶å€™æºå¸¦çš„æ•°æ®è¿˜éœ€è¦é‡æ–°åŠ å·¥æ‰å¯ä»¥ä½¿ç”¨,ä¾‹å¦‚è¿”å›<code>yyyy-MM-dd HH:mm:ss</code>ç±»å‹çš„æ—¶é—´,è€Œæˆ‘ä»¬éœ€è¦çš„æ˜¯<code>yyyyå¹´MMæœˆddæ—¥</code>æ ¼å¼çš„å­—ç¬¦ä¸²,ç±»ä¼¼è¿™ç§å¤„ç†å¯ä»¥æ”¾åœ¨æ¨¡å‹çš„<code>category</code>ä¸­;</li>
<li>é¢å¯¹å¤æ‚çš„å¸ƒå±€,æ¯”å¦‚å½“å‰é¡µé¢ä¸­ä¼šæ˜¾ç¤ºå¤šä¸ªæ§åˆ¶å™¨è§†å›¾,ç±»ä¼¼<code>UITabBarController</code>ç»“æ„,æˆ‘ä»¬å¯ä»¥é‡‡ç”¨åŠ è½½<code>Child Controller</code>çš„æ–¹å¼,å°†å†…èšç¨‹åº¦é«˜çš„ä»£ç å†™åˆ°æ‰€å±æ§åˆ¶å™¨ä¸­;<br>è¿™æ ·,åŸºæœ¬ä¸Šå°±å¯ä»¥å†™å‡ºæ¯”è¾ƒå¥½,æ˜“äºæµ‹è¯•çš„<code>UITabelView</code>äº†,å…·ä½“çš„ä»£ç å¯ä»¥å‚è€ƒåŸæ–‡,è®²è¿°çš„å¾ˆè¯¦ç»†äº†.</li>
</ol>
<p>ç¬¬ä¸‰ç¯‡åšæ–‡ä¸»è¦è®²è§£äº†å¦‚ä½•è¿›è¡Œæ€§èƒ½ä¼˜åŒ–,æ€»ç»“ä¸‹æ¥å°±æ˜¯ä»¥ä¸‹å‡ ç‚¹:</p>
<ol>
<li>CPUè€—è´¹èµ„æºçš„åœ°æ–¹ä¸»è¦åœ¨<code>å¯¹è±¡åˆ›å»º</code>,<code>å¯¹è±¡è°ƒæ•´</code>,<code>å¯¹è±¡é”€æ¯</code>,<code>å¸ƒå±€è®¡ç®—</code>,<code>Autolayout</code>,<code>æ–‡æœ¬è®¡ç®—</code>,<code>æ–‡æœ¬æ¸²æŸ“</code>,<code>å›¾ç‰‡çš„è§£ç </code>,<code>å›¾åƒçš„ç»˜åˆ¶</code>ç­‰;</li>
<li>GPUèµ„æºçš„è€—è´¹ä¸»è¦é›†ä¸­åœ¨<code>çº¹ç†çš„æ¸²æŸ“</code>,<code>è§†å›¾çš„æ··åˆ</code>,<code>å›¾åƒçš„ç”Ÿæˆ</code><br>é’ˆå¯¹ä»¥ä¸Šå‡ ä¸ªæ–¹é¢,ä½œè€…ä¸€ä¸€ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆ,è¯¦ç»†å†…å®¹è¯·<a href="http://blog.ibireme.com/2015/11/12/smooth_user_interfaces_for_ios/" target="_blank" rel="external">å‚çœ‹åŸæ–‡</a><br>å€¼å¾—æ³¨æ„çš„æ˜¯ä½œè€…æå‡ºäº†<code>è¿‡æ—©çš„ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº</code>,å½“éœ€æ±‚ä¸æ˜æ˜¾æˆ–è€…æ€§èƒ½é—®é¢˜ä¸æ˜æ˜¾çš„æ—¶å€™å°½é‡ä¸è¦å°è¯•ä¼˜åŒ–,å¹¶ç»™å‡ºäº†è¯„æµ‹ç•Œé¢çš„æ–¹æ³•,å¼€æºäº†ä¸€ä¸ªæŸ¥çœ‹<code>FPS</code>çš„å°å·¥å…·,åœ°å€<a href="https://github.com/ibireme/YYText/blob/master/Demo/YYTextDemo/YYFPSLabel.m" target="_blank" rel="external">æˆ³ä¸€ä¸‹</a><br>ä½œè€…å¼€æºäº†ä¸€ä¸ªå¼€å‘å¥—ä»¶,éå¸¸ä¸é”™,é‡Œé¢é™„äº†ä¸€ä¸ªå¾®åšçš„Feedlist demo,ä»£ç å†™çš„éå¸¸æ¼‚äº®,å‡†å¤‡å€Ÿé‰´ä»–çš„åšæ³•,<a href="https://github.com/ibireme/YYKit" target="_blank" rel="external">demoåœ°å€</a></li>
</ol>
<h3 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h3><p>çœ‹ä¸€ä¸‹é¡µé¢åˆ—è¡¨,å¤§æ¦‚æ˜¯è¿™æ ·çš„:<br><img src="http://ww4.sinaimg.cn/large/006tKfTcly1ffl9xgm1hkj30ku0xeadx.jpg" alt="home page list"><br>é¦–é¡µè¿”å›çš„ç®€åŒ–æ•°æ®ç»“æ„:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DHHomeItemInfo</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *itemInfoId;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) DHHomeItemType type; <span class="comment">/**&lt; ç±»å‹:1ã€text 2ã€list*/</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *title;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSData</span> *content;     <span class="comment">/**&lt; è¿”å›çš„æ³›å‹æ•°æ®,æ ¹æ®typeè¿›è¡Œè§£æ*/</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) User *user;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSDate</span> *updateTime;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSUInteger</span> unreadTotal;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>ç°åœ¨<code>cell</code>è‡³å°‘æœ‰ä¸¤ç§å¸ƒå±€,ä¸€ç§æ ¹æ®<code>list</code>æ˜¾ç¤ºè‹¥å¹²<code>item</code>,ä¸€ç§æ˜¾ç¤ºä¸º<code>text</code>,æ ¹æ®ä¸Šå›¾å¯ä»¥å°† cell åˆ’åˆ†ä¸‰éƒ¨åˆ†:</p>
<ol>
<li>é¡¶éƒ¨æ˜¾ç¤ºæ ‡é¢˜,åŒ…æ‹¬å§“åä»¥åŠæŒ‡æ ‡çš„åç§°,æœªè¯»æ•°,æ—¥æœŸ,åˆ†å‰²çº¿,å®é™…ä¸Šè¿˜æœ‰ä¸€ä¸ªè¯Šæ–­çš„æŒ‰é’®, UI ä¸Šæ²¡æœ‰æ˜¾ç¤º,è¯Šæ–­å’Œæ ‡é¢˜æœ‰ç‚¹å‡»äº‹ä»¶;</li>
<li>ä¸­éƒ¨æ ¹æ®è¿”å›çš„æ•°æ®ç±»å‹,æ˜¾ç¤ºä¸ºæ–‡æœ¬æˆ–è€…è‹¥å¹² item, item æœ€å¤šæ˜¾ç¤º6ä¸ª,å¹¶ä¸”å¯èƒ½æœ‰ç‚¹å‡»äº‹ä»¶;</li>
<li>åº•éƒ¨æ˜¾ç¤ºç®­å¤´,é˜´å½±ä»¥åŠä¸€å®šçš„ç•™ç™½.</li>
</ol>
<p>é¦–å…ˆ,å®šä¹‰ä¸€ä¸ª<code>DHHomeCell</code>ç±»,ç”¨äºæ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®ç±»å‹,åœ¨ä¸»é¡µä¸­è¿›è¡Œè®¾ç½®;<br>æ¥ç€,å®šä¹‰ä¸€ä¸ª<code>DHHomeLayout</code>ç±»,ç”¨äºåœ¨å­çº¿ç¨‹è®¡ç®—<code>cell</code>çš„å¸ƒå±€ç­‰è€—æ—¶æ“ä½œ,<code>cell</code>é€šè¿‡<code>layout</code>å¯¹è±¡è¿›è¡Œå¯¹è±¡ç»‘å®š,é«˜åº¦è®¾ç½®;<br>æœ€å,å®šä¹‰ä¸€ä¸ª<code>DHHomeCellDelegate</code>,ç”¨äºä¼ é€’ç‚¹å‡»äº‹ä»¶.<br>è¿™æ ·,å°±æŠŠè§†å›¾,æ•°æ®å¤„ç†ä»¥åŠäº¤äº’è¿›è¡Œäº†åˆ†ç¦».</p>
<p><code>cell</code>ä¸­å¤§æ¦‚æ˜¯è¿™æ ·çš„:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@class</span> <span class="title">DHHomeCell</span>;</span></div><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">DHHomeCellDelegate</span>;</span></div><div class="line"></div><div class="line"><span class="comment">/// é¡¶éƒ¨</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DHHomeTitleView</span> : <span class="title">UIView</span></span></div><div class="line"><span class="comment">// ...é¡¶éƒ¨è§†å›¾å±æ€§</span></div><div class="line"><span class="comment">// æŒæœ‰çˆ¶è§†å›¾cell</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) DHHomeCell *cell;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="comment">/// ä¸­éƒ¨</span></div><div class="line"><span class="comment">/// æ–‡æœ¬</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DHHomeTextLabel</span> : <span class="title">UILabel</span></span></div><div class="line"><span class="comment">// ...è§†å›¾å±æ€§</span></div><div class="line"><span class="comment">// æŒæœ‰çˆ¶è§†å›¾cell</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) DHHomeCell *cell;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHHomeLayout *layout;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="comment">/// å•ç‹¬æŒ‡æ ‡çš„view</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">HDNewDataItemView</span> : <span class="title">UIView</span></span></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="comment">/// åº•éƒ¨è§†å›¾</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">HDHomeBottomView</span> : <span class="title">UIView</span></span></div><div class="line"><span class="comment">// ...è§†å›¾å±æ€§</span></div><div class="line"><span class="comment">// æŒæœ‰çˆ¶è§†å›¾cell</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) DHHomeCell *cell;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHHomeLayout *layout;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="comment">// å®¹å™¨ view</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DHHomeContentView</span>: <span class="title">UIView</span></span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIView</span> *contentView;               <span class="comment">/// å®¹å™¨</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHHomeTitleView *titleView;        <span class="comment">/// æ ‡é¢˜æ </span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHDiagnoseButton *diagnoseButton;  <span class="comment">/// è¯Šæ–­æŒ‰é’®</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSArray</span> *items;                    <span class="comment">///æŒ‡æ ‡ Array&lt;HDNewDataItemView&gt;</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHHomeTextLabel *contentTextLabel; <span class="comment">/// æ–‡æœ¬</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) HDHomeBottomView *contentTextLabel; <span class="comment">/// åº•éƒ¨</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHHomeLayout *layout; <span class="comment">/**&lt; å¸ƒå±€*/</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) DHHomeCell *cell;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DHHomeCell</span> : <span class="title">UITableViewCell</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) <span class="keyword">id</span>&lt;DHHomeCellDelegate&gt; delegate;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DHHomeContentView *dataContentView;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)setHomeLayout:(DHHomeLayout *)layout;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="comment">/// ä»£ç†æ–¹æ³•</span></div><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">DHHomeCellDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></div><div class="line"><span class="keyword">@optional</span></div><div class="line"><span class="comment">/// ç‚¹å‡»äº† Cell</span></div><div class="line">- (<span class="keyword">void</span>)cellDidClick:(DHHomeCell *)cell;</div><div class="line"><span class="comment">/// ç‚¹å‡»äº†ç”¨æˆ·</span></div><div class="line">- (<span class="keyword">void</span>)cell:(DHHomeCell *)cell didClickUser:(<span class="built_in">NSString</span> *)userId;</div><div class="line"><span class="comment">// ç‚¹å‡»è¯Šæ–­ä¿¡æ¯</span></div><div class="line">- (<span class="keyword">void</span>)cell:(DHHomeCell *)cell didClickDiagnose:(DiagnoseInfo *)info;</div><div class="line"><span class="comment">/// ç‚¹å‡»äº†item</span></div><div class="line">- (<span class="keyword">void</span>)cell:(DHHomeCell *)cell didClickNewDataItemAtIndex:(<span class="built_in">NSUInteger</span>)index;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>æ‰€æœ‰çš„è§†å›¾éƒ½é€šè¿‡<code>layout</code>çš„è®¡ç®—ç»“æœè¿›è¡Œå¸ƒå±€,å½“ä¸º<code>list</code>æ ·å¼,<code>cell</code>ä¸­çš„<code>HDNewDataItemView</code>ä¸ªæ•°ä¸ç¡®å®š,ç±»ä¼¼çš„,æ ¹æ®å¸¸è§çš„ä¹å®«æ ¼å¸ƒå±€,å¯ä»¥åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¸€æ¬¡æ€§æ·»åŠ  6 ä¸ªè¿™æ ·çš„å­è§†å›¾,é»˜è®¤å…¨éƒ¨éšè—,ç„¶åæ ¹æ®è¿”å›çš„<code>list</code>è¿›è¡Œæ˜¾ç¤º.</p>
<p>åœ¨<code>DHHomeLayout</code>ä¸­,å¯ä»¥å®šä¹‰ä¸€äº›å¤„ç†å¥½çš„æ•°æ®ä»¥åŠè®¡ç®—çš„<code>frame</code>ä½œä¸ºå±æ€§,æ–¹ä¾¿è¿›è¡Œç¼“å­˜å¤„ç†,å®ç°å¤§æ¦‚æ˜¯è¿™æ ·å­çš„:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å­çº¿ç¨‹è¿›è¡Œå¸ƒå±€</span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DHHomeLayout</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">instancetype</span>)initWithWorkspaceItem:(DHHomeItemInfo *)item style:(DHHomeItemType)type;</div><div class="line"></div><div class="line"><span class="comment">// åšä¸€äº›å…¶ä»–æ›´æ–°</span></div><div class="line">- (<span class="keyword">void</span>)updateSomething;</div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>, <span class="keyword">readonly</span>) DHHomeItemInfo *item;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>, <span class="keyword">readonly</span>) DHHomeLayoutStyle style;</div><div class="line"></div><div class="line"><span class="comment">// itemä¸­ä¸€äº›æ·±å±‚æ¬¡è®¿é—®çš„å¯¹è±¡,æˆ–è€…ç»è¿‡å¤„ç†çš„è‹¥å¹²å±æ€§,æ¯”å¦‚å¤„ç†å¥½çš„æ—¶é—´å­—ç¬¦ä¸²</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *updateTime;</div><div class="line"></div><div class="line"><span class="comment">// layout</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span> height; <span class="comment">/**&lt; æ€»é«˜åº¦*/</span></div><div class="line"></div><div class="line"><span class="comment">// é¡¶éƒ¨è§†å›¾é«˜åº¦ä»¥åŠå­è§†å›¾ä½ç½®ä¿¡æ¯</span></div><div class="line"><span class="comment">// ...è‹¥å¹²</span></div><div class="line"></div><div class="line"><span class="comment">// ä¸­éƒ¨è§†å›¾ä½ç½®ä¿¡æ¯</span></div><div class="line"><span class="comment">// ...è‹¥å¹²</span></div><div class="line"></div><div class="line"><span class="comment">// åº•éƒ¨è§†å›¾ä½ç½®ä¿¡æ¯</span></div><div class="line"><span class="comment">// ...è‹¥å¹²</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,å…¶ä¸­ä¸€äº›å±æ€§,æ¯”å¦‚å›¾ç‰‡ç›¸å…³çš„è®¾ç½®,æ˜¯éœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸­è¿›è¡Œçš„.ä¸€äº›ç»å¸¸ä½¿ç”¨çš„å›¾ç‰‡æˆ–è€…åˆ›å»ºè€—æ—¶çš„å¯¹è±¡å¯ä»¥ä½¿ç”¨<code>dispatch_once</code>ä»£ç å—è¿›è¡Œä¿å­˜,éƒ½å¯ä»¥è¿›è¡Œä¸€å®šçš„æ€§èƒ½ä¼˜åŒ–,å¦‚æœè¿˜æ˜¯å‡ºç°å¡é¡¿,ç¡®å®šé—®é¢˜å,å¯ä»¥å€ŸåŠ©å¼€æºçš„å¼‚æ­¥æ˜¾ç¤ºæ¡†æ¶è¿›è¡Œä¼˜åŒ–.<br>è°ƒç”¨èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·å­çš„:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">        DHHomeLayout *layout = [[DHHomeLayout alloc] initWithWorkspaceItem:item style:style];</div><div class="line">        [<span class="keyword">self</span>.layouts addObject:layout];</div><div class="line">        <span class="comment">// å¤šå¤åˆ¶ä¸€ä¸‹åˆ—è¡¨,æµ‹è¯•é•¿åº¦</span></div><div class="line">        <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">            [<span class="keyword">self</span>.layouts addObjectsFromArray:[<span class="keyword">self</span>.layouts <span class="keyword">copy</span>]];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">        	[<span class="keyword">self</span>.tableView reloadData];</div><div class="line">    	&#125;);</div><div class="line"></div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section &#123;</div><div class="line">    <span class="keyword">return</span> _layouts.count;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</div><div class="line"></div><div class="line">    <span class="built_in">NSString</span> *cellID = <span class="string">@"cell"</span>;</div><div class="line">    DHHomeCell *cell = [tableView dequeueReusableCellWithIdentifier:cellID];</div><div class="line">    <span class="keyword">if</span> (!cell) &#123;</div><div class="line">        cell = [[DHHomeCell alloc] initWithStyle:<span class="built_in">UITableViewCellStyleDefault</span> reuseIdentifier:cellID];</div><div class="line">        cell.delegate = <span class="keyword">self</span>;</div><div class="line">    &#125;</div><div class="line">    [cell setHomeLayout:_layouts[indexPath.row]];</div><div class="line">    <span class="keyword">return</span> cell;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</div><div class="line">    <span class="keyword">return</span> [(DHHomeLayout *)_layouts[indexPath.row] height];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä¸€å †ä»£ç†æ–¹æ³•...</span></div></pre></td></tr></table></figure></p>
<p>è¿™æ ·,åŸºæœ¬å®Œæˆäº†å¤æ‚åˆ—è¡¨çš„é‡æ„.<br>è¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªå·¥å…·ç±»æˆ–è€…<code>category</code>,å°†å¸¸ç”¨çš„å¤„ç†æ–¹æ³•è¿›è¡Œå°è£…,ä½¿ç”¨å·¥å…·ç±»å¤„ç†,å¯ä»¥æ–¹ä¾¿æµ‹è¯•ä»¥åŠä»£ç å¤ç”¨.</p>
<p>å¦‚æœä»¥åéœ€æ±‚å‡ºç°å˜åŠ¨,åªéœ€è¦<code>cell</code>æ·»åŠ æ–°è§†å›¾,<code>layout</code>è®¡ç®—æ–°çš„è§†å›¾çš„å¸ƒå±€,å¢åŠ æ–°çš„æšä¸¾ç±»å‹å³å¯å®Œæˆå¸ƒå±€.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[music]]></title>
      <url>https://jiangdaohong.github.io./2017/04/27/music/</url>
      <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/#/song?id=29431066&height=66"></iframe>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSå¼€å‘å¤‡å¿˜]]></title>
      <url>https://jiangdaohong.github.io./2017/03/11/iOS%E5%BC%80%E5%8F%91%E5%A4%87%E5%BF%98/</url>
      <content type="html"><![CDATA[<h3 id="èµ„æºåŠåšå®¢åˆ—è¡¨"><a href="#èµ„æºåŠåšå®¢åˆ—è¡¨" class="headerlink" title="èµ„æºåŠåšå®¢åˆ—è¡¨"></a>èµ„æºåŠåšå®¢åˆ—è¡¨</h3><ol>
<li><a href="https://www.objc.io" target="_blank" rel="external">objc</a></li>
<li><a href="https://objccn.io" target="_blank" rel="external">objcä¸­å›½</a></li>
<li><a href="http://nshipster.com" target="_blank" rel="external">nshipster</a></li>
<li><a href="http://nshipster.cn" target="_blank" rel="external">nshipsterä¸­å›½</a></li>
<li><a href="http://www.raywenderlich.com" target="_blank" rel="external">raywenderlich</a></li>
<li><a href="http://blog.devtang.com" target="_blank" rel="external">å”å·§çš„åšå®¢</a></li>
<li><a href="https://onevcat.com" target="_blank" rel="external">OneVâ€™s Den</a></li>
<li><a href="http://blog.txx.im/?from=inf&amp;wvr=5&amp;loc=infblog" target="_blank" rel="external">txxâ€™s blog</a></li>
<li><a href="http://xiangwangfeng.com" target="_blank" rel="external">é˜¿æ¯›çš„è›‹ç–¼åœ°</a></li>
<li><a href="https://nianxi.net" target="_blank" rel="external">ç¨‹åºå‘˜å¿µèŒœ</a></li>
<li><a href="https://nianxi.net" target="_blank" rel="external">YYçš„åšå®¢Garan no dou</a></li>
</ol>
<h3 id="runtimeä»¥åŠrun-loop"><a href="#runtimeä»¥åŠrun-loop" class="headerlink" title="runtimeä»¥åŠrun loop"></a>runtimeä»¥åŠrun loop</h3><h3 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h3><h3 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h3><h3 id="å¤šåª’ä½“"><a href="#å¤šåª’ä½“" class="headerlink" title="å¤šåª’ä½“"></a>å¤šåª’ä½“</h3><h3 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><h3 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h3><h3 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><h3 id="è®¾è®¡æ¨¡å¼ä»¥åŠæ¶æ„"><a href="#è®¾è®¡æ¨¡å¼ä»¥åŠæ¶æ„" class="headerlink" title="è®¾è®¡æ¨¡å¼ä»¥åŠæ¶æ„"></a>è®¾è®¡æ¨¡å¼ä»¥åŠæ¶æ„</h3><ol>
<li><a href="https://casatwy.com" target="_blank" rel="external">æ¨¡å—åŒ–</a>,ä¸»è¦è®²æ¨¡å—åŒ–çš„ä¸€äº›æ€æƒ³</li>
<li><a href="https://blog.cnbluebox.com" target="_blank" rel="external">åˆ˜å¤çš„æŠ€æœ¯åšå®¢</a>,ç½‘ç»œä»¥åŠå¸ƒå±€</li>
<li><a href="https://blog.maxleap.cn/archives/1044" target="_blank" rel="external">æ›´è½»çš„app delegate</a></li>
<li><a href="https://objccn.io/issue-1-0/" target="_blank" rel="external">æ›´è½»çš„view controller</a></li>
<li><a href="http://blog.csdn.net/uxyheaven/article/details/49226175" target="_blank" rel="external">iOSç²¾ç›Šç¼–ç¨‹</a></li>
</ol>
<h3 id="æºç è§£è¯»"><a href="#æºç è§£è¯»" class="headerlink" title="æºç è§£è¯»"></a>æºç è§£è¯»</h3><h3 id="OCä¸jsäº¤äº’"><a href="#OCä¸jsäº¤äº’" class="headerlink" title="OCä¸jsäº¤äº’"></a>OCä¸jsäº¤äº’</h3><h3 id="open-gl"><a href="#open-gl" class="headerlink" title="open gl"></a>open gl</h3><h3 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h3><h3 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h3><h3 id="å›¾æ–‡æ··æ’"><a href="#å›¾æ–‡æ··æ’" class="headerlink" title="å›¾æ–‡æ··æ’"></a>å›¾æ–‡æ··æ’</h3><h3 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h3><h3 id="æŒç»­é›†æˆ"><a href="#æŒç»­é›†æˆ" class="headerlink" title="æŒç»­é›†æˆ"></a>æŒç»­é›†æˆ</h3><h3 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h3><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[30åˆ†é’Ÿæ­£åˆ™è¡¨è¾¾å¼å…¥é—¨å­¦ä¹ ç¬”è®°]]></title>
      <url>https://jiangdaohong.github.io./2017/02/14/30%E5%88%86%E9%92%9F%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<p>é¡¹ç›®å¼€å‘ä¸­ç»ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼,ä½†æ˜¯æ²¡æœ‰ç³»ç»Ÿçœ‹è¿‡ä½¿ç”¨çš„æ–¹æ³•,çœ‹åˆ°ä¸€ä¸ªå¿«é€Ÿå…¥é—¨çš„ç½‘ç«™,åšä¸ªå­¦ä¹ ç¬”è®°.<br><a id="more"></a></p>
<p>è¿™äº›å†…å®¹ä½ å¯ä»¥åœ¨è¿™ä¸ª<a href="http://deerchao.net/tutorials/regex/regex.htm#mission" target="_blank" rel="external">åšå®¢</a>çœ‹åˆ°,è¿™æ˜¯æˆ‘çš„å­¦ä¹ ç¬”è®°</p>
<h3 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h3><p>ä¸¾ä¸ªä¾‹å­,å¦‚æœè¦åŒ¹é…ä¸€ç¯‡å°è¯´ä¸­<code>Hi</code>å‡ºç°çš„åœ°æ–¹,åœ¨å¿½ç•¥å¤§å°å†™çš„æƒ…å†µä¸‹,ç›´æ¥ç”¨è¡¨è¾¾å¼<code>hi</code>å°±å¥½äº†,åˆ†æä¸€äº›è¿™ä¸ªç®€å•çš„è¡¨è¾¾å¼:æ˜¯ä¸€ä¸ªåŒ…å«hå’Œiçš„å­—ç¬¦ä¸².è¿™æ ·åœ¨åº”ç”¨ä¸­å·²ç»å¯ä»¥ç®€å•ä½¿ç”¨äº†,æ˜¯çš„,æœ‰ä¸€ä¸ªğŸŒ°:æ¯”å¦‚è¿›è¡Œæ¨¡ç³Šæœç´¢çš„æ—¶å€™,éœ€è¦é«˜äº®æ˜¾ç¤ºæœç´¢çš„å…³é”®å­—,åœ¨iOSä¸­å¯ä»¥è¿™ä¹ˆå†™:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.titles = @[</div><div class="line">                   <span class="string">@"å“ˆå“ˆ"</span>,</div><div class="line">                   <span class="string">@"æœ‰æœ‰"</span>,</div><div class="line">                   <span class="string">@"å“ˆå“ˆ222"</span>,</div><div class="line">                   <span class="string">@"ç‰›é€¼"</span>,</div><div class="line">                   <span class="string">@"ä½ æ”¶å“ˆå“ˆfdkasnå“ˆå“ˆ"</span>,</div><div class="line">                   <span class="string">@"ä¸çŸ¥é“"</span>,</div><div class="line">                   <span class="string">@"æ²¡æœ‰"</span></div><div class="line">                   ];</div><div class="line">   <span class="built_in">NSString</span> *pattern = <span class="string">@"å“ˆå“ˆ"</span>;</div><div class="line">   <span class="comment">// ä¹Ÿå¯ä»¥å†™æˆ@"å“ˆ&#123;2&#125;"</span></div><div class="line">   <span class="keyword">for</span> (<span class="built_in">NSString</span> *string <span class="keyword">in</span> <span class="keyword">self</span>.titles) &#123;</div><div class="line">       <span class="built_in">NSMutableAttributedString</span> *attributed = [[<span class="built_in">NSMutableAttributedString</span> alloc] initWithString:string];</div><div class="line">       <span class="built_in">NSRegularExpression</span> *exp = [<span class="built_in">NSRegularExpression</span> regularExpressionWithPattern:pattern options:<span class="built_in">NSRegularExpressionCaseInsensitive</span> error:<span class="literal">nil</span>];</div><div class="line">       </div><div class="line">       <span class="built_in">NSArray</span> *ary = [exp matchesInString:string options:<span class="number">0</span> range:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, string.length)];</div><div class="line">       </div><div class="line">       <span class="keyword">for</span> (<span class="built_in">NSTextCheckingResult</span> *result <span class="keyword">in</span> ary) &#123;</div><div class="line">           [attributed addAttribute:<span class="built_in">NSForegroundColorAttributeName</span> value:[<span class="built_in">UIColor</span> redColor] range:result.range];</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       [<span class="keyword">self</span>.attributeTitles addObject:attributed];</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·å°±èƒ½ç®€å•åŒ¹é…å‡ºæ¥ç›®æ ‡å­—ç¬¦ä¸²å«æœ‰<code>å“ˆå“ˆ</code>çš„å­—ç¬¦æ‰€åœ¨çš„range,è€Œä¸”æ­£åˆ™è¡¨è¾¾å¼çš„è¡¨è¾¾æ–¹å¼ååˆ†ç®€æ´,åŒæ ·çš„åŠŸèƒ½,ä¸ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯èƒ½ä¼šå¢åŠ å¾ˆå¤šçš„ä»£ç .</p>
<h3 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h3><table>
<thead>
<tr>
<th>å…ƒå­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>åŒ¹é…é™¤äº†æ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦</td>
</tr>
<tr>
<td>\w</td>
<td>åŒ¹é…å­—ç¬¦,æ•°å­—,ä¸‹åˆ’çº¿,æ±‰å­—</td>
</tr>
<tr>
<td>\s</td>
<td>åŒ¹é…ç©ºç™½ç¬¦</td>
</tr>
<tr>
<td>\d</td>
<td>åŒ¹é…æ•°å­—</td>
</tr>
<tr>
<td>\b</td>
<td>åŒ¹é…å•è¯çš„å¼€å§‹ç¬¦æˆ–è€…ç»“æŸç¬¦</td>
</tr>
<tr>
<td>\B</td>
<td>åŒ¹é…éå­—ç¬¦è¾¹ç•Œ</td>
</tr>
<tr>
<td>^</td>
<td>åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</td>
</tr>
<tr>
<td>$</td>
<td>åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ</td>
</tr>
</tbody>
</table>
<p><a href="http://www.jianshu.com/p/4b2bad4ad3e8" target="_blank" rel="external">è¿™é‡Œ</a>æœ‰ä¸€äº›ä¾‹å­<br>æŸ¥æ‰¾ä»¥ä¸Šç‰¹æ®Šå­—ç¬¦éœ€è¦ä½¿ç”¨<code>\</code>è¿›è¡Œè½¬ä¹‰.</p>
<h3 id="é™å®šç¬¦"><a href="#é™å®šç¬¦" class="headerlink" title="é™å®šç¬¦"></a>é™å®šç¬¦</h3><table>
<thead>
<tr>
<th>é™å®šç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>é‡å¤è‡³å°‘0æ¬¡</td>
</tr>
<tr>
<td>+</td>
<td>é‡å¤è‡³å°‘1æ¬¡</td>
</tr>
<tr>
<td>?</td>
<td>é‡å¤0æ¬¡æˆ–è€…1æ¬¡</td>
</tr>
<tr>
<td>{n}</td>
<td>é‡å¤næ¬¡</td>
</tr>
<tr>
<td>{n,}</td>
<td>é‡å¤næ¬¡æˆ–è€…æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td>{n,m}</td>
<td>é‡å¤nåˆ°mæ¬¡</td>
</tr>
<tr>
<td>*?</td>
<td>0æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œä½†æ˜¯æ¬¡æ•°å°½å¯èƒ½å°‘ï¼Œä¾‹å¦‚æ­£åˆ™ï¼š<code>[\d]*?</code>,å¾…åŒ¹é…å­—ç¬¦ï¼š12345,åŒ¹é…æ¬¡æ•°6æ¬¡ï¼Œéƒ½æ˜¯ç©º</td>
</tr>
<tr>
<td>+?</td>
<td>1æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œä½†æ˜¯æ¬¡æ•°å°½å¯èƒ½å°‘ï¼Œä¾‹å¦‚æ­£åˆ™ï¼š<code>[\d]+?</code>,å¾…åŒ¹é…å­—ç¬¦ï¼š12345ï¼ŒåŒ¹é…æ¬¡æ•°5æ¬¡ï¼ŒåŒ¹é…ç»“æœæ˜¯ï¼š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5</td>
</tr>
<tr>
<td>??</td>
<td>0æ¬¡æˆ–1æ¬¡ï¼Œä¾‹å¦‚æ­£åˆ™ï¼š[\d]??,å¾…åŒ¹é…å­—ç¬¦ï¼š12345,åŒ¹é…æ¬¡æ•°6æ¬¡ï¼Œéƒ½æ˜¯ç©º</td>
</tr>
<tr>
<td>{n,m}</td>
<td>é‡å¤nåˆ°mæ¬¡</td>
</tr>
</tbody>
</table>
<p>å­—ç¬¦ç±»å¯ä»¥è½»æ¾è¡¨ç¤ºä¸€äº›å­—ç¬¦çš„é›†åˆ,æ¯”å¦‚<code>[0-9]</code>è¡¨ç¤º<code>\d</code>,å³è¡¨ç¤ºä¸€ä½æ•°å­—;<code>[a-z0-9A-Z]</code>çš„å«ä¹‰ä¸<code>\w</code>ä¸€è‡´,è¡¨ç¤ºå°å†™å­—æ¯a-z,æ•°å­—0-9ä»¥åŠå¤§å†™å­—æ¯A-Zçš„èŒƒå›´å†…çš„ä¸€ä½å­—ç¬¦.<br>æ‰¾ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åˆ†æä¸€ä¸‹:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">^[a-zA-Z]\w&#123;<span class="number">5</span>,<span class="number">15</span>&#125;$</div><div class="line">å«ä¹‰ä¸º:å¼€å¤´ä¸ºå¤§å°å†™çš„å­—æ¯,ç„¶åé•¿åº¦ä¸º<span class="number">5</span><span class="number">-15</span>ä½çš„ä¸ºè‹±æ–‡å¤§å°å†™æˆ–è€…æ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²</div><div class="line"></div><div class="line">[\u4E00-\u9FA5]</div><div class="line">å«ä¹‰:åŒ¹é…ä¸­æ–‡</div><div class="line"></div><div class="line">\d&#123;<span class="number">6</span>&#125;</div><div class="line">å«ä¹‰:<span class="number">6</span>ä½æ•°å­—</div></pre></td></tr></table></figure></p>
<h3 id="èµ„æ–™ç½‘ç«™"><a href="#èµ„æ–™ç½‘ç«™" class="headerlink" title="èµ„æ–™ç½‘ç«™"></a>èµ„æ–™ç½‘ç«™</h3><p><a href="http://regexr.com" target="_blank" rel="external">åœ¨çº¿è¡¨è¾¾å¼ç½‘ç«™</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[WebViewæˆªå›¾çš„ä¸€ç§æ€è·¯]]></title>
      <url>https://jiangdaohong.github.io./2017/02/13/WebView%E6%88%AA%E5%9B%BE%E7%9A%84%E4%B8%80%E7%A7%8D%E6%80%9D%E8%B7%AF/</url>
      <content type="html"><![CDATA[<p>ç½‘é¡µå®Œæ•´æˆªå›¾çš„æ–¹æ³•<br><a id="more"></a></p>
<p>é‚£å¤©æƒ³èµ·æ¥ä¸€ä¸ªAPPåˆ†äº«çš„æ—¶å€™ç”Ÿæˆä¸€å¼ é•¿å›¾,æƒ³è¯•ä¸€ä¸‹,å¼€å§‹æƒ³çš„å¾ˆç®€å•:åœ¨webviewåŠ è½½å®Œæˆçš„delegateé‡Œé¢,è·å–scroll viewçš„layer,ç„¶åæ ¹æ®å›¾å½¢ä¸Šä¸‹æ–‡è·å–image,ä¿å­˜ç›¸å†Œå³å¯.ç„¶è€Œ,å¤±è´¥äº†â•®(â•¯â–½â•°)â•­</p>
<h3 id="ç¬¬ä¸€ç§æ–¹æ³•-æ›´æ”¹scroll-viewçš„frameå†æˆªå›¾"><a href="#ç¬¬ä¸€ç§æ–¹æ³•-æ›´æ”¹scroll-viewçš„frameå†æˆªå›¾" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•:æ›´æ”¹scroll viewçš„frameå†æˆªå›¾"></a>ç¬¬ä¸€ç§æ–¹æ³•:æ›´æ”¹scroll viewçš„frameå†æˆªå›¾</h3><p>ä¸Šé¢ä¹‹æ‰€ä»¥æ— æ³•æˆªå›¾,æ˜¯å› ä¸ºscroll viewçš„layerçš„å®é™…éœ€è¦æˆªå›¾çš„layerä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿,è¿˜æ²¡æœ‰åŠ è½½å‡ºæ¥çš„é¡µé¢å¹¶æ²¡æœ‰æ˜¾ç¤ºåœ¨layerä¸Š?æ‰€ä»¥,åªè¦æ”¹å˜scroll viewçš„frame,ä½¿content sizeå’Œframeçš„sizeä¸€æ ·å°±å¥½äº†.æ ¸å¿ƒä»£ç :<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIImage</span> *)captureScrollView:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</div><div class="line">    <span class="built_in">UIImage</span>* image = <span class="literal">nil</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(scrollView.contentSize, <span class="literal">NO</span>, [<span class="built_in">UIScreen</span> mainScreen].scale);</div><div class="line">    <span class="built_in">CGPoint</span> originalContentOffset = scrollView.contentOffset;</div><div class="line">    <span class="built_in">CGRect</span> originalFrame = scrollView.frame;</div><div class="line">    scrollView.contentOffset = <span class="built_in">CGPointZero</span>;</div><div class="line">    scrollView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, scrollView.contentSize.width, scrollView.contentSize.height);    </div><div class="line">    </div><div class="line">    [scrollView.layer renderInContext: <span class="built_in">UIGraphicsGetCurrentContext</span>()];</div><div class="line">    image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();   </div><div class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</div><div class="line">        </div><div class="line">    scrollView.contentOffset = originalContentOffset;</div><div class="line">    scrollView.frame = originalFrame;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> image ? image : <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="KVCè·å–web-viewç§æœ‰å®¹å™¨å˜é‡"><a href="#KVCè·å–web-viewç§æœ‰å®¹å™¨å˜é‡" class="headerlink" title="KVCè·å–web viewç§æœ‰å®¹å™¨å˜é‡"></a>KVCè·å–web viewç§æœ‰å®¹å™¨å˜é‡</h3><p>web viewæ˜¯ä¸€ä¸ªçœ‹èµ·æ¥ç®€å•,å†…éƒ¨å¤æ‚çš„æ§ä»¶,è·å–ä¸€ä¸‹ç§æœ‰å˜é‡åˆ—è¡¨,ä¼šå‘ç°æœ‰ä¸€ä¸ª<code>_internal</code>ç§æœ‰å˜é‡,typeæ˜¯<code>UIWebViewInternal</code>,ç„¶ååœ¨<code>iOS runtime headers</code>å¯ä»¥çœ‹åˆ°è¿™ä¸ªç±»,ç‚¹å‡»<a href="https://github.com/search?utf8=âœ“&amp;q=repo%3Anst%2FiOS-Runtime-Headers+UIWebBrowserView&amp;type=Code&amp;ref=searchresults" target="_blank" rel="external">è¿™é‡Œ</a>,ç»§ç»­æŸ¥çœ‹è¿™ä¸ªç±»çš„ivar list,<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">name:scroller------type:<span class="string">@"UIScrollView"</span></div><div class="line">name:browserView------type:<span class="string">@"UIWebBrowserView"</span></div><div class="line">name:checkeredPatternView------type:<span class="string">@"UICheckeredPatternView"</span></div><div class="line">name:delegate------type:<span class="string">@"&lt;UIWebViewDelegate&gt;"</span></div><div class="line">name:scalesPageToFit------type:b1</div><div class="line">ame:isLoading------type:b1</div><div class="line">name:hasOverriddenOrientationChangeEventHandling------type:b1</div><div class="line">name:drawsCheckeredPattern------type:b1</div><div class="line">name:webSelectionEnabled------type:b1</div><div class="line">name:drawInWebThread------type:b1</div><div class="line">name:inRotation------type:b1</div><div class="line">name:didRotateEnclosingScrollView------type:b1</div><div class="line">name:request------type:<span class="string">@"NSURLRequest"</span></div><div class="line">name:clickedAlertButtonIndex------type:q</div><div class="line">name:webViewDelegate------type:<span class="string">@"UIWebViewWebViewDelegate"</span></div><div class="line">name:pdfHandler------type:<span class="string">@"UIWebPDFViewHandler"</span></div></pre></td></tr></table></figure></p>
<p>å¥½äº†,é€šè¿‡Xcodeå¯ä»¥çœ‹åˆ°,è¿›è¡Œweb viewå†…å®¹æ˜¾ç¤ºçš„å°±æ˜¯<code>UIWebBrowserView</code>è¿™ä¸ªç±»,æ¥ä¸‹æ¥å°±å¥½åŠäº†,ç›´æ¥ä¸Šä»£ç :<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// web view loading success</span></div><div class="line"><span class="built_in">UIView</span> *browser = [webView valueForKeyPath:<span class="string">@"_internal.browserView"</span>];</div><div class="line">   <span class="built_in">UIImage</span>* image = <span class="literal">nil</span>;</div><div class="line">   <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(browser.layer.frame.size, <span class="literal">NO</span>, [<span class="built_in">UIScreen</span> mainScreen].scale);</div><div class="line">   [browser.layer renderInContext: <span class="built_in">UIGraphicsGetCurrentContext</span>()];</div><div class="line">   image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</div><div class="line">   <span class="built_in">UIGraphicsEndImageContext</span>();</div></pre></td></tr></table></figure></p>
<p>KVCå¤§æ³•å¥½!QAQ~</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSç«¯åŠ è½½PDFæ–‡ä»¶å®è·µ]]></title>
      <url>https://jiangdaohong.github.io./2017/02/07/iOS%E7%AB%AF%E5%8A%A0%E8%BD%BDPDF%E6%96%87%E4%BB%B6%E5%AE%9E%E8%B7%B5/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®ä¸­éœ€è¦åŠ è½½PDFæ–‡ä»¶,é‡åˆ°ä¸€äº›å°é—®é¢˜,è®°å½•ä¸€ä¸‹.<br><a id="more"></a></p>
<h3 id="å¸¸è§åŠ è½½PDFçš„æ–¹å¼"><a href="#å¸¸è§åŠ è½½PDFçš„æ–¹å¼" class="headerlink" title="å¸¸è§åŠ è½½PDFçš„æ–¹å¼"></a>å¸¸è§åŠ è½½PDFçš„æ–¹å¼</h3><p>   iOSä¸Šé¢åŠ è½½PDFä¸€èˆ¬åˆ†ä¸ºä¸¤ç§æ–¹å¼,ä¸€ç§æ˜¯ä½¿ç”¨web view,åŠ è½½æœ¬åœ°PDFæ–‡ä»¶æˆ–è€…ç½‘ç»œPDFæ•°æ®;å¦ä¸€ç§å°±æ˜¯å°†PDFæ–‡ä»¶é‡æ–°ç»˜åˆ¶,ä½¿ç”¨è‡ªå®šä¹‰viewè¿›è¡Œæ˜¾ç¤º.ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜åŠ£:ç¬¬ä¸€ç§æ–¹å¼ç®€å•,ç²—æš´,æ²¡æœ‰ç¼–è¾‘çš„æ—¶å€™ä½¿ç”¨è¿™ç§æ–¹å¼è¿›è¡Œç®€å•PDFæµè§ˆ,èƒ½è¾¾åˆ°æ¯”è¾ƒå¥½çš„æ•ˆæœ,ç¼ºç‚¹æ˜¯ä¸èƒ½è¿›è¡Œç¼–è¾‘,æ˜¾ç¤ºçš„ä¿¡æ¯æ¯”è¾ƒç®€ç•¥,è€Œä¸”web viewæœ¬èº«æ˜¯æœ‰å†…å­˜é—®é¢˜çš„;è‡ªå®šä¹‰viewçš„çµæ´»æ€§æ¯”è¾ƒå¤§,ä¸€èˆ¬çš„é˜…è¯»è½¯ä»¶éƒ½æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼,å¯ä»¥åˆ†é¡µæ˜¾ç¤º,è¿›è¡Œç¼–è¾‘ç­‰æ“ä½œ,ç¼ºç‚¹æ˜¯ä¸ç¬¬ä¸€ç§æ–¹å¼ç›¸æ¯”ä¸‹,éœ€è¦å†™è¾ƒå¤šçš„ä»£ç ä»¥åŠè€ƒè™‘æ€§èƒ½ä¼˜åŒ–çš„é—®é¢˜.</p>
<h3 id="ä½¿ç”¨ç®€å•ç¤ºä¾‹"><a href="#ä½¿ç”¨ç®€å•ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç®€å•ç¤ºä¾‹"></a>ä½¿ç”¨ç®€å•ç¤ºä¾‹</h3><ol>
<li><p>ç¬¬ä¸€ç§æ–¹å¼ç¤ºä¾‹ä»£ç :</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSURL</span> *url = [[<span class="built_in">NSBundle</span> mainBundle] URLForResource:<span class="string">@"demo"</span> withExtension:<span class="string">@"pdf"</span>];</div><div class="line"><span class="built_in">NSURLRequest</span> *request = [[<span class="built_in">NSURLRequest</span> alloc] initWithURL:url];</div><div class="line">    [webView loadRequest:request];</div></pre></td></tr></table></figure>
<p>ç”±äºæœ‰çš„PDFæ˜¯æœ‰ç¼–ç çš„,é»˜è®¤ä½¿ç”¨çš„æ˜¯<code>UTF-8</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSData</span> * data = [<span class="built_in">NSData</span> dataWithContentsOfFile:url];</div><div class="line">[webView loadData:data MIMEType:<span class="string">@"application/pdf"</span> textEncodingName:<span class="string">@"UTF-8"</span> baseURL:url];</div></pre></td></tr></table></figure>
</li>
<li><p>ç¬¬äºŒç§æ–¹å¼ç¤ºä¾‹ä»£ç :<br>è¿™é‡Œæœ‰ä¸€ç¯‡<a href="http://blog.csdn.net/yiyaaixuexi/article/details/7645725" target="_blank" rel="external">åšå®¢</a>,<a href="https://github.com/ShadowLJia/PDFReader" target="_blank" rel="external">ç¤ºä¾‹ä»£ç </a><br> <a href="http://blog.csdn.net/yiyaaixuexi/article/details/8209188" target="_blank" rel="external">åˆ›å»ºPDFå¯†ç </a><br> <a href="http://blog.csdn.net/yiyaaixuexi/article/details/8035014" target="_blank" rel="external">PDFæ¨ªç«–å±åˆ‡æ¢</a><br>æ„Ÿè°¢å¿µèŒœå¤§ç¥çš„åšå®¢.<br>ç®€å•æ¥è¯´,å°±æ˜¯é¦–å…ˆæ‹¿åˆ°æ–‡ä»¶,è½¬ä¸ºdata,ç„¶åé€šè¿‡ç³»ç»Ÿå‡½æ•°è½¬ä¸º<code>CGContextRef</code>å¯¹è±¡,ç„¶å<code>CGPDFDocumentGetNumberOfPages()</code>å¯ä»¥è·å–åˆ°PDFçš„é¡µæ•°,ç„¶åé€šè¿‡é¡µæ•°,<code>CG_EXTERN CGPDFPageRef __nullable CGPDFDocumentGetPage(
 CGPDFDocumentRef __nullable document, size_t pageNumber)
 CG_AVAILABLE_STARTING(__MAC_10_3, __IPHONE_2_0)</code>å¯ä»¥è·å–åˆ°æŒ‡å®šé¡µçš„PDF,ç„¶åè¿›è¡ŒPDFç»˜åˆ¶å°±å¥½äº†.<br>è‡ªå®šä¹‰viewæ ¸å¿ƒä»£ç :</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect &#123;</div><div class="line">	<span class="comment">// åæ ‡ç³»è½¬æ¢</span></div><div class="line">    <span class="built_in">CGContextTranslateCTM</span>(context, <span class="number">0.0</span>, <span class="keyword">self</span>.bounds.size.height);</div><div class="line">	<span class="built_in">CGContextScaleCTM</span>(context, <span class="number">1.0</span>, <span class="number">-1.0</span>);</div><div class="line">	<span class="keyword">long</span> pageSum = <span class="built_in">CGPDFDocumentGetNumberOfPages</span>(pdfDocument);</div><div class="line">	pageNO = pageNO == <span class="number">0</span> ? <span class="number">1</span> : pageNo;</div><div class="line">	<span class="built_in">CGPDFPageRef</span> page = <span class="built_in">CGPDFDocumentGetPage</span>(pdfDocument, pageNO);</div><div class="line">	<span class="built_in">CGContextSaveGState</span>(context);</div><div class="line">	<span class="built_in">CGAffineTransform</span> pdfTransform = <span class="built_in">CGPDFPageGetDrawingTransform</span>(page, kCGPDFCropBox, <span class="keyword">self</span>.bounds, <span class="number">0</span>, <span class="literal">true</span>);</div><div class="line">	<span class="built_in">CGContextConcatCTM</span>(context, pdfTransform);</div><div class="line">	<span class="built_in">CGContextDrawPDFPage</span>(context, page);</div><div class="line">	<span class="built_in">CGContextRestoreGState</span>(context);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="ç¬¬äºŒç§æ–¹å¼çš„æ–°é—®é¢˜"><a href="#ç¬¬äºŒç§æ–¹å¼çš„æ–°é—®é¢˜" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼çš„æ–°é—®é¢˜"></a>ç¬¬äºŒç§æ–¹å¼çš„æ–°é—®é¢˜</h3><p>ä¸Šé¢å°±æ˜¯ä¸¤ç§å¸¸è§PDFçš„æ˜¾ç¤ºæ–¹å¼,ä½†æ˜¯ç¬¬äºŒç§å¦‚æœè¿™ä¹ˆå¤„ç†,ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜,å°±æ˜¯å¦‚æœè¿›è¡Œæ”¾å¤§å¤„ç†,PDFä¼šå¾ˆæ¨¡ç³Š,çœ‹äº†ä¸€ä¸‹<code>å¤šçœ‹</code>çš„PDFæ˜¾ç¤º,æ˜æ˜¾ä¸æ˜¯ä½¿ç”¨çš„ç¬¬ä¸€ç§æ–¹å¼,ä½†æ˜¯æ”¾å¤§ä¹‹åä¾ç„¶å¾ˆæ¸…æ™°,æ€ä¹ˆå¤„ç†çš„å‘¢?ç­”æ¡ˆæ˜¯ä½¿ç”¨<code>CATiledLayer</code>æ›¿æ¢è‡ªå®šä¹‰viewçš„layer.<br>ç§»åŠ¨è®¾å¤‡çš„å›¾ç‰‡å¤„ç†èƒ½åŠ›ç»ˆç©¶æ˜¯æœ‰é™çš„,å¦‚æœéœ€è¦æ˜¾ç¤ºä¸€å¼ åˆ†è¾¨ç‡éå¸¸é«˜çš„å›¾ç‰‡,ç›´æ¥ç”¨image viewåŠ è½½å¯èƒ½ä¼šçˆ†å†…å­˜,å¹¶ä¸”é€šå¸¸ä¸€å¼ å·¨å¤§çš„å›¾ç‰‡,æ¯”å¦‚åœ°å›¾,æˆ‘ä»¬ç»å¸¸æŸ¥çœ‹çš„æ˜¯ä¸€éƒ¨åˆ†è€Œä¸æ˜¯æ•´ä½“,ä¸ºäº†é«˜æ•ˆç»˜å›¾,è‹¹æœæä¾›äº†<code>CATiledLayer</code>ç±»,è¿™ä¸ªç±»å¯ä»¥å¾ˆå¥½åœ°è§£å†³æˆ‘ä»¬çš„é—®é¢˜.è¯¦ç»†è¯·å‚è€ƒè‹¹æœå®˜æ–¹æ–‡æ¡£æˆ–è€…<iosæ ¸å¿ƒåŠ¨ç”»é«˜çº§æŠ€å·§>çš„ä¸“ç”¨å›¾å±‚CATiledLayerç« èŠ‚.<br>ç¤ºä¾‹ä»£ç :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">+ (Class)layerClass &#123;</div><div class="line">    return [DHCATiledLayer class];</div><div class="line">&#125;</div><div class="line"></div><div class="line">//åˆå§‹åŒ–æ–¹æ³•</div><div class="line">- (id)initWithFrame:(CGRect)frame &#123;</div><div class="line">	self = [super initWithFrame:frame];</div><div class="line">	DHCATiledLayer* layer = (DHCATiledLayer *)[self layer];</div><div class="line">	layer.levelsOfDetail = 10;</div><div class="line">	layer.levelsOfDetailBias = 10;</div><div class="line">	layer.tileSize = CGSizeMake(4086.0, 4086.0);</div><div class="line">&#125;</div></pre></td></tr></table></figure></iosæ ¸å¿ƒåŠ¨ç”»é«˜çº§æŠ€å·§></p>
<p>è¿™ä¸ªç±»æœ‰éšå¼åŠ¨ç”»,é›†æˆå¹¶é‡å†™æ–¹æ³•,åŠ¨ç”»æ—¶é•¿ä¸º0å³å¯:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">+(<span class="built_in">CFTimeInterval</span>)fadeDuration &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a href="http://adad184.com/2015/11/10/disable-uicollectionview-implicit-animation/" target="_blank" rel="external">è¿™ç¯‡åšå®¢</a>é‡Œé¢å†™äº†å¦‚ä½•å»é™¤UIViewåŠ¨ç”»ä»¥åŠlayeråŠ¨ç”».</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¸¸è§é€»è¾‘è¿ç®—åŠç®—æ³•]]></title>
      <url>https://jiangdaohong.github.io./2016/12/20/%E5%B8%B8%E8%A7%81%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E5%8F%8A%E7%AE%97%E6%B3%95/</url>
      <content type="html"><![CDATA[<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> *  &amp; æŒ‰ä½ä¸ å¦‚æœä¸¤ä¸ªç›¸åº”çš„äºŒè¿›åˆ¶ä½éƒ½ä¸º1ï¼Œåˆ™è¯¥ä½çš„ç»“æœå€¼ä¸º1ï¼Œå¦åˆ™ä¸º0</div><div class="line"> *  | æŒ‰ä½æˆ– ä¸¤ä¸ªç›¸åº”çš„äºŒè¿›åˆ¶ä½ä¸­åªè¦æœ‰ä¸€ä¸ªä¸º1ï¼Œè¯¥ä½çš„ç»“æœå€¼ä¸º1</div><div class="line"> *  ^ æŒ‰ä½å¼‚æˆ– è‹¥å‚åŠ è¿ç®—çš„ä¸¤ä¸ªäºŒè¿›åˆ¶ä½å€¼ç›¸åŒåˆ™ä¸º0ï¼Œå¦åˆ™ä¸º1</div><div class="line"> *  ~ å–å ~æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œç”¨æ¥å¯¹ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æŒ‰ä½å–åï¼Œå³å°†0å˜1ï¼Œå°†1å˜0</div><div class="line"> *  &lt;&lt; å·¦ç§»ç”¨æ¥å°†ä¸€ä¸ªæ•°çš„å„äºŒè¿›åˆ¶ä½å…¨éƒ¨å·¦ç§»Nä½ï¼Œå³è¡¥0</div><div class="line"> *  &gt;&gt; å³ç§»å°†ä¸€ä¸ªæ•°çš„å„äºŒè¿›åˆ¶ä½å³ç§»Nä½ï¼Œç§»åˆ°å³ç«¯çš„ä½ä½è¢«èˆå¼ƒï¼Œå¯¹äºæ— ç¬¦å·æ•°ï¼Œé«˜ä½è¡¥0</div><div class="line"> */</div></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æœ‰æ•°ç»„å†…åªæœ‰ä¸€ä¸ªæ•°å­—å‡ºç°1æ¬¡,å…¶ä½™æ•°æ®å‡å‡ºç°3æ¬¡</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ones = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> twos = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++) &#123;</div><div class="line">        ones = (~twos) &amp; (ones ^ A[i]);</div><div class="line">        twos = (~ones) &amp; (twos ^ A[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ones;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¸¸è§layer]]></title>
      <url>https://jiangdaohong.github.io./2016/12/20/%E5%B8%B8%E8%A7%81layer/</url>
      <content type="html"><![CDATA[<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å›¾å½¢</span></div><div class="line"> <span class="keyword">self</span>.shapeLayer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    <span class="keyword">self</span>.shapeLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">300</span>);</div><div class="line">    <span class="keyword">self</span>.shapeLayer.backgroundColor = [<span class="built_in">UIColor</span> redColor].CGColor;</div><div class="line">    <span class="comment">//å†…éƒ¨å¡«å……é¢œè‰²</span></div><div class="line">    <span class="keyword">self</span>.shapeLayer.fillColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">    <span class="comment">//çº¿æ¡é¢œè‰²</span></div><div class="line">    <span class="keyword">self</span>.shapeLayer.strokeColor = [<span class="built_in">UIColor</span> orangeColor].CGColor;</div><div class="line">    <span class="built_in">CABasicAnimation</span> *animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="built_in">NSStringFromSelector</span>(<span class="keyword">@selector</span>(strokeEnd))];</div><div class="line">    animation.fromValue = @<span class="number">0</span>;</div><div class="line">    animation.toValue = @<span class="number">1</span>;</div><div class="line">    animation.duration = <span class="number">1</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">UIBezierPath</span> *path = [<span class="built_in">UIBezierPath</span> bezierPathWithArcCenter:<span class="built_in">CGPointMake</span>(<span class="number">100</span>, <span class="number">100</span>) radius:<span class="number">50</span> startAngle:<span class="number">0</span> endAngle:M_PI * <span class="number">2</span> clockwise:<span class="literal">YES</span>];</div><div class="line">    </div><div class="line">    path.lineWidth = <span class="number">5</span>;</div><div class="line">    path.lineJoinStyle = kCGLineJoinRound;</div><div class="line">    path.lineCapStyle = kCGLineCapRound;</div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    [path moveToPoint:<span class="built_in">CGPointMake</span>(<span class="number">60</span>, <span class="number">100</span>)];</div><div class="line">    [path addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">80</span>, <span class="number">125</span>)];</div><div class="line">    [path addLineToPoint:<span class="built_in">CGPointMake</span>(<span class="number">135</span>, <span class="number">80</span>)];</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.shapeLayer.path = path.CGPath;</div><div class="line">    [<span class="keyword">self</span>.shapeLayer addAnimation:animation forKey:<span class="literal">nil</span>];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.view.layer addSublayer:<span class="keyword">self</span>.shapeLayer];</div><div class="line">    </div><div class="line">    <span class="comment">// é‡å¤è§†å›¾</span></div><div class="line">    <span class="keyword">self</span>.replicatorLayer = [<span class="built_in">CAReplicatorLayer</span> layer];</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.backgroundColor = [<span class="built_in">UIColor</span> greenColor].CGColor;</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">150</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.instanceCount = <span class="number">8</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">CATransform3D</span> transform = <span class="built_in">CATransform3DIdentity</span>;</div><div class="line">    transform = <span class="built_in">CATransform3DTranslate</span>(transform, <span class="number">0</span>, <span class="number">200</span>, <span class="number">0</span>);</div><div class="line">    transform = <span class="built_in">CATransform3DRotate</span>(transform, M_PI / <span class="number">5.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    transform = <span class="built_in">CATransform3DTranslate</span>(transform, <span class="number">0</span>, <span class="number">-200</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.instanceTransform = transform;</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.replicatorLayer.instanceBlueOffset = <span class="number">-0.1</span>;</div><div class="line">    <span class="keyword">self</span>.replicatorLayer.instanceGreenOffset = <span class="number">-0.1</span>;</div><div class="line">    </div><div class="line">    <span class="built_in">CALayer</span> *layer = [<span class="built_in">CALayer</span> layer];</div><div class="line">    layer.frame = <span class="built_in">CGRectMake</span>(<span class="number">0.0</span>f, <span class="number">0.0</span>f, <span class="number">100.0</span>f, <span class="number">100.0</span>f);</div><div class="line">    layer.backgroundColor = [<span class="built_in">UIColor</span> whiteColor].CGColor;</div><div class="line">    [<span class="keyword">self</span>.replicatorLayer addSublayer:layer];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.testView.layer addSublayer:<span class="keyword">self</span>.replicatorLayer];</div></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ”¯ä»˜å®Œæˆä¹‹åå¯¹å‹¾åŠ¨ç”»</span></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">SuccessView</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">UIView</span> *_logoView;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> initWithFrame:frame]) &#123;</div><div class="line">        [<span class="keyword">self</span> drawSuccessLine];</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)drawSuccessLine&#123;</div><div class="line">    </div><div class="line">    [_logoView removeFromSuperview];</div><div class="line">    _logoView = [[<span class="built_in">UIView</span> alloc] initWithFrame:<span class="keyword">self</span>.frame];</div><div class="line">    <span class="comment">//æ›²çº¿å»ºç«‹å¼€å§‹ç‚¹å’Œç»“æŸç‚¹</span></div><div class="line">    <span class="comment">//1. æ›²çº¿çš„ä¸­å¿ƒ</span></div><div class="line">    <span class="comment">//2. æ›²çº¿åŠå¾„</span></div><div class="line">    <span class="comment">//3. å¼€å§‹è§’åº¦</span></div><div class="line">    <span class="comment">//4. ç»“æŸè§’åº¦</span></div><div class="line">    <span class="comment">//5. é¡º/é€†æ—¶é’ˆæ–¹å‘</span></div><div class="line">    <span class="built_in">UIBezierPath</span> *path = [<span class="built_in">UIBezierPath</span> bezierPathWithArcCenter:<span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.center.x, <span class="keyword">self</span>.center.y) radius:<span class="keyword">self</span>.frame.size.width/<span class="number">2.0</span> startAngle:<span class="number">0</span> endAngle:M_PI*<span class="number">2</span> clockwise:<span class="literal">YES</span>];</div><div class="line">    <span class="comment">//å¯¹æ‹è§’å’Œä¸­ç‚¹å¤„ç†</span></div><div class="line">    path.lineCapStyle  = kCGLineCapRound;</div><div class="line">    path.lineJoinStyle = kCGLineCapRound;</div><div class="line">    </div><div class="line">    <span class="comment">//å¯¹å·ç¬¬ä¸€éƒ¨åˆ†ç›´çº¿çš„èµ·å§‹</span></div><div class="line">    [path moveToPoint:<span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.frame.size.width/<span class="number">5</span>, <span class="keyword">self</span>.frame.size.width/<span class="number">2</span>)];</div><div class="line">    <span class="built_in">CGPoint</span> p1 = <span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.frame.size.width/<span class="number">5.0</span>*<span class="number">2</span>, <span class="keyword">self</span>.frame.size.width/<span class="number">4.0</span>*<span class="number">3</span>);</div><div class="line">    [path addLineToPoint:p1];</div><div class="line">    </div><div class="line">    <span class="comment">//å¯¹å·ç¬¬äºŒéƒ¨åˆ†èµ·å§‹</span></div><div class="line">    <span class="built_in">CGPoint</span> p2 = <span class="built_in">CGPointMake</span>(<span class="keyword">self</span>.frame.size.width/<span class="number">8.0</span>*<span class="number">7</span>, <span class="keyword">self</span>.frame.size.width/<span class="number">4.0</span>+<span class="number">8</span>);</div><div class="line">    [path addLineToPoint:p2];</div><div class="line">    </div><div class="line">    <span class="built_in">CAShapeLayer</span> *layer = [[<span class="built_in">CAShapeLayer</span> alloc] init];</div><div class="line">    <span class="comment">//å†…éƒ¨å¡«å……é¢œè‰²</span></div><div class="line">    layer.fillColor = [<span class="built_in">UIColor</span> clearColor].CGColor;</div><div class="line">    <span class="comment">//çº¿æ¡é¢œè‰²</span></div><div class="line">    layer.strokeColor = [<span class="built_in">UIColor</span> orangeColor].CGColor;</div><div class="line">    <span class="comment">//çº¿æ¡å®½åº¦</span></div><div class="line">    layer.lineWidth = <span class="number">5</span>;</div><div class="line">    layer.path = path.CGPath;</div><div class="line">    <span class="comment">//åŠ¨ç”»è®¾ç½®</span></div><div class="line">    <span class="built_in">CABasicAnimation</span> *animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="built_in">NSStringFromSelector</span>(<span class="keyword">@selector</span>(strokeEnd))];</div><div class="line">    animation.fromValue = @<span class="number">0</span>;</div><div class="line">    animation.toValue = @<span class="number">1</span>;</div><div class="line">    animation.duration = <span class="number">2</span>;</div><div class="line">    [layer addAnimation:animation forKey:<span class="built_in">NSStringFromSelector</span>(<span class="keyword">@selector</span>(strokeEnd))];</div><div class="line">    </div><div class="line">    [_logoView.layer addSublayer:layer];</div><div class="line">    [<span class="keyword">self</span> addSubview:_logoView];</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// é›·è¾¾åŠ¨ç”»</span></div><div class="line"><span class="keyword">self</span>.shapeLayer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    <span class="keyword">self</span>.shapeLayer.frame = <span class="built_in">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line">    <span class="built_in">CABasicAnimation</span> *anim1 = [<span class="built_in">CABasicAnimation</span> animation];</div><div class="line">    <span class="built_in">UIBezierPath</span> *path = [<span class="built_in">UIBezierPath</span> bezierPathWithRoundedRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>) cornerRadius:<span class="number">50</span>];</div><div class="line">    <span class="keyword">self</span>.shapeLayer.path = path.CGPath;</div><div class="line">    <span class="keyword">self</span>.shapeLayer.fillColor = [<span class="built_in">UIColor</span> redColor].CGColor;</div><div class="line">    anim1.keyPath = <span class="string">@"transform.scale"</span>;</div><div class="line">    anim1.fromValue = @<span class="number">0</span>;</div><div class="line">    anim1.toValue = @<span class="number">1</span>;</div><div class="line">    anim1.duration = <span class="number">2</span>;</div><div class="line">    anim1.repeatCount = MAXFLOAT;</div><div class="line">    </div><div class="line">    <span class="built_in">CABasicAnimation</span> *anim2 = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"opacity"</span>];</div><div class="line">    anim2.fromValue = @<span class="number">0.9</span>;</div><div class="line">    anim2.toValue = @<span class="number">0.1</span>;</div><div class="line">    anim2.duration = <span class="number">2</span>;</div><div class="line">    anim2.repeatCount = MAXFLOAT;</div><div class="line">    </div><div class="line">    <span class="built_in">CAAnimationGroup</span> *group = [<span class="built_in">CAAnimationGroup</span> animation];</div><div class="line">    group.animations = @[anim1, anim2];</div><div class="line">    group.removedOnCompletion = <span class="literal">NO</span>;</div><div class="line">    group.fillMode = kCAFillModeForwards;</div><div class="line">    group.duration = <span class="number">2</span>;</div><div class="line">    group.repeatCount = FLT_MAX;</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.shapeLayer addAnimation:group forKey:<span class="literal">nil</span>];</div><div class="line">    [<span class="keyword">self</span>.testView.layer addSublayer:<span class="keyword">self</span>.shapeLayer];</div></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[hexoå‘½åå¤‡å¿˜]]></title>
      <url>https://jiangdaohong.github.io./2016/12/20/hexo%E5%91%BD%E5%90%8D%E5%A4%87%E5%BF%98/</url>
      <content type="html"><![CDATA[<p>è¿™æ˜¯ç¬”è®°<br><a id="more"></a></p>
<p>æ–°å»ºè‰ç¨¿<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new draft &quot;new draft&quot;</div></pre></td></tr></table></figure></p>
<p>é¢„è§ˆè‰ç¨¿,ä¿®æ”¹é…ç½®æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">render_drafts: true</div></pre></td></tr></table></figure></p>
<p>æˆ–è€…ä»¥ä¸‹æ–¹å¼å¯åŠ¨server<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server --drafts</div></pre></td></tr></table></figure></p>
<p>æŠŠè‰ç¨¿å˜æˆæ–‡ç« <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo publish [layout] &lt;filename&gt;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¸ºpeek viewæ·»åŠ æ˜¾ç¤ºæ ‡é¢˜]]></title>
      <url>https://jiangdaohong.github.io./2016/12/11/%E4%B8%BApeek-view%E6%B7%BB%E5%8A%A0%E6%98%BE%E7%A4%BA%E6%A0%87%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>çœ‹åˆ°ä¸€äº›APP peekæ“ä½œçš„æ—¶å€™ä¼šæ˜¾ç¤ºæ ‡é¢˜,æ¨¡ä»¿ä¸€ä¸‹å–½.<br><a id="more"></a></p>
<p>åœ¨ç©APPçš„æ—¶å€™å‘ç°ä¸€äº›APPçš„peekå‡ºæ¥çš„é¡µé¢ä¸å¤ªä¸€æ ·,æ˜¾ç¤ºçš„æ˜¯æœ‰æ ‡é¢˜çš„,æ¯”å¦‚çŸ¥ä¹é¦–é¡µå’Œå¾®åšè¯„è®ºçš„æŒ‰é’®peekæ“ä½œ:</p>
<p><div align="center"><br><img src="http://ww2.sinaimg.cn/large/006tNc79gw1fan1wxdu44j305k027jr7.jpg" alt="weibo_peek"><br><img src="http://ww2.sinaimg.cn/large/006tNc79gw1fan1xn1ka9j305k025t8k.jpg" alt="weibo_pop"><br><img src="http://ww1.sinaimg.cn/large/006tNc79gw1fan1zf8f1aj305k01wjr6.jpg" alt="zhihu_peek"><br><img src="http://ww4.sinaimg.cn/large/006tNc79gw1fan1zufo7fj305k01yjr7.jpg" alt="weibo_pop"></div></p>
<p><div><br>ç®€å•åˆ†æä¸€ä¸‹:å¾®åšåº”è¯¥æ˜¯ç”¨äº†navigation controller,è€ŒçŸ¥ä¹åˆ™åœ¨popçš„é¡µé¢å¤šäº†ä¸€ä¸ªtopè§†å›¾,å½“peekçš„æ—¶å€™,å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªæ ‡é¢˜çš„è§†å›¾,çœŸæ˜¯ç®€å•ç²—æš´.<br>å®ç°ä¸€ä¸ªå¾®åšçš„æ•ˆæœ,ç®€å•Swiftå†™ä¸€ä¸‹:<br>peeké¡µé¢</div></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line">    <span class="keyword">internal</span> <span class="keyword">let</span> tableView = <span class="type">UITableView</span>(frame: <span class="type">UIScreen</span>.mainScreen().bounds, style: <span class="type">UITableViewStyle</span>.<span class="type">Plain</span>)</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></div><div class="line">        view.backgroundColor = <span class="type">UIColor</span>.greenColor()</div><div class="line">        tableView.delegate = <span class="keyword">self</span>;</div><div class="line">        tableView.dataSource = <span class="keyword">self</span>;</div><div class="line">        tableView.tableFooterView = <span class="type">UIView</span>()</div><div class="line">        view .addSubview(tableView)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span> : <span class="title">UITableViewDelegate</span>,<span class="title">UITableViewDataSource</span>,<span class="title">UIViewControllerPreviewingDelegate</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">        <span class="keyword">var</span> tableViewCell = tableView.dequeueReusableCellWithIdentifier(<span class="string">"tableviewcell"</span>)</div><div class="line">        <span class="keyword">if</span> tableViewCell == <span class="literal">nil</span> &#123;</div><div class="line">            tableViewCell = <span class="type">UITableViewCell</span>(style: <span class="type">UITableViewCellStyle</span>.<span class="type">Default</span>, reuseIdentifier: <span class="string">"tableviewcell"</span>)</div><div class="line">            tableViewCell?.textLabel?.text = (<span class="string">"ç¬¬"</span> + <span class="string">"\(indexPath.row)"</span> + <span class="string">"è¡Œ"</span>)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> traitCollection.forceTouchCapability == <span class="type">UIForceTouchCapability</span>.<span class="type">Available</span> &#123;</div><div class="line">            registerForPreviewingWithDelegate(<span class="keyword">self</span>, sourceView: tableViewCell!)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> tableViewCell!</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/// UIViewControllerPreviewingDelegate</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath)</span></span> &#123;</div><div class="line">        navigationController?.pushViewController(<span class="type">DetailViewController</span>(), animated: <span class="literal">true</span>)</div><div class="line">        tableView.deselectRowAtIndexPath(indexPath, animated: <span class="literal">true</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">previewingContext</span><span class="params">(previewingContext: UIViewControllerPreviewing, viewControllerForLocation location: CGPoint)</span></span> -&gt; <span class="type">UIViewController</span>? &#123;</div><div class="line">    <span class="comment">/// é¢„è§ˆçš„åº”è¯¥åŒ…è£…ä¸€ä¸ªUINavigationController,æ‰ä¼šæœ‰title</span></div><div class="line">        <span class="keyword">let</span> navc = <span class="type">UINavigationController</span>()</div><div class="line">        navc.addChildViewController(<span class="type">DetailViewController</span>())</div><div class="line">        <span class="keyword">return</span> navc;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">previewingContext</span><span class="params">(previewingContext: UIViewControllerPreviewing, commitViewController viewControllerToCommit: UIViewController)</span></span> &#123;</div><div class="line">    <span class="comment">/// popçš„é¡µé¢æ˜¯UINavigationControllerçš„ç¬¬ä¸€ä¸ªå­æ§åˆ¶å™¨</span></div><div class="line">        showViewController(viewControllerToCommit.childViewControllers[<span class="number">0</span>], sender: <span class="keyword">self</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>popçš„é¡µé¢:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DetailViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line"></div><div class="line">        <span class="comment">// Do any additional setup after loading the view.</span></div><div class="line">        view.backgroundColor = <span class="type">UIColor</span>.cyanColor()</div><div class="line">        title = <span class="string">"è¯„è®º"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·å°±å¯ä»¥äº†.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[APPæœ¬åœ°åŒ–ç¬”è®°]]></title>
      <url>https://jiangdaohong.github.io./2016/12/10/APP%E5%9B%BD%E9%99%85%E5%8C%96%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®éœ€è¦åšæœ¬åœ°åŒ–,ç®€å•è®°å½•ä¸€ä¸‹,è¿™é‡Œçš„APPæœ¬åœ°åŒ–ç‰¹æŒ‡iOSå®¢æˆ·ç«¯çš„æœ¬åœ°åŒ–.<br><a id="more"></a></p>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>éšç€ç§»åŠ¨äº’è”ç½‘çš„å‘å±•,å¾ˆå¤šAPPå€Ÿç€è‹¹æœçš„å¹³å°æ¸æ¸èµ°å‘å›½é™…,ç”šè‡³æœ‰äº›å›½å†…çš„å…¬å¸é¢å‘çš„å°±æ˜¯å›½å¤–ç”¨æˆ·,æˆ‘ä»¬ç°åœ¨åšçš„äº§å“å°±æœ‰è¿™æ–¹é¢çš„éœ€æ±‚,æ‰€ä»¥æŠ½æ—¶é—´åšäº†ä¸€ä¸‹APPæœ¬åœ°åŒ–.<br>ä¸€èˆ¬æ¥è¯´,APPæœ¬åœ°åŒ–ä¸»è¦æ˜¯ä¸€äº›æ–‡å­—å’Œå›¾ç‰‡,plistèµ„æºçš„æœ¬åœ°åŒ–.æ–‡å­—ä¸€èˆ¬å°±æ˜¯UIæ§ä»¶ä¸Šå±•ç¤ºçš„æ–‡æœ¬,æ§ä»¶å¯èƒ½æ˜¯çº¯ä»£ç åˆ›å»ºçš„,ä¹Ÿå¯èƒ½æ˜¯xibæˆ–è€…storyboardä¸Šçš„æ§ä»¶;è€Œå›¾ç‰‡åˆ™éœ€è¦å‡†å¤‡ä¸åŒçš„èµ„æºæ–‡ä»¶.<br>ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„æœ¬åœ°åŒ–æ–¹æ³•:</p>
<h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>ä»¥æ™®é€šçš„å·¥ç¨‹ä¸ºä¾‹:</p>
<ol>
<li>æ–°å»ºå·¥ç¨‹,Info.plistä¸­æ·»åŠ <code>Application has localized display name</code>,boolå€¼ä¸º<code>YES</code>,<code>CFBundleDisplayName</code>å’Œ<code>CFBundleName</code>éƒ½è®¾ç½®ä¸º<code>$(PROJECT_NAME)</code>;</li>
<li>é€‰æ‹©PROJECT-&gt;Info-&gt;Localizations,ç‚¹å‡»<code>+</code>,é€‰æ‹©éœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€,æˆ‘ä»¬é€‰æ‹©Chinese(Simplified),ç„¶åå¼¹å‡ºéœ€è¦æœ¬åœ°åŒ–çš„èµ„æºæ–‡ä»¶,éœ€è¦çš„æ‰“é’©,ç‚¹å‡»ç¡®å®š;</li>
<li>æ–°å»ºæ–‡ä»¶.é€‰æ‹©iOS-&gt;Resource-&gt;String File,è¿™é‡Œå‘½åä¸ºLocalizations.string;</li>
<li>é€‰æ‹©æ–°å»ºçš„.stringæ–‡ä»¶,å³è¾¹å±æ€§æ æœ‰Localization,ç‚¹å‡»,å¼¹å‡ºéœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€,éšä¾¿é€‰æ‹©ä¸€ä¸ª,ç„¶åæŠŠéœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€éƒ½å‹¾é€‰ä¸Š,ç‚¹å‡»æ–‡ä»¶,å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†ä¸åŒè¯­è¨€çš„.stringæ–‡ä»¶;</li>
<li>é‡å¤æ­¥éª¤3å’Œæ­¥éª¤4,å‘½åå¿…é¡»ä¸º<code>InfoPlist.strings</code>.</li>
<li>æ‰“å¼€é¡¹ç›®ç›®å½•,æŠŠç”Ÿæˆçš„æœ¬åœ°åŒ–æ–‡ä»¶å¤¹æ‹–åˆ°é¡¹ç›®ä¸­.</li>
</ol>
<h3 id="åº”ç”¨åç§°æœ¬åœ°åŒ–"><a href="#åº”ç”¨åç§°æœ¬åœ°åŒ–" class="headerlink" title="åº”ç”¨åç§°æœ¬åœ°åŒ–"></a>åº”ç”¨åç§°æœ¬åœ°åŒ–</h3><p>é€‰æ‹©InfoPlist.strings,å°†éœ€è¦æ˜¾ç¤ºçš„åç§°å†™åˆ°å¯¹åº”çš„æ–‡ä»¶é‡Œé¢å³å¯:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¸­æ–‡æ–‡ä»¶</span></div><div class="line"><span class="built_in">CFBundleDisplayName</span> = <span class="string">"ä¸­æ–‡åå­—"</span>;</div><div class="line"><span class="comment">// è‹±æ–‡æ–‡ä»¶</span></div><div class="line"><span class="built_in">CFBundleDisplayName</span> = <span class="string">"English name"</span>;</div></pre></td></tr></table></figure></p>
<h3 id="æ–‡æœ¬æœ¬åœ°åŒ–"><a href="#æ–‡æœ¬æœ¬åœ°åŒ–" class="headerlink" title="æ–‡æœ¬æœ¬åœ°åŒ–"></a>æ–‡æœ¬æœ¬åœ°åŒ–</h3><p>ä»¥ç™»é™†æŒ‰é’®æ˜¾ç¤ºçš„æ ‡é¢˜ä¸ºä¾‹,éœ€è¦å€ŸåŠ©ä¸€ä¸ªæœ¬åœ°åŒ–æ–¹æ³•æ‰å¯ä»¥å®ç°,é¦–å…ˆåœ¨Localizations.stringæ–‡ä»¶ä¸­åˆ†åˆ«å†™ä¸Šå¯¹åº”çš„key-value:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¸­æ–‡æ–‡ä»¶</span></div><div class="line"><span class="string">"Login"</span> = <span class="string">"ç™»é™†"</span>;</div><div class="line"><span class="comment">// è‹±æ–‡æ–‡ä»¶</span></div><div class="line"><span class="string">"Login"</span> = <span class="string">"Login"</span>;</div></pre></td></tr></table></figure></p>
<p>è°ƒç”¨çš„åœ°æ–¹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å‰é¢æ˜¯key,åé¢æ˜¯æ³¨é‡Š,å¯ä¸ºnil</span></div><div class="line"><span class="built_in">NSString</span> *loginString = <span class="built_in">NSLocalizedString</span>(<span class="string">@"Login"</span>, <span class="string">@"login button title"</span>);</div><div class="line">[loginButton setTitle:loginString forState:<span class="built_in">UIControlStateNormal</span>];</div></pre></td></tr></table></figure></p>
<h3 id="å›¾ç‰‡èµ„æºå’Œxib-plistèµ„æºçš„æœ¬åœ°åŒ–"><a href="#å›¾ç‰‡èµ„æºå’Œxib-plistèµ„æºçš„æœ¬åœ°åŒ–" class="headerlink" title="å›¾ç‰‡èµ„æºå’Œxib,plistèµ„æºçš„æœ¬åœ°åŒ–"></a>å›¾ç‰‡èµ„æºå’Œxib,plistèµ„æºçš„æœ¬åœ°åŒ–</h3><p>å›¾ç‰‡æœ¬åœ°åŒ–å¾ˆç®€å•,é€‰ä¸­å›¾ç‰‡èµ„æº,ç‚¹å‡»å±æ€§æ çš„Localizationé€‰é¡¹,ä¼šè‡ªåŠ¨æŠŠå›¾ç‰‡æ”¾åˆ°å¯¹åº”çš„è¯­è¨€æ–‡ä»¶å¤¹ä¸‹é¢,è°ƒç”¨æ— éœ€æ›´æ”¹.<br>plistä»¥åŠxibæœ¬åœ°åŒ–æ–¹å¼å’Œå›¾ç‰‡æœ¬åœ°åŒ–æ–¹å¼å¤§åŒå°å¼‚.</p>
<h3 id="ç®€åŒ–è°ƒç”¨"><a href="#ç®€åŒ–è°ƒç”¨" class="headerlink" title="ç®€åŒ–è°ƒç”¨"></a>ç®€åŒ–è°ƒç”¨</h3><p>å¦‚æœä¸€å¼€å§‹æ²¡æœ‰åšæœ¬åœ°åŒ–çš„å‡†å¤‡,ä½†æ˜¯çªç„¶è¦åŠ å…¥è¿™é¡¹feature,è¿™å°±éœ€è¦å¿«é€Ÿå®Œæˆ,ä½†æ˜¯é¡¹ç›®ä¸­çš„æ§ä»¶å¤ªå¤šäº†æ€ä¹ˆåŠ?</p>
<ol>
<li>ç®€å•åšæ³•,ä¿®æ”¹ç»§æ‰¿,å¦‚æ›¿æ¢UILabelä¸ºè‡ªå®šä¹‰Label,é‡å†™<code>setText:</code>,ç„¶åè°ƒç”¨<code>NSLocalizedString(key,comment)</code>,è¿™ä¹ˆåšä»£ä»·å¾ˆå¤§;</li>
<li><p>æŸ¥çœ‹NSLocalizedStringçš„å®ç°:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> NSLocalizedString(key, comment) \</span></div><div class="line">	    </div><div class="line">	    [[NSBundle mainBundle] localizedStringForKey:(key) value:@<span class="string">""</span> table:nil]</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> NSLocalizedStringFromTable(key, tbl, comment) \</span></div><div class="line">	    </div><div class="line">	    [[NSBundle mainBundle] localizedStringForKey:(key) value:@<span class="string">""</span> table:(tbl)]</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> NSLocalizedStringFromTableInBundle(key, tbl, bundle, comment) \</span></div><div class="line">	    </div><div class="line">	    [bundle localizedStringForKey:(key) value:@<span class="string">""</span> table:(tbl)]</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> NSLocalizedStringWithDefaultValue(key, tbl, bundle, val, comment) \</span></div><div class="line">	    </div><div class="line">	    [bundle localizedStringForKey:(key) value:(val) table:(tbl)]</div></pre></td></tr></table></figure>
<p>ä¸ºäº†æ–¹ä¾¿è°ƒç”¨æ·»åŠ ä¸ªå®å®šä¹‰:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">undef</span> L</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> L(key) \</span></div><div class="line">	</div><div class="line">	[[NSBundle mainBundle] localizedStringForKey:(key) value:@<span class="string">""</span> table:nil]</div></pre></td></tr></table></figure>
<p>ç„¶åä¸€ä¸ªä¸€ä¸ªæ›¿æ¢/(ã„’oã„’)/~~</p>
</li>
<li><p>æ›¿æ¢å®Œä¹‹å,ç”¨å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆstringsæ–‡ä»¶</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ‰“å¼€ç»ˆç«¯,å®šä½åˆ°éœ€è¦ç”Ÿæˆstingsçš„æ–‡ä»¶,æ¯”å¦‚ä¸ºLoginViewController.m,è¦ç”ŸæˆDHLocalizations.strings</span></div><div class="line"><span class="comment">// å­—ç¬¦ä¸²è°ƒç”¨çš„åœ°æ–¹</span></div><div class="line"><span class="built_in">NSString</span> *loginString = <span class="built_in">NSLocalizedStringFromTable</span>(<span class="string">@"Login"</span>,<span class="string">@"DHLocalizations"</span>, <span class="string">@"login button title"</span>);</div><div class="line">[loginButton setTitle:loginString forState:<span class="built_in">UIControlStateNormal</span>];</div><div class="line"><span class="comment">// æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</span></div><div class="line">genstrings LoginViewController.m</div><div class="line"><span class="comment">// æŸ¥çœ‹æ–‡ä»¶å¤¹,çœ‹åˆ°å·²ç»ç”Ÿæˆäº†DHLocalizations.stringsæ–‡ä»¶</span></div></pre></td></tr></table></figure>
</li>
<li><p>æ‰¹é‡ç”Ÿæˆå‘½ä»¤<br>ä¸Šä¸ªå‘½ä»¤è™½ç„¶èƒ½è‡ªåŠ¨ç”Ÿæˆæœ¬åœ°æ–¹èµ„æºæ–‡ä»¶,ä½†æ˜¯ä¸€æ¬¡åªèƒ½ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶é‡Œé¢çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²,å€ŸåŠ©ä¸‹é¢çš„å‘½ä»¤å¯ä»¥è¿›è¡Œæ‰¹é‡ç”Ÿæˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// è¿›å…¥ç»ˆç«¯,ä½¿ç”¨å‘½ä»¤ç”Ÿæˆæ–‡ä»¶å¤¹</div><div class="line">mkdir en.lpro</div><div class="line">// éå†æ–‡ä»¶å¤¹ä¸‹.mæ–‡ä»¶,å¹¶æ‰§è¡Œgenstringså‘½ä»¤</div><div class="line">find ./ -name *.m -print0 | xargs -0 genstrings -o en.lproj</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p>æ„Ÿè°¢ä¸€ä¸‹å¼€å‘è€…çš„æ•™ç¨‹,æ”¾ä¸Šæ•™ç¨‹é“¾æ¥<br><a href="https://my.oschina.net/u/1049180/blog/215695" target="_blank" rel="external">https://my.oschina.net/u/1049180/blog/215695</a><br>// ä¸‹é¢è¿™ç¯‡æ–‡ç« è®²è¿°çš„å¾ˆè¯¦ç»†,å›¾æ–‡å¹¶èŒ‚<br><a href="http://blog.csdn.net/q199109106q/article/details/8564615" target="_blank" rel="external">http://blog.csdn.net/q199109106q/article/details/8564615</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»]]></title>
      <url>https://jiangdaohong.github.io./2016/11/28/%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E5%9C%BA%E5%8A%A8%E7%94%BB/</url>
      <content type="html"><![CDATA[<p>å¥½ä¹…ä¸ç”¨çš„ä¸œè¥¿,å¤ä¹ ä¸€ä¸‹,å…ˆå†™ä¸€ä¸‹è½¬åœºåŠ¨ç”»å§O(âˆ©_âˆ©)O<br><a id="more"></a></p>
<p>ç›´æ¥å¼€å§‹,è¿™ç¯‡åšå®¢åˆ†ä¸‰éƒ¨åˆ†,ç¬¬ä¸€éƒ¨åˆ†è®°è¿°è‡ªå®šä¹‰modalåŠ¨ç”»,ç¬¬äºŒéƒ¨è®°è¿°è‡ªå®šä¹‰pushåŠ¨ç”»,ç¬¬ä¸‰éƒ¨åˆ†è®°ä¸€ä¸‹å¸¸è§åŠ¨ç”»çš„å®ç°.</p>
<h3 id="modalåŠ¨ç”»"><a href="#modalåŠ¨ç”»" class="headerlink" title="modalåŠ¨ç”»"></a>modalåŠ¨ç”»</h3><p>ä¸‹é¢ç®€è¦å†™ä¸€ä¸‹ä»¥modalçš„å½¢å¼å®ç°ç³»ç»Ÿçš„pushåŠ¨ç”»<br>ä¸»è¦æ­¥éª¤:</p>
<ol>
<li>æ–°å»ºä¸¤ä¸ªview controller,è®°åšFromVC,ToVC;</li>
<li>åœ¨FromVCä¸­,å®ç°<code>presentViewController:animated:completion</code>,ToVCå¯¹è±¡è®¾ç½®<code>toVC.transitioningDelegate = self;</code>,fromVCéµå®ˆåè®®<code>UIViewControllerTransitioningDelegate</code>;</li>
<li><p>çœ‹ä¸€ä¸‹<code>UIViewControllerTransitioningDelegate</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Asks your delegate for the transition animator object to use when presenting a view controller.</span></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animationControllerForPresentedController:(<span class="built_in">UIViewController</span> *)presented presentingController:(<span class="built_in">UIViewController</span> *)presenting sourceController:(<span class="built_in">UIViewController</span> *)source;</div><div class="line"><span class="comment">// Asks your delegate for the transition animator object to use when dismissing a view controller.</span></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animationControllerForDismissedController:(<span class="built_in">UIViewController</span> *)dismissed;</div><div class="line"><span class="comment">// Asks your delegate for the interactive animator object to use when presenting a view controller.</span></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerInteractiveTransitioning</span>&gt;)interactionControllerForPresentation:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animator;</div><div class="line"><span class="comment">// Asks your delegate for the interactive animator object to use when dismissing a view controller.</span></div><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerInteractiveTransitioning</span>&gt;)interactionControllerForDismissal:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animator;</div><div class="line"><span class="comment">// Asks your delegate for the custom presentation controller to use for managing the view hierarchy when presenting a view controller.</span></div><div class="line">- (<span class="keyword">nullable</span> <span class="built_in">UIPresentationController</span> *)presentationControllerForPresentedViewController:(<span class="built_in">UIViewController</span> *)presented presentingViewController:(<span class="built_in">UIViewController</span> *)presenting sourceViewController:(<span class="built_in">UIViewController</span> *)source <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">8</span>_0);</div></pre></td></tr></table></figure>
<p>é€šè¿‡æ–‡æ¡£å¯ä»¥çœ‹åˆ°,<code>UIViewControllerTransitioningDelegate</code>ä¸»è¦è¦å®ç°å‰ä¸¤ä¸ªæ–¹æ³•æ¥è·å–presentå’Œdismissçš„åŠ¨ç”»å¯¹è±¡;</p>
</li>
<li><p>è€ŒåŠ¨ç”»å¯¹è±¡éœ€è¦éµå®ˆ<code>UIViewControllerAnimatedTransitioning</code>åè®®,çœ‹ä¸€ä¸‹è¿™ä¸ªåè®®éœ€è¦å®ç°çš„æ–¹æ³•:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// This is used for percent driven interactive transitions, as well as for container controllers that have companion animations that might need to</span></div><div class="line"><span class="comment">// synchronize with the main animation. </span></div><div class="line">- (<span class="built_in">NSTimeInterval</span>)transitionDuration:(<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext;</div><div class="line"><span class="comment">// This method can only  be a nop if the transition is interactive and not a percentDriven interactive transition.</span></div><div class="line">- (<span class="keyword">void</span>)animateTransition:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext;</div></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯åŠ¨ç”»æ‰§è¡Œçš„æ—¶é—´,ç¬¬äºŒä¸ªæ–¹æ³•åˆ™æ˜¯ç”¨äºå¤„ç†åŠ¨ç”»æ•ˆæœ;</p>
</li>
<li><p>é¦–å…ˆå®ç°presentåŠ¨ç”»,æ–°å»ºä¸€ä¸ª<code>DHPresentAnimation</code>ç±»,ç»§æ‰¿è‡ª<code>NSObject</code>,å¹¶ä¸”å®ç°<code>UIViewControllerAnimatedTransitioning</code>ä¸­çš„ä¸¤ä¸ªæ–¹æ³•,ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åŠ¨ç”»æ‰§è¡Œçš„æ—¶é—´</span></div><div class="line">- (<span class="built_in">NSTimeInterval</span>)transitionDuration:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContex</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è‡ªå®šä¹‰åŠ¨ç”»</span></div><div class="line">- (<span class="keyword">void</span>)animateTransition:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext</div><div class="line">&#123;</div><div class="line">    <span class="comment">// è·å–ç›®æ ‡VC</span></div><div class="line">    <span class="built_in">UIViewController</span> *toVC = [transitionContext viewControllerForKey:<span class="built_in">UITransitionContextToViewControllerKey</span>];</div><div class="line">    <span class="comment">// è·å–æœ€ç»ˆè¦æ˜¾ç¤ºçš„VCçš„frame</span></div><div class="line">    <span class="built_in">CGRect</span> finalRect = [transitionContext finalFrameForViewController:toVC];</div><div class="line">    <span class="comment">// è®¾ç½®ç›®æ ‡VCçš„é»˜è®¤ä½ç½®,è¿™é‡Œå®šä½åœ¨å±å¹•å·¦ä¾§</span></div><div class="line">    toVC.view.frame = <span class="built_in">CGRectOffset</span>(finalRect, -[[<span class="built_in">UIScreen</span> mainScreen]bounds].size.width, <span class="number">0</span>);</div><div class="line">    <span class="comment">// è·å–containerView,å¹¶å°†ç›®æ ‡VCçš„viewè®¾ç½®ä¸ºå®ƒçš„å­è§†å›¾</span></div><div class="line">    [[transitionContext containerView] addSubview:toVC.view];</div><div class="line">    <span class="comment">// ç®€å•UIViewåŠ¨ç”»,ä½¿toVCçš„viewå˜æ¢åˆ°æœ€ç»ˆè¦æ˜¾ç¤ºçš„ä½ç½®å’Œå¤§å°</span></div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:[<span class="keyword">self</span> transitionDuration:transitionContext] animations:^&#123;</div><div class="line">        toVC.view.frame = finalRect;</div><div class="line">    &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">    <span class="comment">// æ˜ç¡®å‘Šè¯‰ä¸Šä¸‹æ–‡,ç»“æŸåŠ¨ç”»</span></div><div class="line">        [transitionContext completeTransition:<span class="literal">YES</span>];</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>FromVC</code>ä¸­,å®ç°<code>UIViewControllerTransitioningDelegate</code>åè®®æ–¹æ³•</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animationControllerForPresentedController:(<span class="built_in">UIViewController</span> *)presented presentingController:(<span class="built_in">UIViewController</span> *)presenting sourceController:(<span class="built_in">UIViewController</span> *)source &#123;</div><div class="line"><span class="comment">// è¿”å›presentè‡ªå®šä¹‰åŠ¨ç”»å¯¹è±¡</span></div><div class="line">    <span class="keyword">return</span> [[DHPresentAnimation alloc] init];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>åŒç†,å®ç°dismissåŠ¨ç”»,å®ç°<code>FromVC</code>éµå¾ªåè®®ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•:<br> dismissåŠ¨ç”»</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSTimeInterval</span>)transitionDuration:(<span class="keyword">id</span>&lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1.0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)animateTransition:(<span class="keyword">id</span>&lt;<span class="built_in">UIViewControllerContextTransitioning</span>&gt;)transitionContext</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UIViewController</span> *fromVC = [transitionContext viewControllerForKey:<span class="built_in">UITransitionContextFromViewControllerKey</span>];</div><div class="line">    <span class="built_in">UIViewController</span> *toVC = [transitionContext viewControllerForKey:<span class="built_in">UITransitionContextToViewControllerKey</span>];</div><div class="line">    </div><div class="line">    <span class="built_in">CGRect</span> initRect  = [transitionContext initialFrameForViewController:fromVC];</div><div class="line">    <span class="built_in">CGRect</span> finalRect = <span class="built_in">CGRectOffset</span>(initRect, -[[<span class="built_in">UIScreen</span> mainScreen]bounds].size.width, <span class="number">0</span>);</div><div class="line">    </div><div class="line">    <span class="built_in">UIView</span> *containerView = [transitionContext containerView];</div><div class="line">    [containerView addSubview:toVC.view];</div><div class="line">    [containerView sendSubviewToBack:toVC.view];</div><div class="line">    </div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:[<span class="keyword">self</span> transitionDuration:transitionContext] animations:^&#123;</div><div class="line">        fromVC.view.frame = finalRect;</div><div class="line">    &#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">        [transitionContext completeTransition:<span class="literal">YES</span>];</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åè®®æ–¹æ³•:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">id</span>&lt;<span class="built_in">UIViewControllerAnimatedTransitioning</span>&gt;)animationControllerForDismissedController:(<span class="built_in">UIViewController</span> *)dismissed</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [[DHDismissAnimation alloc] init];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><code>command + R</code>.</p>
<h3 id="pushåŠ¨ç”»"><a href="#pushåŠ¨ç”»" class="headerlink" title="pushåŠ¨ç”»"></a>pushåŠ¨ç”»</h3><p>å¾…ç»­</p>
<h3 id="å¸¸è§åŠ¨ç”»çš„å®ç°"><a href="#å¸¸è§åŠ¨ç”»çš„å®ç°" class="headerlink" title="å¸¸è§åŠ¨ç”»çš„å®ç°"></a>å¸¸è§åŠ¨ç”»çš„å®ç°</h3><p>å¾…ç»­</p>
</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åˆçª¥JSPatch]]></title>
      <url>https://jiangdaohong.github.io./2016/11/20/%E5%88%9D%E7%AA%A5JSPatch/</url>
      <content type="html"><![CDATA[<p>Hotfixæ˜¯è§£å†³çº¿ä¸Šbugçš„é‡è¦æ‰‹æ®µä¹‹ä¸€,iOSå¼€å‘ä¸­,å¦‚ä»Šæµè¡Œçš„æˆç†Ÿè§£å†³æ–¹æ³•ä¹‹ä¸€å°±æ˜¯JSPatch,æœ¬æ–‡ä¸»è¦æ˜¯å¯¹JSPatchåº”ç”¨è¿›è¡Œä¸€å®šçš„ä»‹ç»,å¹¶æœªåšåŸç†åˆ†æ.<br><a id="more"></a></p>
<p>è°ˆèµ·hotfix,æ˜¯ä¸ªä¸å°çš„è¯é¢˜,è€ŒJSPatchä»¥ä»–çµæ´»,ä½¿ç”¨æ–¹ä¾¿è€Œä¸”åŠŸèƒ½å¼ºå¤§çš„ç‰¹ç‚¹,ä½¿å®ƒæˆä¸ºè§£å†³çº¿ä¸Šé‡å¤§bugçš„â€é»‘æ­¦å™¨â€,å¼ºå¤§,å±é™©.æ‰€ä»¥åœ¨å¼€å¤´è¦è¯´æ˜,ä¸ç”¨ä½¿ç”¨JSPatchæ¥ä¿®æ”¹ä¸€äº›å°çš„é”™è¯¯,åªæœ‰å‘ç”Ÿé‡å¤§bugçš„æ—¶å€™æ‰ä½¿ç”¨,åŸå­å¼¹å›ºç„¶å¨åŠ›å¤§,ä½†é€ æˆçš„åæœä¹Ÿæ˜¯å½±å“æ·±è¿œçš„.ä¸€äº›ç•Œé¢å¯ä»¥é‡‡ç”¨å…¶ä»–æ–¹æ¡ˆæ›¿ä»£,æé«˜appçš„åŠ¨æ€æ€§,æ¯”å¦‚ä½¿ç”¨web viewç­‰æ–¹å¼,è¿™é‡Œä¸åšæ·±ç©¶.ä¸‹é¢å¼€å§‹ä»‹ç»JSPatch.</p>
<p>JSPatchæ˜¯å¾®ä¿¡è¯»ä¹¦å›¢é˜Ÿçš„å¤§ç¥<a href="https://github.com/bang590/" target="_blank" rel="external">bang</a>çš„<a href="https://github.com/bang590/JSPatch" target="_blank" rel="external">å¼€æºé¡¹ç›®</a>,æ‰€ä»¥ä½ æ˜¯å¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡¹ç›®çš„æ ¸å¿ƒæºç ,ä½ å¯ä»¥é€šè¿‡CocoaPodsé›†æˆåˆ°é¡¹ç›®ä¸­,ä¹Ÿå¯ä»¥æ‰‹åŠ¨é›†æˆ,ä¹Ÿå¯ä»¥é€šè¿‡SDKçš„æ–¹å¼é›†æˆ,<a href="http://www.jspatch.com/Docs/intro" target="_blank" rel="external">è¿™é‡Œ</a>æ˜¯JSPatch Platformçš„é›†æˆè¯´æ˜æ–‡æ¡£,ç®€å•æ¥è®²,å¦‚æœä½ è¦è‡ªå·±æ­å»ºåå°,è¿›è¡Œä¿®å¤åŒ…çš„éƒ¨ç½²ç­‰å·¥ä½œ,ç›´æ¥ä½¿ç”¨å¼€æºä»£ç å³å¯,è¿™ç§æ¯”è¾ƒé€‚ç”¨äºå¤§å…¬å¸æˆ–è€…ä¸šåŠ¡æ•æ„Ÿ,ä¸ªæ€§åŒ–å®šåˆ¶åŠŸèƒ½çš„å…¬å¸,è€Œå¯¹å…¬å¸æ¥è¯´,ä½œä¸ºä¸€èˆ¬æ€§éœ€æ±‚æˆ–è€…åªæ˜¯åœ¨ä¸ªäººé¡¹ç›®ä¸­ä½¿ç”¨çš„è¯,å®Œå…¨å¯ä»¥å€ŸåŠ©å¹³å°,è€Œä¸”å¹³å°ä¹Ÿæä¾›äº†ä»˜è´¹åŠŸèƒ½.å¯¹äºæ—¥è¯·æ±‚é‡å°äº1wçš„ç”¨æˆ·æ˜¯å…è´¹çš„.éœ€è¦è¿›è¡Œç°åº¦æµ‹è¯•,åœ¨çº¿ç›‘æ§ç­‰åŠŸèƒ½,éœ€è¦è¿›è¡Œä»˜è´¹.</p>
<h3 id="é›†æˆ"><a href="#é›†æˆ" class="headerlink" title="é›†æˆ"></a>é›†æˆ</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod 'JSPatch'</div></pre></td></tr></table></figure>
<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">[JSPatch startWithAppKey:<span class="string">@"Your AppKey"</span>];</div><div class="line"><span class="comment">// å¯ä»¥å¤šæ¬¡è°ƒç”¨ç”¨æ¥åŒæ­¥æœåŠ¡å™¨çŠ¶æ€</span></div><div class="line">[JSPatch sync];</div><div class="line"><span class="comment">// ç¨‹åºå¯åŠ¨çš„æ—¶å€™å¼€å¯JSEngine</span></div><div class="line">[JPEngine startEngine];</div><div class="line"><span class="comment">// æ‰§è¡Œjsä»£ç </span></div><div class="line"><span class="comment">// å®˜æ–¹ç¤ºä¾‹</span></div><div class="line"><span class="comment">// ç›´æ¥è°ƒç”¨js</span></div><div class="line">[JPEngine evaluateScript:<span class="string">@"\</span></div><div class="line"> var alertView = require('UIAlertView').alloc().init();\</div><div class="line"> alertView.setTitle('Alert');\</div><div class="line"> alertView.setMessage('AlertView from js'); \</div><div class="line"> alertView.addButtonWithTitle('OK');\</div><div class="line"> alertView.show(); \</div><div class="line">"];</div><div class="line"></div><div class="line"><span class="comment">// æ‰§è¡Œç½‘ç»œjsä»£ç </span></div><div class="line">[<span class="built_in">NSURLConnection</span> sendAsynchronousRequest:[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://cnbang.net/test.js"</span>]] queue:[<span class="built_in">NSOperationQueue</span> mainQueue] completionHandler:^(<span class="built_in">NSURLResponse</span> *response, <span class="built_in">NSData</span> *data, <span class="built_in">NSError</span> *connectionError) &#123;</div><div class="line">    <span class="built_in">NSString</span> *script = [[<span class="built_in">NSString</span> alloc] initWithData:data encoding:<span class="built_in">NSUTF8StringEncoding</span>];</div><div class="line">    [JPEngine evaluateScript:script];</div><div class="line">&#125;];</div><div class="line"></div><div class="line"><span class="comment">// æ‰§è¡Œæœ¬åœ°jsä»£ç </span></div><div class="line"><span class="built_in">NSString</span> *sourcePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"sample"</span> ofType:<span class="string">@"js"</span>];</div><div class="line"><span class="built_in">NSString</span> *script = [<span class="built_in">NSString</span> stringWithContentsOfFile:sourcePath encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</div><div class="line">[JPEngine evaluateScript:script];</div></pre></td></tr></table></figure>
<h3 id="APIç¤ºä¾‹"><a href="#APIç¤ºä¾‹" class="headerlink" title="APIç¤ºä¾‹"></a>APIç¤ºä¾‹</h3><p>è°ƒç”¨OCç±»ä¹‹å‰éœ€è¦è°ƒç”¨<code>require(class name)</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">requare(`UIView`)</div><div class="line">var view = UIView.alloc().init()</div></pre></td></tr></table></figure></p>
<p>ä¹Ÿå¯ä½¿ç”¨çš„æ—¶å€™å†è¿›è¡Œå£°æ˜<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">require(`UIColor`).redColor()</div></pre></td></tr></table></figure></p>
<p>å‚æ•°ä¼ é€’<br>å’ŒOCç”¨æ³•ä¸€æ ·,ç›´æ¥è¿›è¡Œä¼ é€’å³å¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var view = UIView.alloc().init();</div><div class="line">var superView = UIView.alloc().init()</div><div class="line">superView.addSubview(view)</div></pre></td></tr></table></figure></p>
<p>defineClass<br>defineClass(classDeclaration, [properties,] instanceMethods, classMethods)<br>@param classDeclaration: å­—ç¬¦ä¸²ï¼Œç±»å/çˆ¶ç±»åå’ŒProtocol<br>@param properties: æ–°å¢propertyï¼Œå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯çœç•¥<br>@param instanceMethods: è¦æ·»åŠ æˆ–è¦†ç›–çš„å®ä¾‹æ–¹æ³•<br>@param classMethods: è¦æ·»åŠ æˆ–è¦†ç›–çš„ç±»æ–¹æ³•</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// OC</span></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">JPTestObject</span></span></div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didSelectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath &#123;</div><div class="line">&#125;</div><div class="line">	<span class="keyword">@end</span></div><div class="line"><span class="comment">// JS</span></div><div class="line">defineClass(<span class="string">"JPTableViewController"</span>, &#123; tableView_didSelectRowAtIndexPath: function(tableView, indexPath) &#123;</div><div class="line">	  ...</div><div class="line">&#125;,</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>æŠŠJSPatchçš„Logæ·»åŠ åˆ°è‡ªå·±çš„æ—¥å¿—é‡Œé¢<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[JSPatch setLogger:^(<span class="built_in">NSString</span> *msg) &#123;</div><div class="line">    <span class="comment">//msg æ˜¯ JSPatch log å­—ç¬¦ä¸²ï¼Œç”¨ä½ è‡ªå®šä¹‰çš„loggeræ‰“å‡º</span></div><div class="line">    YOUR_APP_LOG(<span class="string">@"%@"</span>, msg);</div><div class="line">&#125;];</div></pre></td></tr></table></figure></p>
<p>å®˜æ–¹ä¿®å¤çº¿ä¸Šbugç¤ºä¾‹<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">@implementation</span> <span class="title">XRTableViewController</span></span></div><div class="line"> âƒ (<span class="keyword">void</span>)tableView:(<span class="built_in">UITableView</span> *)tableView didSelectRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</div><div class="line">	&#123;</div><div class="line">	<span class="built_in">NSString</span> *content = <span class="keyword">self</span>.dataSource[[indexPath row]]; <span class="comment">//å¯èƒ½ä¼šè¶…å‡ºæ•°ç»„èŒƒå›´å¯¼è‡´crash</span></div><div class="line">	XRViewController *controller = [[JPViewController alloc] initWithContent:content];</div><div class="line">	[<span class="keyword">self</span>.navigationController pushViewController:controller];</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div><div class="line"><span class="comment">//main.js</span></div><div class="line">defineClass(<span class="string">"XRTableViewController"</span>, &#123;</div><div class="line">  tableView_didSelectRowAtIndexPath: function(tableView, indexPath) &#123;</div><div class="line">    var row = indexPath.row()</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.dataSource().length &gt; row) &#123;  <span class="comment">//åŠ ä¸Šåˆ¤æ–­è¶Šç•Œçš„é€»è¾‘</span></div><div class="line">      var content = <span class="keyword">self</span>.dataArr()[row];</div><div class="line">      var controller = XRViewController.alloc().initWithContent(content);</div><div class="line">      <span class="keyword">self</span>.navigationController().pushViewController(controller);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>è„šæœ¬åˆ é™¤<br>å¦‚æœæ˜¯é€šè¿‡JSPatch Platform,åœ¨æ“ä½œç•Œé¢è¿›è¡Œåˆ é™¤è„šæœ¬å³å¯;å¦‚æœæ˜¯è‡ªæ­å»ºå¹³å°,éœ€è¦è°ƒç”¨<code>JPCleaner</code>çš„cleanæ–¹æ³•,è¿›è¡ŒæŒ‡å®šç±»çš„æˆ–è€…å…¨éƒ¨ä»£ç è¿›è¡Œæ¸…é™¤.<br>æ›´å¤šåŸºæœ¬ç”¨æ³•æŸ¥é˜…å®˜æ–¹æ–‡æ¡£:<a href="https://github.com/bang590/JSPatch/wiki/JSPatch-åŸºç¡€ç”¨æ³•" target="_blank" rel="external">JSPatchåŸºç¡€ç”¨æ³•</a></p>
<h3 id="ä¼ è¾“å®‰å…¨é—®é¢˜"><a href="#ä¼ è¾“å®‰å…¨é—®é¢˜" class="headerlink" title="ä¼ è¾“å®‰å…¨é—®é¢˜"></a>ä¼ è¾“å®‰å…¨é—®é¢˜</h3><p>ç”±äºJSPatchæ˜¯é€šè¿‡è¿è¡Œæ—¶è¿›è¡Œæ¶ˆæ¯åˆ†å‘,å› æ­¤åŠŸèƒ½å¼ºå¤§, å› æ­¤ä¸€æ—¦è¢«é»‘å®¢æ”»å‡»,ä¸‹å‘æ¶æ„è¡¥ä¸åŒ…,é‚£appåŸºæœ¬å°±ä¼šè¢«å½»åº•æ”»ç ´,å› æ­¤åœ¨ä½¿ç”¨JSPatch SDKçš„æ—¶å€™,å¯¹jsæ–‡ä»¶è¿›è¡Œäº†<a href="https://en.wikipedia.org/wiki/RSA" target="_blank" rel="external">RSAåŠ å¯†</a><br>ä¸»è¦æµç¨‹å°±æ˜¯å¯¹æœåŠ¡ç«¯è¿›è¡Œjsæ–‡ä»¶çš„MD5åŠ å¯†,ç„¶åä½¿ç”¨RSAç§é’¥å¯¹MD5è¿›è¡Œä¸€æ¬¡åŠ å¯†,ä¸€èµ·ä¸‹å‘ç»™å®¢æˆ·ç«¯;<br>å®¢æˆ·ç«¯æ‹¿åˆ°æ•°æ®ä¹‹å,RSAå…¬é’¥è¿›è¡Œè§£å¯†,æ‹¿åˆ°MD5å€¼,ç„¶åè‡ªå·±è¿›è¡Œè®¡ç®—ä¸‹è½½çš„jsæ–‡ä»¶çš„MD5,è¿›è¡Œæ ¡éªŒ,åˆ¤æ–­æ˜¯å¦è¢«ä¿®æ”¹,è¿›è¡Œåˆ†æƒ…å†µå¤„ç†.</p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="http://www.jspatch.com/Docs/intro" target="_blank" rel="external">JSPatch</a>å®˜æ–¹æ–‡æ¡£è¯´æ˜;<br><a href="https://github.com/bang590/JSPatch" target="_blank" rel="external">JSPatch githubæºä»£ç </a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[iOSå¼€å‘å¸¸ç”¨UIå°æŠ€å·§]]></title>
      <url>https://jiangdaohong.github.io./2016/10/22/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8UI%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<p>æ•´ç†ä¸€ä¸‹å¼€å‘ä¸­å¸¸ç”¨çš„UIå°æŠ€å·§<br><a id="more"></a></p>
<ol>
<li><p>UINavigationBarç›¸å…³è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å»é˜´å½±</span></div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setShadowImage:[<span class="built_in">UIImage</span> new]];</div><div class="line">   <span class="comment">// è®¾ç½®æ ‡é¢˜</span></div><div class="line">   <span class="built_in">NSMutableDictionary</span> *titleTextAttrs = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">   titleTextAttrs[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">   titleTextAttrs[<span class="built_in">NSFontAttributeName</span>] = [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">18</span>];</div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setTitleTextAttributes:titleTextAttrs];</div><div class="line">   <span class="comment">// è®¾ç½®æ¸²æŸ“è‰²</span></div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setTintColor:[<span class="built_in">UIColor</span> whiteColor]];</div><div class="line">   </div><div class="line">   <span class="comment">// è®¾ç½®èƒŒæ™¯å›¾ç‰‡</span></div><div class="line">   [[<span class="built_in">UINavigationBar</span> appearance] setBackgroundImage:[[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"navc_bg_blue"</span>] imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>] 	forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>UITabBarç›¸å…³è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å»é˜´å½±</span></div><div class="line">[[<span class="built_in">UITabBar</span> appearance] setShadowImage:[<span class="built_in">UIImage</span> new];</div><div class="line"><span class="comment">// æ›´æ¢ç³»ç»Ÿè‡ªå¸¦çš„tabbar</span></div><div class="line">DHTabBar *tabBar = [DHTabBar tabbar];</div><div class="line">   [<span class="keyword">self</span> setValue:tabBar forKeyPath:<span class="string">@"tabBar"</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>UITabBarController<br>é€‰ä¸­ä¸åŒæ§åˆ¶å™¨æ˜¾ç¤ºä¸åŒçš„statusBaræ ·å¼</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle </div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.selectedViewController.preferredStatusBarStyle;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UITabbarControllerå¿«é€Ÿæ·»åŠ å­æ§åˆ¶å™¨</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> *  æ·»åŠ ä¸€ä¸ªå­æ§åˆ¶å™¨</div><div class="line"> *</div><div class="line"> *  @param childVC       å­æ§åˆ¶å™¨</div><div class="line"> *  @param title         æ ‡é¢˜</div><div class="line"> *  @param image         å›¾ç‰‡</div><div class="line"> *  @param selectedImage é€‰ä¸­çš„å›¾ç‰‡</div><div class="line"> */</div><div class="line">- (<span class="keyword">void</span>)addChildVc:(<span class="built_in">UIViewController</span> *)childVC title:(<span class="built_in">NSString</span> *)title image:(<span class="built_in">NSString</span> *)image selectedImage:(<span class="built_in">NSString</span> *)selectedImage</div><div class="line">&#123;</div><div class="line">    <span class="comment">// è®¾ç½®å­æ§åˆ¶å™¨çš„æ–‡å­—</span></div><div class="line">    childVC.title = title;</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®å­æ§åˆ¶å™¨çš„å›¾ç‰‡</span></div><div class="line">    childVC.tabBarItem.image = [[<span class="built_in">UIImage</span> imageNamed:image]imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</div><div class="line">    childVC.tabBarItem.selectedImage = [[<span class="built_in">UIImage</span> imageNamed:selectedImage]imageWithRenderingMode:<span class="built_in">UIImageRenderingModeAlwaysOriginal</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®æ–‡å­—çš„æ ·å¼</span></div><div class="line">    <span class="built_in">NSMutableDictionary</span> *textAttrs = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">    textAttrs[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> itemColor];</div><div class="line">    <span class="built_in">NSMutableDictionary</span> *selectTextAttrs = [<span class="built_in">NSMutableDictionary</span> dictionary];</div><div class="line">    selectTextAttrs[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> themeColor];</div><div class="line">    [childVC.tabBarItem setTitleTextAttributes:textAttrs forState:<span class="built_in">UIControlStateNormal</span>];</div><div class="line">    [childVC.tabBarItem setTitleTextAttributes:selectTextAttrs forState:<span class="built_in">UIControlStateSelected</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// æ·»åŠ ä¸ºå­æ§åˆ¶å™¨</span></div><div class="line">    [<span class="keyword">self</span> addChildViewController:childVC];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UINavigationController<br> ç»Ÿä¸€è®¾ç½®è¿”å›é”®æ ·å¼</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)pushViewController:(<span class="built_in">UIViewController</span> *)viewController animated:(<span class="built_in">BOOL</span>)animated</div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="keyword">self</span>.viewControllers.count &gt; <span class="number">0</span>) &#123;</div><div class="line">		<span class="comment">// è‡ªåŠ¨æ˜¾ç¤ºå’Œéšè—tabbar</span></div><div class="line">		viewController.hidesBottomBarWhenPushed = <span class="literal">YES</span>;</div><div class="line">		<span class="comment">// è®¾ç½®å·¦è¾¹çš„è¿”å›æŒ‰é’®</span></div><div class="line">		<span class="comment">// UIBarButtonItem category æ–¹æ³•,å¿«é€Ÿä¿®æ”¹å›¾ç‰‡</span></div><div class="line">        viewController.navigationItem.leftBarButtonItem = [<span class="built_in">UIBarButtonItem</span></div><div class="line">        itemWithTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(popVC) image:<span class="string">@"wihteback_normal"</span></div><div class="line">        highImage:<span class="string">@"wihteback_hign"</span>];</div><div class="line">	&#125;</div><div class="line">	[<span class="keyword">super</span> pushViewController:viewController animated:animated];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ·»åŠ å…¨å±è¿”å›æ‰‹åŠ¿</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIPanGestureRecognizer</span> *pan; <span class="comment">/**&lt; è¿”å›æ‰‹åŠ¿*/</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">BOOL</span> panGesEnable;           <span class="comment">/**&lt; æ˜¯å¦å¯ç”¨å…¨å±æ‰‹åŠ¿*/</span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad</div><div class="line">&#123;	</div><div class="line">	[<span class="keyword">super</span> viewDidLoad];</div><div class="line">	<span class="comment">// è·å–ç³»ç»Ÿè‡ªå¸¦æ»‘åŠ¨æ‰‹åŠ¿çš„targetå¯¹è±¡</span></div><div class="line">    <span class="keyword">id</span> target = <span class="keyword">self</span>.interactivePopGestureRecognizer.delegate;</div><div class="line">    <span class="comment">// åˆ›å»ºå…¨å±æ»‘åŠ¨æ‰‹åŠ¿ï¼Œè°ƒç”¨ç³»ç»Ÿè‡ªå¸¦æ»‘åŠ¨æ‰‹åŠ¿çš„targetçš„actionæ–¹æ³•</span></div><div class="line">    SEL action = <span class="built_in">NSSelectorFromString</span>(<span class="string">@"handleNavigationTransition:"</span>);</div><div class="line">    <span class="built_in">UIPanGestureRecognizer</span> *pan = [[<span class="built_in">UIPanGestureRecognizer</span> alloc] initWithTarget:target action:action];</div><div class="line">    <span class="comment">// è®¾ç½®æ‰‹åŠ¿ä»£ç†ï¼Œæ‹¦æˆªæ‰‹åŠ¿è§¦å‘</span></div><div class="line">    pan.delegate = <span class="keyword">self</span>;</div><div class="line">    <span class="keyword">self</span>.pan = pan;</div><div class="line">    <span class="comment">// ç»™å¯¼èˆªæ§åˆ¶å™¨çš„viewæ·»åŠ å…¨å±æ»‘åŠ¨æ‰‹åŠ¿</span></div><div class="line">    [<span class="keyword">self</span>.view addGestureRecognizer:pan];</div><div class="line">    <span class="comment">// ç¦æ­¢ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„æ»‘åŠ¨æ‰‹åŠ¿</span></div><div class="line">    <span class="keyword">self</span>.interactivePopGestureRecognizer.enabled = <span class="literal">NO</span>;</div><div class="line">    <span class="comment">// é»˜è®¤å¯ç”¨</span></div><div class="line">    <span class="keyword">self</span>.panGesEnable = <span class="literal">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">BOOL</span>)gestureRecognizerShouldBegin:(<span class="built_in">UIGestureRecognizer</span> *)gestureRecognizer</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!<span class="keyword">self</span>.panGesEnable) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.childViewControllers.count == <span class="number">1</span> ? <span class="literal">NO</span> : <span class="literal">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIColor</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä½¿ç”¨16è¿›åˆ¶é¢œè‰²</span></div><div class="line">+ (<span class="built_in">UIColor</span> *)colorWithRGBHex:(<span class="built_in">UInt32</span>)hex</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> r = (hex &gt;&gt; <span class="number">16</span>) &amp; <span class="number">0xFF</span>;</div><div class="line">    <span class="keyword">int</span> g = (hex &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0xFF</span>;</div><div class="line">    <span class="keyword">int</span> b = (hex) &amp; <span class="number">0xFF</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> [<span class="built_in">UIColor</span> colorWithRed:r / <span class="number">255.0</span>f</div><div class="line">                           green:g / <span class="number">255.0</span>f</div><div class="line">                            blue:b / <span class="number">255.0</span>f</div><div class="line">                           alpha:<span class="number">1.0</span>f];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä½¿ç”¨16è¿›åˆ¶é¢œè‰²å­—ç¬¦ä¸²æ ¼å¼</span></div><div class="line">+ (<span class="built_in">UIColor</span> *)colorWithHexString:(<span class="built_in">NSString</span> *)stringToConvert</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSString</span> *cString = [[stringToConvert stringByTrimmingCharactersInSet:[<span class="built_in">NSCharacterSet</span> whitespaceAndNewlineCharacterSet]] uppercaseString];</div><div class="line">    </div><div class="line">    <span class="comment">// String should be 6 or 8 characters</span></div><div class="line">    <span class="keyword">if</span> ([cString length] &lt; <span class="number">6</span>) &#123;</div><div class="line">        <span class="keyword">return</span> [<span class="built_in">UIColor</span> clearColor];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// strip 0X if it appears</span></div><div class="line">    <span class="keyword">if</span> ([cString hasPrefix:<span class="string">@"0X"</span>])</div><div class="line">        cString = [cString substringFromIndex:<span class="number">2</span>];</div><div class="line">    <span class="keyword">if</span> ([cString hasPrefix:<span class="string">@"#"</span>])</div><div class="line">        cString = [cString substringFromIndex:<span class="number">1</span>];</div><div class="line">    <span class="keyword">if</span> ([cString length] != <span class="number">6</span>)</div><div class="line">        <span class="keyword">return</span> [<span class="built_in">UIColor</span> clearColor];</div><div class="line">    </div><div class="line">    <span class="built_in">NSScanner</span> *scanner = [<span class="built_in">NSScanner</span> scannerWithString:cString];</div><div class="line">    <span class="keyword">unsigned</span> hexNum;</div><div class="line">    <span class="keyword">if</span> (![scanner scanHexInt:&amp;hexNum]) <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">return</span> [<span class="built_in">UIColor</span> colorWithRGBHex:hexNum];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å¸¸ç”¨é¢œè‰²å†™æˆåˆ†ç±»</span></div><div class="line">+ (<span class="built_in">UIColor</span> *)themeColor </div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [<span class="built_in">UIColor</span> colorWithRed:<span class="number">0</span> green:<span class="number">0</span> blue:<span class="number">0</span> alpha:<span class="number">1.0</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIImage</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ ¹æ®é¢œè‰²ç”Ÿæˆå›¾ç‰‡</span></div><div class="line">+ (<span class="built_in">UIImage</span> *)imageWithColor:(<span class="built_in">UIColor</span> *)color</div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> [<span class="keyword">self</span> imageWithColor:color size:<span class="built_in">CGSizeMake</span>(<span class="number">1</span>, <span class="number">1</span>)];</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (<span class="built_in">UIImage</span> *)imageWithColor:(<span class="built_in">UIColor</span> *)color size:(<span class="built_in">CGSize</span>)size</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!color || size.width &lt;= <span class="number">0</span> || size.height &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0.0</span>f, <span class="number">0.0</span>f, size.width, size.height);</div><div class="line">    <span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(rect.size, <span class="literal">NO</span>, <span class="number">0</span>);</div><div class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line">    <span class="built_in">CGContextSetFillColorWithColor</span>(context, color.CGColor);</div><div class="line">    <span class="built_in">CGContextFillRect</span>(context, rect);</div><div class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</div><div class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</div><div class="line">    <span class="keyword">return</span> image;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIView &amp;&amp; UIViewController<br>ä¸ºUIViewå¿«é€Ÿæ·»åŠ è¾¹æ¡†<br> <a href="https://github.com/aaronn/UIView-Borders" target="_blank" rel="external">UIView+Borders.h</a><br>ä¸ºUIViewæ·»åŠ çº¢ç‚¹,æ•°å­—ç­‰<br> <a href="https://github.com/weng1250/WZLBadge" target="_blank" rel="external">WZLBadge</a><br>æ ¹æ®è§†å›¾æ‰¾åˆ°æ§åˆ¶å™¨</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIViewController</span> *)viewController </div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="built_in">UIView</span> *view = <span class="keyword">self</span>; view; view = view.superview) &#123;</div><div class="line">        <span class="built_in">UIResponder</span> *nextResponder = [view nextResponder];</div><div class="line">        <span class="keyword">if</span> ([nextResponder isKindOfClass:[<span class="built_in">UIViewController</span> <span class="keyword">class</span>]]) &#123;</div><div class="line">            <span class="keyword">return</span> (<span class="built_in">UIViewController</span> *)nextResponder;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è·å–æŸä¸ªèŒƒå›´å†…çš„å›¾å½¢</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">-Â (<span class="built_in">UIImage</span>Â *)imageFromView:(<span class="built_in">UIView</span>Â *)theViewÂ atFrame:(<span class="built_in">CGRect</span>)r</div><div class="line">&#123;Â </div><div class="line">	<span class="built_in">UIGraphicsBeginImageContext</span>(theView.frame.size);Â </div><div class="line">	<span class="built_in">CGContextRef</span>Â contextÂ =Â <span class="built_in">UIGraphicsGetCurrentContext</span>();Â </div><div class="line">	<span class="built_in">CGContextSaveGState</span>(context);Â </div><div class="line">	<span class="built_in">UIRectClip</span>(r);Â </div><div class="line">	[theView.layerÂ renderInContext:context];Â </div><div class="line">	<span class="built_in">UIImage</span>Â *theImageÂ =Â <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();Â </div><div class="line">	<span class="built_in">UIGraphicsEndImageContext</span>();Â Â  Â  Â  Â  Â </div><div class="line">	<span class="keyword">return</span>Â  theImage;Â </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>UIViewç§»é™¤æ‰€æœ‰å­è§†å›¾</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)removeAllSubviews</div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span> (<span class="keyword">self</span>.subviews.count) &#123;</div><div class="line">        [<span class="keyword">self</span>.subviews.lastObject removeFromSuperview];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>UIViewControlleré»˜è®¤è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.automaticallyAdjustsScrollViewInsets = <span class="literal">NO</span>;</div><div class="line"><span class="keyword">self</span>.edgesForExtendedLayout = <span class="built_in">UIRectEdgeNone</span>;</div><div class="line">- (<span class="built_in">UIEdgeInsets</span>)contentInset </div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">UIEdgeInsetsMake</span>(<span class="number">64</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç½‘æ˜“äº‘éŸ³ä¹å¯åŠ¨åŠ¨ç”»</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">TestViewController *test = [[TestViewController alloc] init];</div><div class="line"><span class="built_in">UIWindow</span> *keyWindow = [<span class="built_in">UIApplication</span> sharedApplication].keyWindow;Â Â Â </div><div class="line">[<span class="built_in">UIView</span> transitionWithView:keyWindow duration:<span class="number">0.5</span> options:<span class="built_in">UIViewAnimationOptionTransitionFlipFromLeft</span> animations:^&#123;</div><div class="line">Â Â Â Â Â Â Â  [<span class="built_in">UIApplication</span> sharedApplication].keyWindow.rootViewController = test;</div><div class="line">&#125; completion:^(<span class="built_in">BOOL</span> finished) &#123;</div><div class="line">Â Â Â Â Â Â Â  </div><div class="line">&#125;];</div></pre></td></tr></table></figure>
</li>
<li><p>UITableViewCell &amp;&amp; UITableView &amp;&amp; UITableViewController<br>table view cellé€‰ä¸­èƒŒæ™¯</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setSelected:(<span class="built_in">BOOL</span>)selected animated:(<span class="built_in">BOOL</span>)animated </div><div class="line">&#123;</div><div class="line">    [<span class="keyword">super</span> setSelected:selected animated:animated];</div><div class="line">    <span class="keyword">if</span> (selected) &#123;</div><div class="line">    	<span class="comment">// é€‰ä¸­</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    	<span class="comment">// éé€‰ä¸­</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>table view cell å·¦å³é—´è·,ä¸å¡«å……æ•´ä¸ªtable view</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setFrame:(<span class="built_in">CGRect</span>)frame</div><div class="line">&#123;</div><div class="line">    frame.origin.x = LEFT_MARGIN;</div><div class="line">    frame.size.width = kScreenWidth - LEFT_MARGIN * <span class="number">2</span>;</div><div class="line">    [<span class="keyword">super</span> setFrame:frame];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>table view cell åˆ†å‰²çº¿</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ–¹æ³•1,é‡å†™drawRectæ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect </div><div class="line">&#123;</div><div class="line">Â Â Â  <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line">Â Â Â  <span class="built_in">CGContextSetFillColorWithColor</span>(context, [<span class="built_in">UIColor</span> clearColor].CGColor);</div><div class="line">Â Â Â  <span class="built_in">CGContextFillRect</span>(context, rect);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  <span class="comment">//ä¸Šåˆ†å‰²çº¿</span></div><div class="line">Â Â Â  <span class="built_in">CGContextSetStrokeColorWithColor</span>(context,[<span class="built_in">UIColor</span> whiteColor].CGColor);</div><div class="line">Â Â Â  <span class="built_in">CGContextStrokeRect</span>(context,<span class="built_in">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,rect.size.width,<span class="number">1</span>));</div><div class="line">Â Â Â </div><div class="line">Â Â Â  <span class="comment">//ä¸‹åˆ†å‰²çº¿</span></div><div class="line">Â Â Â  <span class="built_in">CGContextSetStrokeColorWithColor</span>(context,[<span class="built_in">UIColor</span> whiteColor].CGColor);</div><div class="line">Â Â Â  <span class="built_in">CGContextStrokeRect</span>(context,<span class="built_in">CGRectMake</span>(<span class="number">0</span>,rect.size.height<span class="number">-1</span>,rect.size.width,<span class="number">1</span>)); </div><div class="line">&#125;</div><div class="line"><span class="comment">// æ–¹æ³•2,éšè—è‡ªå¸¦åˆ†å‰²çº¿,ç„¶åå†content viewçš„layerä¸Šæ·»åŠ 1åƒç´ çš„layer</span></div></pre></td></tr></table></figure>
<p>table view é»˜è®¤è®¾ç½®</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// èƒŒæ™¯è‰²</span></div><div class="line">tableView.backgroundColor = [<span class="built_in">UIColor</span> viewBackgroundColor];</div><div class="line"><span class="comment">// åˆ†å‰²çº¿æ ·å¼å»é™¤</span></div><div class="line">tableView.separatorStyle = <span class="built_in">UITableViewCellSeparatorStyleNone</span>;</div><div class="line"><span class="comment">// è¡¨å°¾å»é™¤</span></div><div class="line">tableView.tableFooterView = [<span class="built_in">UIView</span> new];</div><div class="line"><span class="comment">// è¡¨å¤´å»é™¤</span></div><div class="line">tableView.tableHeaderView = [<span class="built_in">UIView</span> new];</div><div class="line"><span class="comment">// åŒºå¤´é»˜è®¤æœ‰10é«˜åº¦,è®¾ç½®0æ— æ•ˆ,å¯ä»¥è®¾ç½®ä¸º0.01</span></div></pre></td></tr></table></figure>
<p>table view controller æ·»åŠ 3D Touch</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1.éµå¾ªä»£ç†`UIViewControllerPreviewingDelegate`</span></div><div class="line"><span class="comment">// 2.æ³¨å†Œcell</span></div><div class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath </div><div class="line">&#123;</div><div class="line">    DHCell *cell = [DHCell cellWithTableView:tableView];</div><div class="line">    <span class="comment">// æ³¨å†Œ</span></div><div class="line">    [<span class="keyword">self</span> registerForPreviewingWithDelegate:<span class="keyword">self</span> sourceView:cell];</div><div class="line">    <span class="keyword">return</span> cell;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 3.éœ€è¦è·³è½¬çš„ç›®æ ‡æ§åˆ¶å™¨</span></div><div class="line">- (<span class="built_in">UIViewController</span> *)previewingContext:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerPreviewing</span>&gt;)previewingContext viewControllerForLocation:(<span class="built_in">CGPoint</span>)location</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSIndexPath</span> *indexPath = [_tableView indexPathForCell:(<span class="built_in">UITableViewCell</span>* )[previewingContext sourceView]];</div><div class="line">	DestinationViewController *destinationVC = [[DestinationViewController alloc] init];</div><div class="line">	<span class="built_in">UINavigationController</span> *navc = [[<span class="built_in">UINavigationController</span> alloc] initWithRootViewController:destinationVC];</div><div class="line">	<span class="keyword">return</span> navc;</div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)previewingContext:(<span class="keyword">id</span> &lt;<span class="built_in">UIViewControllerPreviewing</span>&gt;)previewingContext commitViewController:(<span class="built_in">UIViewController</span> *)viewControllerToCommit</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span> showViewController:viewControllerToCommit.childViewControllers[<span class="number">0</span>] sender:<span class="keyword">self</span>];</div><div class="line">&#125;</div><div class="line"><span class="comment">// 4.ç›®æ ‡æ§åˆ¶çš„æ“ä½œ,å†™åœ¨ç›®æ ‡æ§åˆ¶å™¨çš„å®ç°é‡Œé¢</span></div><div class="line">- (<span class="built_in">NSArray</span>&lt;<span class="keyword">id</span>&lt;<span class="built_in">UIPreviewActionItem</span>&gt;&gt; *)previewActionItems</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UIPreviewAction</span> * action1 = [<span class="built_in">UIPreviewAction</span> actionWithTitle:<span class="string">@"æ“ä½œ1"</span> style:<span class="built_in">UIPreviewActionStyleDefault</span> handler:^(<span class="built_in">UIPreviewAction</span> * _Nonnull action, <span class="built_in">UIViewController</span> * _Nonnull previewViewController) &#123;</div><div class="line">        DHLog(<span class="string">@"æ“ä½œ1"</span>);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    <span class="built_in">UIPreviewAction</span> * action2 = [<span class="built_in">UIPreviewAction</span> actionWithTitle:<span class="string">@"æ“ä½œ2"</span> style:<span class="built_in">UIPreviewActionStyleSelected</span> handler:^(<span class="built_in">UIPreviewAction</span> * _Nonnull action, <span class="built_in">UIViewController</span> * _Nonnull previewViewController) &#123;</div><div class="line">        DHLog(<span class="string">@"æ“ä½œ2"</span>);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    <span class="built_in">UIPreviewAction</span> * action3 = [<span class="built_in">UIPreviewAction</span> actionWithTitle:<span class="string">@"æ“ä½œ3"</span> style:<span class="built_in">UIPreviewActionStyleDestructive</span> handler:^(<span class="built_in">UIPreviewAction</span> * _Nonnull action, <span class="built_in">UIViewController</span> * _Nonnull previewViewController) &#123;</div><div class="line">        DHLog(<span class="string">@"æ“ä½œ3"</span>);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    <span class="built_in">NSArray</span> * actions = @[action1,action2,action3];</div><div class="line">    <span class="keyword">return</span> actions;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>app æ·»åŠ  <code>Shortcuts</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions</div><div class="line">&#123;</div><div class="line">	<span class="built_in">UIApplicationShortcutItem</span> *addItem = [[<span class="built_in">UIApplicationShortcutItem</span> alloc] initWithType:SHORTCUT_TYPE_ADD localizedTitle:<span class="string">@"æ·»åŠ "</span> localizedSubtitle:<span class="literal">nil</span> icon:	[<span class="built_in">UIApplicationShortcutIcon</span> iconWithType:<span class="built_in">UIApplicationShortcutIconTypeAdd</span>]</div><div class="line">	userInfo:@&#123;<span class="string">@"infoKey"</span>: <span class="string">@"infoValue"</span>&#125;];</div><div class="line">	[<span class="built_in">UIApplication</span> sharedApplication].shortcutItems = @[addItem];</div><div class="line">	<span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line"></div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)application:(<span class="built_in">UIApplication</span> *)application performActionForShortcutItem:(<span class="built_in">UIApplicationShortcutItem</span> *)shortcutItem completionHandler:(<span class="keyword">void</span>(^)(<span class="built_in">BOOL</span> succeeded))completionHandler</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> ([shortcutItem.type isEqualToString:SHORTCUT_TYPE_ADD]) &#123;</div><div class="line">    	<span class="comment">// do something</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>UIFont<br>æ·»åŠ è‡ªå®šä¹‰å­—ä½“<br>ç¬¬ä¸€æ­¥,Info.plistæ·»åŠ <code>Fonts provided by application</code> array,<code>item0</code>key,value ä¸ºå­—ä½“æ–‡ä»¶åç§°å…¨å†™;<br>ç¬¬äºŒæ­¥,æ‰“å°æ‰€ä»¥å­—ä½“,æ‰¾åˆ°è‡ªå®šä¹‰å­—ä½“æ‰€åœ¨familyåç§°,æ ¹æ®åç§°æ‰¾åˆ°å…·ä½“å­—çš„åç§°;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> *familays = [<span class="built_in">UIFont</span> familyNames];</div><div class="line">NAArray *names = [<span class="built_in">UIFont</span> fontNamesForFamilyName:familyName];</div></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰æ­¥,åŠ è½½å­—ä½“.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIfont</span> *customFont = [<span class="built_in">UIFont</span> fontWithName:fontName size:fontSize];</div></pre></td></tr></table></figure></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[UIWebViewæ¸…é™¤ç¼“å­˜]]></title>
      <url>https://jiangdaohong.github.io./2016/10/22/UIWebView%E6%B8%85%E9%99%A4%E7%BC%93%E5%AD%98/</url>
      <content type="html"><![CDATA[<p>webviewæ¸…ç†ç¼“å­˜çš„æ­£ç¡®å§¿åŠ¿<br><a id="more"></a></p>
<p>æœ€è¿‘é¡¹ç›®ä¸­åŠ äº†ä¸å°‘ç½‘é¡µ,æœ‰ä¸€äº›å†…å®¹ç»å¸¸å˜åŠ¨,æœªèƒ½åŠæ—¶åˆ·æ–°,ç½‘ä¸Šæ‰¾äº†ä¸€äº›æ–¹æ³•,åŒ…æ‹¬æ¸…é™¤<code>NSURLCache</code>å’Œå†™<code>js</code>è¿›è¡Œæ¸…é™¤,æˆ–è€…åŠ è½½ä¹‹å‰è¿›è¡Œ<code>reload</code>æ“ä½œ,å‘ç°éƒ½æ²¡æ•ˆæœ,å…³æ‰ç½‘ç»œè¿˜æ˜¯å¯ä»¥åŠ è½½å‡ºæ¥ğŸ˜¶åæ¥å‘ç°æƒ³çš„å¤æ‚äº†,ç›´æ¥åˆå§‹åŒ–<code>request</code>çš„æ—¶å€™ç¼“å­˜ç­–ç•¥é€‰æ‹©å¿½ç•¥æœ¬åœ°ç¼“å­˜å°±å¥½äº†,ä¸€å£°å¹æ¯â€¦<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSURLRequest</span> *request = [[<span class="built_in">NSURLRequest</span> alloc] initWithURL:[<span class="built_in">NSURL</span> URLWithString:urlStr] cachePolicy:<span class="built_in">NSURLRequestReloadIgnoringLocalCacheData</span> timeoutInterval:HTTP_REQUSET_TIMEOUT_INTERVAL];</div><div class="line">[webView loadRequest:request];</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é¡¹ç›®å¼€å‘ä¸­çš„GCDå®æˆ˜åº”ç”¨]]></title>
      <url>https://jiangdaohong.github.io./2016/10/22/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84GCD%E5%AE%9E%E6%88%98%E5%BA%94%E7%94%A8/</url>
      <content type="html"><![CDATA[<p>æ•´ç†ä¸€ä¸‹é¡¹ç›®ä¸­GCDçš„åº”ç”¨<br><a id="more"></a></p>
<p>GCDæ˜¯appleæä¾›çš„ä¸€ç»„Cè¯­è¨€çš„API,ä¸»è¦ç”¨äºå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½,æ¯”å¦‚å¹¶å‘ç¼–ç¨‹ç­‰,è™½ç„¶æ˜¯Cè¯­è¨€çš„æ¥å£,ä½†æ˜¯ç»è¿‡blockå°è£…,è°ƒç”¨ååˆ†æ–¹ä¾¿,å› æ­¤åœ¨é¡¹ç›®ä¸­åº”ç”¨ååˆ†å¹¿æ³›,ç°åœ¨æ€»ç»“ä¸€ä¸‹æˆ‘ä¸ªäººåœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨.</p>
<h3 id="å»¶è¿Ÿæ‰§è¡Œ"><a href="#å»¶è¿Ÿæ‰§è¡Œ" class="headerlink" title="å»¶è¿Ÿæ‰§è¡Œ"></a>å»¶è¿Ÿæ‰§è¡Œ</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSTimeInterval</span> delayTime = <span class="number">5</span>;</div><div class="line">dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayTime * <span class="built_in">NSEC_PER_SEC</span>)), 	dispatch_get_main_queue(), ^&#123;</div><div class="line">        <span class="comment">/// do someting on main thread</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="å¿«é€Ÿåˆ›å»ºå•ä¾‹"><a href="#å¿«é€Ÿåˆ›å»ºå•ä¾‹" class="headerlink" title="å¿«é€Ÿåˆ›å»ºå•ä¾‹"></a>å¿«é€Ÿåˆ›å»ºå•ä¾‹</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)shareInstance</div><div class="line">&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">id</span> shareInstance = <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        shareInstance = [[<span class="keyword">self</span> alloc] init];</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> shareInstance;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å¼‚æ­¥æ‰§è¡Œä»£ç "><a href="#å¼‚æ­¥æ‰§è¡Œä»£ç " class="headerlink" title="å¼‚æ­¥æ‰§è¡Œä»£ç "></a>å¼‚æ­¥æ‰§è¡Œä»£ç </h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">dispatch_sync</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">	<span class="comment">// do something ,global queue</span></div><div class="line">	<span class="built_in">dispatch_sync</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">		<span class="comment">// main thread</span></div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="é¡ºåºæ‰§è¡Œä»£ç -ç›¸å½“äºä½¿ç”¨NSOperationQueueçš„Dependency"><a href="#é¡ºåºæ‰§è¡Œä»£ç -ç›¸å½“äºä½¿ç”¨NSOperationQueueçš„Dependency" class="headerlink" title="é¡ºåºæ‰§è¡Œä»£ç (ç›¸å½“äºä½¿ç”¨NSOperationQueueçš„Dependency)"></a>é¡ºåºæ‰§è¡Œä»£ç (ç›¸å½“äºä½¿ç”¨<code>NSOperationQueue</code>çš„<code>Dependency</code>)</h3><p>1,2,3åŒæ—¶æ‰§è¡Œ,4æœ€åæ‰“å°<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">dispatch_group_t serviceGroup = dispatch_group_create();</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_enter(serviceGroup);</div><div class="line">Â Â Â  <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"1---%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</div><div class="line">Â Â Â Â Â Â Â  dispatch_group_leave(serviceGroup);</div><div class="line">Â Â Â  &#125;);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_enter(serviceGroup);</div><div class="line">Â Â Â  <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"2---%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</div><div class="line">Â Â Â Â Â Â Â  dispatch_group_leave(serviceGroup);</div><div class="line">Â Â Â  &#125;);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_enter(serviceGroup);</div><div class="line">Â Â Â  <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"3---%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</div><div class="line">Â Â Â Â Â Â Â  dispatch_group_leave(serviceGroup);</div><div class="line">Â Â Â  &#125;);</div><div class="line">Â Â Â </div><div class="line">Â Â Â  dispatch_group_notify(serviceGroup, dispatch_get_main_queue(), ^&#123;</div><div class="line">Â Â Â Â Â Â Â  <span class="built_in">NSLog</span>(<span class="string">@"4----%@"</span>, [<span class="built_in">NSThread</span> currentThread]); </div><div class="line">Â Â Â  &#125;);</div></pre></td></tr></table></figure></p>
<p>1,2å¼‚æ­¥æ‰§è¡Œå®Œæ¯•å†å¼‚æ­¥æ‰§è¡Œ3,4<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">dispatch_queue_t</span> barrierQueue = dispatch_queue_create(<span class="string">"jiangdaohong.github.io"</span>, DISPATCH_QUEUE_CONCURRENT);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"1"</span>);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"2"</span>);</div><div class="line">    &#125;);</div><div class="line">    dispatch_barrier_async(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"dispatch_barrier_async test"</span>);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"3"</span>);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">dispatch_async</span>(barrierQueue, ^()&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"4"</span>);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<h3 id="åŒæ­¥è¯·æ±‚"><a href="#åŒæ­¥è¯·æ±‚" class="headerlink" title="åŒæ­¥è¯·æ±‚"></a>åŒæ­¥è¯·æ±‚</h3><p>ç”±äºNSURLSessionæ²¡æœ‰æä¾›åŒæ­¥è¯·æ±‚,å¯ä»¥åˆ©ç”¨<code>semaphore</code>å®ç°åŒæ­¥è¯·æ±‚.<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSURLSession</span> *session = [<span class="built_in">NSURLSession</span> sharedSession];</div><div class="line"><span class="comment">// åˆ›å»ºä¿¡å·</span></div><div class="line">dispatch_semaphore_t semaphore = dispatch_semaphore_create(<span class="number">0</span>);</div><div class="line"><span class="built_in">NSURLSessionDataTask</span> *task = [session dataTaskWithRequest:request completionHandler:^(<span class="built_in">NSData</span> *data, <span class="built_in">NSURLResponse</span> *response, <span class="built_in">NSError</span> *error) &#123;</div><div class="line">    <span class="comment">// è®¾ç½®ä¿¡å·é‡</span></div><div class="line">    dispatch_semaphore_signal(semaphore);</div><div class="line">&#125;];</div><div class="line"></div><div class="line">[task resume];</div><div class="line"><span class="comment">// ç­‰å¾…</span></div><div class="line">dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div></pre></td></tr></table></figure></p>
<h3 id="å®šæ—¶å™¨-NSTimerä¸å‡†"><a href="#å®šæ—¶å™¨-NSTimerä¸å‡†" class="headerlink" title="å®šæ—¶å™¨(NSTimerä¸å‡†)"></a>å®šæ—¶å™¨(NSTimerä¸å‡†)</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å€’è®¡æ—¶æ—¶é—´</span></div><div class="line">__block <span class="keyword">int</span> timeout = <span class="number">60</span>;</div><div class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, <span class="number">0</span>, <span class="number">0</span>, queue);</div><div class="line"><span class="comment">// æ‰§è¡Œé—´éš”1s</span></div><div class="line">dispatch_source_set_timer(timer, dispatch_walltime(<span class="literal">NULL</span>, <span class="number">0</span>),<span class="number">1.0</span> * <span class="built_in">NSEC_PER_SEC</span>, <span class="number">0</span>);</div><div class="line">dispatch_source_set_event_handler(timer, ^&#123;</div><div class="line">    <span class="keyword">if</span>(timeout &lt;= <span class="number">0</span>)&#123;</div><div class="line">        <span class="comment">// å€’è®¡æ—¶ç»“æŸï¼Œå…³é—­</span></div><div class="line">        dispatch_source_cancel(timer);</div><div class="line">        <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">            <span class="comment">// ä¸»çº¿ç¨‹åˆ·æ–°UI</span></div><div class="line">        &#125;);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">int</span> minutes = timeout / <span class="number">60</span>;</div><div class="line">        <span class="keyword">int</span> seconds = timeout % <span class="number">60</span>;</div><div class="line">        <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">            <span class="comment">// ä¸»çº¿ç¨‹åˆ·æ–°UI</span></div><div class="line">        &#125;);</div><div class="line">        timeout--;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">dispatch_resume(timer);</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é¡¹ç›®å¼€å‘ä¸­KVCçš„ç®€å•åº”ç”¨]]></title>
      <url>https://jiangdaohong.github.io./2016/10/03/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%ADKVC%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/</url>
      <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­æœ‰äº›æ—¶å€™ä½¿ç”¨KVC,å¯ä»¥èŠ‚çœå¾ˆå¤šçš„æ—¶é—´ç²¾åŠ›,å®ç°å¿«é€Ÿå¼€å‘</p>
<a id="more"></a>
<p>å‰ä¸€æ®µæ—¶é—´æœ‰åŒå­¦é—®æˆ‘,èƒ½ä¸èƒ½åœ¨ä¸è‡ªå®šä¹‰UIçš„æƒ…å†µä¸‹,ä¿®æ”¹ActionSheetæŒ‡å®štitleçš„é¢œè‰²,å½“æ—¶è¯´å¾ˆç®€å•å•Š,Runtimeè·å–å®ä¾‹å˜é‡åˆ—è¡¨,æ‰¾åˆ°è®¾ç½®æ ‡é¢˜é¢œè‰²çš„key,ä½¿ç”¨KVCå°±å¯ä»¥æå®š.</p>
<h3 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h3><p>ç¼–è¯‘æ¡ä»¶: Xcode7.3.1;Project Deployment Target:iOS8.0.</p>
<h3 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h3><ol>
<li><p>åˆå§‹åŒ–ä¸€ä¸ªActionSheet.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIActionSheet</span> *actionSheet = [[<span class="built_in">UIActionSheet</span> alloc] initWithTitle:<span class="string">@"title"</span> delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@"cancle"</span> destructiveButtonTitle:<span class="string">@"destructive"</span> otherButtonTitles:<span class="string">@"other"</span>,<span class="string">@"other1"</span>, <span class="literal">nil</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>è·å–å®ä¾‹å˜é‡åˆ—è¡¨,å¯ä»¥ä¸ºNSObjectæ·»åŠ ä¸€ä¸ªCategoryæ–¹æ³•,ç”¨äºæ‰“å°åˆ—è¡¨,å…·ä½“å®ç°å¦‚ä¸‹:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)printIvarList</div><div class="line">&#123;</div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">    Ivar *ivars = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;count);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;count; i++) &#123;</div><div class="line">        Ivar ivar = ivars[i];</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"name:%s------type:%s"</span>, ivar_getName(ivar),ivar_getTypeEncoding(ivar));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">name:_alertController------type:@<span class="string">"UIAlertController"</span></div><div class="line">name:_presenter------type:@<span class="string">"_UIAlertControllerShimPresenter"</span></div><div class="line">name:_retainedSelf------type:@<span class="string">"UIActionSheet"</span></div><div class="line">name:_actions------type:@<span class="string">"NSMutableArray"</span></div><div class="line">name:_cancelIndex------type:q</div><div class="line">name:_firstOtherButtonIndex------type:q</div><div class="line">name:_destructiveButtonIndex------type:q</div><div class="line">name:_actionSheetStyle------type:q</div><div class="line">name:_context------type:@</div><div class="line">name:_hasPreparedAlertActions------type:B</div><div class="line">name:_isPresented------type:B</div><div class="line">name:_alertControllerShouldDismiss------type:B</div><div class="line">name:_handlingAlertActionShouldDismiss------type:B</div><div class="line">name:_dismissingAlertController------type:B</div><div class="line">name:_delegate------type:@<span class="string">"&lt;UIActionSheetDelegate&gt;"</span>**</div></pre></td></tr></table></figure>
<p> ä¸€çœ‹ç»“æœ,å¥½æ°”å“¦,<code>UIAlertController</code>è¿™ä¸ªç±»æ˜¯iOS8ä¹‹åæ‰å…è®¸ä½¿ç”¨çš„,ç®—äº†,æ¢ç”¨è¿™ä¸ªç±»é‡æ–°æ‰“å°ä¸€ä¸‹å§,ç»è¿‡æµ‹è¯•,<code>UIAlertAction</code>è¿™ä¸ªç±»å«æœ‰å¯ä»¥è®¾ç½®æ ‡é¢˜çš„å±æ€§,å±æ€§åˆ—è¡¨å¤§æ¦‚æ˜¯é…±ç´«çš„:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">name:_checked------type:B</div><div class="line">name:_isPreferred------type:B</div><div class="line">name:_imageTintColor------type:@"UIColor"</div><div class="line">name:_titleTextColor------type:@"UIColor"</div><div class="line">name:_style------type:q</div><div class="line">name:_handler------type:@?</div><div class="line">name:_simpleHandler------type:@?</div><div class="line">name:_image------type:@"UIImage"</div><div class="line">name:_shouldDismissHandler------type:@?</div><div class="line">name:__descriptiveText------type:@"NSString"</div><div class="line">name:_contentViewController------type:@"UIViewController"</div><div class="line">name:_keyCommandInput------type:@"NSString"</div><div class="line">name:_keyCommandModifierFlags------type:q</div><div class="line">name:__representer------type:@"&lt;UIAlertActionViewRepresentation_Internal&gt;"</div><div class="line">name:__alertController------type:@"UIAlertController"</div></pre></td></tr></table></figure>
<p> é‡Œé¢æ‰¾ä¸€ä¸‹,_titleTextColorå°±æ˜¯å®ƒäº†.</p>
</li>
<li><p>æ‰¾åˆ°äº†å°±è¯•ä¸€ä¸‹å–½.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[ac1 setValue:[<span class="built_in">UIColor</span> redColor] forKeyPath:<span class="string">@"_titleTextColor"</span>];</div></pre></td></tr></table></figure>
</li>
<li><p>runä¸€ä¸‹,å®Œç¾.</p>
</li>
<li>å…¶ä»–.<br> é€šè¿‡ç¬¬2æ­¥,å¯ä»¥çœ‹åˆ°åœ¨iOS8ä¸Šä½¿ç”¨<code>UIActionSheet</code>ä¹Ÿæ˜¯å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœçš„,å› ä¸ºå…¶ä¸­æœ‰_actionså¯ä»¥å¾—åˆ°ä¸€ä¸ª<code>UIAlertAction</code>çš„æ•°ç»„,é‡å¤ä¸Šè¿°æ­¥éª¤å³å¯å®Œæˆ,ä»¥åé€‚é…iOS7çš„åº”ç”¨è¶Šæ¥è¶Šå°‘äº†,ä¸è€ƒè™‘iOS7çš„é€‚é…,ä½¿ç”¨KVCå¯ä»¥ä¾¿æ·åœ°å®ç°è¿™ç§UIæ•ˆæœ,è¿˜æ˜¯ä¸é”™çš„.</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ¯åˆ°æ·±å¤œ,æ€»æ˜¯æœ‰è¯æƒ³è¯´è¯´]]></title>
      <url>https://jiangdaohong.github.io./2016/10/02/%E6%AF%8F%E5%88%B0%E6%B7%B1%E5%A4%9C-%E6%80%BB%E6%98%AF%E6%9C%89%E8%AF%9D%E6%83%B3%E8%AF%B4%E8%AF%B4/</url>
      <content type="html"><![CDATA[<p>éšä¾¿å†™å†™å­—<br><a id="more"></a></p>
<p>æ¥æ­å·å·¥ä½œä¸€å¹´å¤šäº†,è®°å¾—ä¸Šæ¬¡åä¸€,è¿˜åœ¨åŠ ç­æè¿™ä¸ªé¡¹ç›®,ä¸€å¹´è¿‡å»äº†,è¿˜æ˜¯è¿™ä¸ªé¡¹ç›®,å¿ƒç´¯â€¦åšäº†å¾ˆä¹…çš„ä¸œè¥¿,æ²¡æ¥å¾—åŠä¸Šçº¿å°±è¢«ç äº†,è™½è¯´æ˜¯æ¬ç –,å¿ƒé‡Œæ€»è¿˜æ˜¯ä¸çˆ½çš„.ä¹‹å‰ä¸€ç›´æƒ³å†™åšå®¢,ä½†æ˜¯ç½‘ä¸Šå¤§ç‰›å¾ˆå¤š,åšå®¢å†™çš„å¾ˆå¥½,æˆ‘å†™å‡ºæ¥æœ‰ä»€ä¹ˆç”¨å‘¢?å†…å¿ƒè¿˜æ˜¯å¸Œæœ›è®°å½•ä¸€äº›ä¸œè¥¿.ç›´åˆ°å‰ä¸€æ®µæ—¶é—´æ¯”è¾ƒç©ºé—²,å°±æ­å»ºäº†è¿™ä¸ªåšå®¢.</p>
<p>é™¤äº†æƒ³æœ‰ä¸ªåœ°æ–¹è¯´è¯´è¯,ä¹‹å‰è®°å½•å¤šå¾ˆå¤šé›¶æ•£çš„ä¸œè¥¿,éƒ½ä¿å­˜åœ¨ç¬”è®°è½¯ä»¶é‡Œé¢,å‰ä¸€æ®µæ‰å‘ç°,é‡Œé¢å®åœ¨å¤ªä¹±äº†,æ­£å¥½å€Ÿç€æ•´ç†ä¸€ä¸‹,ä»¥åæŸ¥é˜…ä¹Ÿæ–¹ä¾¿.</p>
<p>å°±è¿™æ ·,è¯å” .</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è®°ä¸€æ¬¡å…³äºnull_resettableçš„æ€§èƒ½ä¼˜åŒ–]]></title>
      <url>https://jiangdaohong.github.io./2016/10/02/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%85%B3%E4%BA%8Enull-resettable%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨è¿›è¡Œé¡¹ç›®ä¼˜åŒ–çš„æ—¶å€™é‡åˆ°äº†å…³äºnull_resettableçš„å‘,è®°å½•ä¸€ä¸‹,ç”±äºä¹‹å‰ä»£ç ä¸åœ¨äº†,ç®€å•æ¨¡æ‹Ÿä¸€ä¸‹å½“æ—¶çš„æƒ…å†µ.<br><a id="more"></a></p>
<p>æœ€è¿‘é¡¹ç›®è¦æ­£å¼ä¸Šçº¿,éœ€è¦è¿›è¡Œä¸€å®šçš„æ€§èƒ½æ–¹é¢çš„æµ‹è¯•,ç”±äºä¹‹å‰çš„æ•°æ®åŠ è½½çš„æ–¹æ¡ˆå‡ ç»å˜åŒ–,éƒ½æ²¡æœ‰å‡ºç°ä¸¥é‡çš„æ€§èƒ½é—®é¢˜,ä¹Ÿæ²¡æœ‰åœ¨æ„,ç»“æœä¸€æµ‹è¯•,ç»“æœè®©æˆ‘å¤§è·Œçœ¼é•œ:æ€§èƒ½ç®€ç›´å·®åˆ°å¤©è¾¹d(ï½¥ï½€Ï‰Â´ï½¥d*)!!!ç®€å•logä¸€ä¸‹çœ‹çœ‹é‚£é‡Œè€—æ—¶ä¸¥é‡.</p>
<h3 id="æµ‹è¯•ç¯å¢ƒ"><a href="#æµ‹è¯•ç¯å¢ƒ" class="headerlink" title="æµ‹è¯•ç¯å¢ƒ"></a>æµ‹è¯•ç¯å¢ƒ</h3><p>ç¡¬ä»¶:iPhone5C,ç³»ç»Ÿ,iOS9.0.2(è¶Šç‹±)<br>ç½‘ç»œ:è¾£é¸¡WiFiâ€¦<br>æ²¡æœ‰æ¨¡æ‹Ÿå™¨,ä¹‹å‰å¼•å…¥ç¬¬ä¸‰æ–¹è“ç‰™åº“,åªæœ‰çœŸæœºåŒ…,å‘â€¦,è¦ä¸ç„¶ç›´æ¥InstrumentsæŸ¥çœ‹äº†,ä¸è¿‡å½“æ—¶é¢„æµ‹ä¸æ˜¯å¤§é—®é¢˜,å°±ç›´æ¥logæŸ¥çœ‹äº†.</p>
<h3 id="ä¸»è¦è¿‡ç¨‹"><a href="#ä¸»è¦è¿‡ç¨‹" class="headerlink" title="ä¸»è¦è¿‡ç¨‹"></a>ä¸»è¦è¿‡ç¨‹</h3><p>æ€è·¯:ç”±äºä¹‹å‰æ˜¯é‡‡å–åˆ†æ®µåŠ è½½æ•°æ®,ä¹‹åé‡‡å–ä¸€æ¬¡æ€§åŠ è½½æ•°æ®,åŒæ—¶è¿›è¡Œ4ä¸ªç½‘ç»œè¯·æ±‚,å¯èƒ½åœ¨ç½‘ç»œæ–¹é¢æœ‰è€—æ—¶æ“ä½œ,åŒ…æ‹¬è¯·æ±‚æ•°æ®,è§£ææ•°æ®;å¦ä¸€ä¸ªå°±æ˜¯å­˜åœ¨é¢‘ç¹è°ƒç”¨æ–¹æ³•çš„ä½æ€§èƒ½,å¯¼è‡´è¿è¡Œæ…¢.<br>æµ‹è¯•æ•°æ®æ˜¯è¡€ç³–æ•°æ®,æ•°æ®æ—¶é—´è·¨åº¦ä¸ºä¸¤å¹´,æ¨¡æ‹Ÿæ•°æ®3600æ¡,ä¸»è¦åŒ…æ‹¬ç©ºè…¹è¡€ç³–æ•°æ®,ä»¥åŠæ•°æ®è®°å½•æ—¶é—´ç­‰,ç”¨äºç»˜åˆ¶æ›²çº¿å›¾,æ›²çº¿å›¾ä»¥å››å°æ—¶ä¸ºå•ä½è¿›è¡Œç»˜åˆ¶,å¯çŸ¥å…±æœ‰<code>365 * 2 * 6 = 4380</code>ä¸ªç‚¹éœ€è¦ç»˜åˆ¶,å…¶ä¸­åŒ…æ‹¬å¤§é‡çš„æ—¶é—´æ¯”è¾ƒ,å› ä¸ºåœ¨åŒä¸€æ—¶é—´åŒºé—´,æ¯”å¦‚4:00-8:00åªå…è®¸æœ‰ä¸€ä¸ªæ•°æ®è¿›è¡Œç»˜åˆ¶,å› æ­¤è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ•°æ®å»é‡æ“ä½œ.å¤§æ¦‚è¿‡ç¨‹ç†æ¸…ä¹‹å,æ‰“å°ä¸€ä¸‹æ—¶é—´:<br><img src="http://ww4.sinaimg.cn/large/006y8lVagw1f8e88oerjmj312e0megzu.jpg" alt=""></p>
<h3 id="å®šä½é—®é¢˜"><a href="#å®šä½é—®é¢˜" class="headerlink" title="å®šä½é—®é¢˜"></a>å®šä½é—®é¢˜</h3><p>ç®€å•çœ‹äº†ä¸€ä¸‹æ—¶é—´åˆ†å¸ƒ,æ€»å…±æœ‰18s,ç½‘ç»œéƒ¨åˆ†,ç½‘ç»œè¯·æ±‚7s,å…¶ä¸­æœ‰æ¥è¿‘1sçš„æ•°æ®è§£æè€—æ—¶;ç»˜å›¾éƒ¨åˆ†,ç©ºè…¹è¡€ç³–æ•°æ®ç”Ÿæˆè€—æ—¶10s.<br>è€—æ—¶ä»£ç :<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">DHLog(<span class="string">@"-----------fbgæ•°æ®å¼€å§‹------------"</span>);</div><div class="line">   __block <span class="built_in">NSMutableArray</span> *fbgVals = [<span class="built_in">NSMutableArray</span> array];</div><div class="line">   __block <span class="built_in">NSInteger</span> didAddIndex = <span class="number">-1</span>; <span class="comment">// æ ‡è®°æ˜¯å¦è¢«æ·»åŠ è¿‡</span></div><div class="line">   <span class="built_in">NSInteger</span> listCount = (<span class="built_in">NSInteger</span>)<span class="keyword">self</span>.weekRecords.count;</div><div class="line">   <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i = listCount<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">       <span class="comment">// ä»è¿œåˆ°è¿‘å–å‡ºæ—¶é—´</span></div><div class="line">       RecordBG *bg = <span class="keyword">self</span>.weekRecords[i];</div><div class="line">       <span class="built_in">NSDate</span> *currentDate = [bg.happenTime dotString2Date];</div><div class="line">       <span class="built_in">NSInteger</span> xPosition = [DHChartTool getXAxisPointWithHour:currentDate.hour];</div><div class="line">       </div><div class="line">       <span class="built_in">NSInteger</span> index = [<span class="built_in">NSDate</span> daysWithinEraFromDate:from toDate:currentDate] * <span class="number">6</span> + xPosition + <span class="number">6</span>;</div><div class="line">       <span class="keyword">if</span> (didAddIndex != index) &#123;</div><div class="line">           didAddIndex = index;</div><div class="line">           [fbgVals addObject:[[ChartDataEntry alloc] initWithValue:bg.fbg xIndex:index data:bg]];</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">   &#125;</div><div class="line">   DHLog(<span class="string">@"-----------fbgæ•°æ®OK------------"</span>);</div></pre></td></tr></table></figure></p>
<p>æŒ‰ç…§ä»¥ä¸Šæ€è·¯,ç»§ç»­æ‰“å°æ—¶é—´,æœ€åå®šä½é—®é¢˜ä»£ç <br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSInteger</span> index = [<span class="built_in">NSDate</span> daysWithinEraFromDate:from toDate:currentDate] * <span class="number">6</span> + xPosition + <span class="number">6</span>;</div></pre></td></tr></table></figure></p>
<p>è¿›å…¥çœ‹ä¸€ä¸‹è¿™è¡Œä»£ç çš„åŠŸèƒ½,ä¸»è¦ç”¨äºè®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ•´æ•°å¤©.ä»£ç å®ç°å¦‚ä¸‹:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">+ (<span class="built_in">NSInteger</span>)daysWithinEraFromDate:(<span class="built_in">NSDate</span> *) startDate toDate:(<span class="built_in">NSDate</span> *) endDate</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSCalendar</span> *cal = [<span class="built_in">NSCalendar</span> currentCalendar];</div><div class="line">    <span class="built_in">NSDate</span> *s = [[startDate dateStringWithFormatString:<span class="string">@"yyyy-MM-dd"</span>] string2DateWithFormat:<span class="string">@"yyyy-MM-dd"</span>];</div><div class="line">    <span class="built_in">NSDate</span> *e = [[endDate dateStringWithFormatString:<span class="string">@"yyyy-MM-dd"</span>] string2DateWithFormat:<span class="string">@"yyyy-MM-dd"</span>];</div><div class="line">    <span class="built_in">NSInteger</span> startDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                      inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:s];</div><div class="line">    <span class="built_in">NSInteger</span> endDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                    inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:e];</div><div class="line">    <span class="keyword">return</span> (endDay-startDay);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>çœ‹äº†ä¸€ä¸‹è¿™å‡ è¡Œä»£ç ,<code>[endDate dateStringWithFormatString:@&quot;yyyy-MM-dd&quot;]</code>ä¸»è¦ç”¨äºå»æ‰æ—¥æœŸçš„æ—¶åˆ†ç§’æ—¶é—´,<code>[cal ordinalityOfUnit:NSDayCalendarUnit inUnit:NSEraCalendarUnit forDate:s]</code>æ˜¯ç³»ç»Ÿæä¾›çš„æ–¹æ³•,è¿›è¡Œå•ç‹¬æµ‹è¯•,æ²¡å‘ç°é—®é¢˜.ä¸Šé¢çš„æ–¹æ³•å®ç°å¦‚ä¸‹:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSString</span> *)dateStringWithFormatString:(<span class="built_in">NSString</span> *)formatString &#123;</div><div class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</div><div class="line">    [dateFormatter setDateFormat:formatString];</div><div class="line">    <span class="keyword">return</span> [dateFormatter stringFromDate:<span class="keyword">self</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œåªæ˜¯å¯¹ç³»ç»Ÿæ–¹æ³•è¿›è¡Œç®€å•è°ƒç”¨,å•çœ‹ä»£ç æ²¡é—®é¢˜,æ¯ä¸ªæ–¹æ³•è¿›å…¥å¤´æ–‡ä»¶çœ‹ä¸€ä¸‹,å…¶ä¸­ä¸€ä¸ªå…³é”®å­—å¼•èµ·æ³¨æ„,æƒ³èµ·äº†ä¹‹å‰å¬è¯´è¿‡<code>NSDate</code>æœ‰æ€§èƒ½é—®é¢˜,å½“æ—¶æ²¡æ³¨æ„,ç°åœ¨çœ‹åˆ°è¿™ä¸ªå…³é”®å­—,çŒœæµ‹æ˜¯è¿™ä¸ªå±æ€§å¼•èµ·çš„æ€§èƒ½é—®é¢˜:</p>
<blockquote>
<p>NSDateFormatter.h<br>@property (null_resettable, copy) NSString *dateFormat;<br>ä½¿ç”¨null_resettableä¿®é¥°çš„å±æ€§,å­—é¢æ„ä¹‰,ä¸å¯é‡ç½®çš„,å®˜æ–¹é»˜è®¤ä½¿ç”¨è¿™ä¸ªå…³é”®å­—,å°±æ˜¯å‘Šè¯‰å¼€å‘è€…å°½é‡ä¸è¦é‡ç½®è¿™ä¸ªå±æ€§çš„å€¼,å› ä¸ºé‡ç½®éœ€è¦é‡å†™setå’Œget,é˜²æ­¢ä¸ºç©ºçš„æƒ…å†µä¸‹æ²¡æœ‰é»˜è®¤å€¼,å¥½äº†,å°±æ˜¯è¿™ä¸ªå‘.</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å®šä½åˆ°é—®é¢˜ä»£ç ,ä¼˜åŒ–è€ƒè™‘ä»ä¸¤æ–¹é¢å…¥æ‰‹,ä¸€æ˜¯é¿å…è°ƒç”¨è¿™ä¸ªæ–¹æ³•,äºŒæ˜¯æ›¿æ¢è¿™ä¸ªæ–¹æ³•çš„å®ç°,æ¢ç”¨æ›´å¥½æ€§èƒ½çš„å®ç°.åœ¨åŸå…ˆçš„ä»£ç ä¸­,æœ‰å¾ˆå¤šåœ°æ–¹è°ƒç”¨<code>[NSDate daysWithinEraFromDate: toDate:]</code>,è¿˜æœ‰å¾ˆå¤šåœ°æ–¹è°ƒç”¨æ—¥æœŸè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•.<br>é¦–å…ˆ,æŠŠç®€å•è°ƒç”¨æ—¥æœŸè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•æ”¹ä¸ºå­—ç¬¦ä¸²æˆªå–æ–¹æ³•,æ¯”å¦‚,åªéœ€è¦è·å–å¹´æœˆæ—¥çš„åœ°æ–¹å¯ä»¥è¿™æ ·è°ƒç”¨:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *dateStr = [[[[date dateByAddingDays:i] description] substringToIndex:<span class="number">10</span>] stringByReplacingOccurrencesOfString:<span class="string">@"-"</span> withString:<span class="string">@"/"</span>];</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·å°±å¯ä»¥æŠŠæ—¥æœŸè½¬æ¢ä¸ºyyyy-MM-ddæ ¼å¼,æ³¨æ„,éœ€è¦ä¿è¯dateçš„<code>description</code>è¿”å›æ ‡å‡†æ ¼å¼,é˜²æ­¢ä»–äººé‡å†™<code>description</code>å¸¦æ¥éšæ‚£,<br>å…¶æ¬¡,æŠŠéœ€è¦è¿›è¡Œè®¡ç®—æ—¥æœŸå·®çš„æ–¹æ³•æ”¹ä¸ºä¸‹é¢çš„å®ç°:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">+ (<span class="built_in">NSInteger</span>)dh_daysWithinEraFromDate:(<span class="built_in">NSString</span> *)startDate toDate:(<span class="built_in">NSString</span> *)endDate</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSCalendar</span> *cal = [<span class="built_in">NSCalendar</span> currentCalendar];</div><div class="line">    <span class="comment">// æˆªå–å¹´æœˆæ—¥</span></div><div class="line">    <span class="built_in">NSString</span> *start = [startDate substringToIndex:<span class="number">10</span>];</div><div class="line">    <span class="built_in">NSString</span> *end = [endDate substringToIndex:<span class="number">10</span>];</div><div class="line">    </div><div class="line">    <span class="keyword">static</span> <span class="built_in">NSDateFormatter</span> *formatter;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        formatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</div><div class="line">        [formatter setDateFormat:<span class="string">@"yyyy-MM-dd"</span>];</div><div class="line">        [formatter setLocale:[<span class="built_in">NSLocale</span> currentLocale]];</div><div class="line">    &#125;);</div><div class="line">    </div><div class="line">    <span class="comment">// è½¬æˆå»æ‰æ—¶åˆ†ç§’çš„æ—¥æœŸ</span></div><div class="line">    <span class="built_in">NSDate</span> *s = [formatter dateFromString:start];</div><div class="line">    <span class="built_in">NSDate</span> *e = [formatter dateFromString:end];</div><div class="line">    </div><div class="line">    <span class="built_in">NSInteger</span> startDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                      inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:s];</div><div class="line">    <span class="built_in">NSInteger</span> endDay=[cal ordinalityOfUnit:<span class="built_in">NSDayCalendarUnit</span></div><div class="line">                                    inUnit: <span class="built_in">NSEraCalendarUnit</span> forDate:e];</div><div class="line">    <span class="keyword">return</span> (endDay-startDay);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ç»è¿‡è¿™ä¸€ç•ªä¿®æ”¹,ç»˜åˆ¶æ—¶é—´ç¼©çŸ­åˆ°äº†1.5s,ä½†æ˜¯ç½‘ç»œè¯·æ±‚æ—¶é—´å¤ªä¹…,æ¥ä¸‹æ¥å°±æ˜¯è¿›è¡Œæ•°æ®æœ¬åœ°ç¼“å­˜,ç½‘ç»œåˆ†æ®µåŠ è½½æ•°æ®ç­‰æ–¹é¢ç½‘ç»œéƒ¨åˆ†çš„ä¼˜åŒ–äº†.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Xcodeå‘½ä»¤è¡Œæ‰“åŒ…]]></title>
      <url>https://jiangdaohong.github.io./2016/09/25/Xcode%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%8C%85/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨å‘½ä»¤è¡Œè¿›è¡Œæ‰“åŒ…<br><a id="more"></a></p>
<h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>æœ€è¿‘å…¬å¸è¿›è¡Œå†…éƒ¨æµ‹è¯•,è¦æ±‚æ¯å¤©è¿›è¡ŒAppæ‰“åŒ…ä¸Šä¼ ,æœ¬æ¥æƒ³æ­å»ºä¸€ä¸ªCIç³»ç»Ÿ,ä½†æ˜¯å®åœ¨æ²¡æœ‰ç²¾åŠ›(å¥½å§,æ˜¯æ²¡æœ‰æˆåŠŸâ•®(â•¯_â•°)â•­,æ­å»ºåˆ°ä¸€åŠä¸‹è½½gitç­‰æ’ä»¶çš„æ—¶å€™ä¸€ç›´å‡ºé—®é¢˜,ä¸‹æ¬¡æœ‰æ—¶é—´å†æäº†),é¡¹ç›®ä¸å¤§,ä½†æ˜¯æ¯æ¬¡æ‰“åŒ…è¦10åˆ†é’Ÿ(é‡Œé¢æœ‰Swiftæ··ç¼–,å¤§å‘),å¿ä¸äº†äº†,ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹çœ‹åˆ°æœ‰ä¸€äº›ç¼–è¯‘ä¼˜åŒ–æŒ‡ä»¤,ç„¶åçœ‹CIçš„æ—¶å€™çœ‹åˆ°äº†è‡ªåŠ¨æ‰“åŒ…å‘½ä»¤,è¯•äº†ä¸€ä¸‹,æ‰“åŒ…æ—¶é—´å¯ä»¥ç¼©çŸ­åˆ°3åˆ†é’Ÿä»¥å†…,è®°å½•ä¸€ä¸‹è¿‡ç¨‹å§.</p>
<h3 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h3><ol>
<li>Xcodeä¸­ä¿®æ”¹ç¼–è¯‘é€‰é¡¹,ä¿®æ”¹ä¸ºå‘å¸ƒç‰ˆè¯ä¹¦å’Œæè¿°æ–‡ä»¶,æˆ–è€…ä¿®æ”¹ç¼–è¯‘Target</li>
<li>ç»ˆç«¯è¿›å…¥é¡¹ç›®æ‰€åœ¨æ–‡ä»¶å¤¹</li>
<li>æ‰§è¡Œå‘½ä»¤xcodebuild clean</li>
<li><p>ç»§ç»­æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcodebuild -workspace appname.xcworkspace -scheme appname -configuration Release -derivedDataPath build</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯æœ‰workspaceçš„é¡¹ç›®çš„æŒ‡ä»¤,éœ€è¦å°†appnameæ›¿æ¢ä¸ºä½ çš„é¡¹ç›®å<br>å¦‚æœæœªä½¿ç”¨workspace,ç”¨ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcrun -sdk iphoneos PackageApplication -v build/Release-iphoneos/app.app -o /path/appname.ipa</div></pre></td></tr></table></figure>
<p>åé¢çš„æ˜¯è¾“å‡ºè·¯å¾„ä»¥åŠæ‰“åŒ…appçš„åå­—</p>
</li>
<li><p>é¡¹ç›®ä½¿ç”¨workspace,è¿›è¡Œipaè¾“å‡º,æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xcrun -sdk iphoneos PackageApplication -v /ProjectPath/build/Build/Products/Release-iphoneos/appname.app -o /path/appname.ipa</div></pre></td></tr></table></figure>
<p>ProjectPathæ›¿æ¢ä¸ºä½ é¡¹ç›®çš„è·¯å¾„,ä¿è¯æ­¤è·¯å¾„ä¸‹é¢æœ‰Release-iphoneosç›®å½•</p>
</li>
<li>å‘å¸ƒé¡¹ç›®,æš‚æ—¶æ‰‹åŠ¨å‘å¸ƒğŸ˜¢</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[RevealçœŸæœºæŸ¥çœ‹app]]></title>
      <url>https://jiangdaohong.github.io./2016/09/23/Reveal%E7%9C%9F%E6%9C%BA%E6%9F%A5%E7%9C%8Bapp/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨Revealçš„åŸºæœ¬ä½¿ç”¨<br><a id="more"></a></p>
<h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ol>
<li>ä½¿ç”¨è®¾å¤‡:iPhone5C,ç³»ç»Ÿç‰ˆæœ¬iOS9.0.2</li>
<li>Revealç‰ˆæœ¬:1.6.3</li>
<li>Cydiaç‰ˆæœ¬:1.1.26;Reveal Loaderç‰ˆæœ¬:1.0.0-1</li>
<li>Xcodeç‰ˆæœ¬:7.3.1</li>
</ol>
<h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><ol>
<li>ä¸€å°è¶Šç‹±iOSè®¾å¤‡</li>
<li>Cydiaä¸‹è½½Reveal Loader,å¦‚æœä½ æ˜¯iOSæœ€æ–°çš„æ“ä½œç³»ç»Ÿ,å»ºè®®ä¸‹è½½æœ€æ–°çš„æ’ä»¶,<a href="https://github.com/heardrwt/RevealLoader" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></li>
<li>ä¸‹è½½<a href="http://revealapp.com/download/" target="_blank" rel="external">Reveal</a>,æŸ¥çœ‹å®˜æ–¹ä½¿ç”¨è¯´æ˜</li>
<li>ä¸€å®šä¿è¯Revealå’Œè¶Šç‹±è®¾å¤‡åœ¨åŒä¸€ç½‘ç»œç¯å¢ƒä¸‹</li>
</ol>
<h3 id="çœŸæœºæŸ¥çœ‹appæ­¥éª¤"><a href="#çœŸæœºæŸ¥çœ‹appæ­¥éª¤" class="headerlink" title="çœŸæœºæŸ¥çœ‹appæ­¥éª¤"></a>çœŸæœºæŸ¥çœ‹appæ­¥éª¤</h3><ol>
<li>ä¸‹è½½éœ€è¦æŸ¥çœ‹çš„app,è¿™é‡Œæ¼”ç¤ºæŸ¥çœ‹ç³»ç»Ÿçš„æ’­å®¢app</li>
<li>æ‰“å¼€ç³»ç»Ÿè®¾ç½®,æ‰¾åˆ°Reveal,åœ¨é‡Œé¢æ‰¾åˆ°éœ€è¦æŸ¥çœ‹çš„app, enable,ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤º.<br><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f861nvo8guj20hs0vkjt2.jpg" alt="Revealç•Œé¢"><br><img src="http://ww3.sinaimg.cn/large/72f96cbagw1f861ldv4ozj20hs0vkq5w.jpg" alt="revealæ’ä»¶ç•Œé¢"></li>
<li>æ‰“å¼€app</li>
<li>æ‰“å¼€Reveal,é€‰æ‹©è¿æ¥æŸ¥çœ‹çš„app,å¦‚ä¸‹å›¾<br><img src="http://ww1.sinaimg.cn/large/72f96cbajw1f861pa9znxj20ia03qaam.jpg" alt="è¿æ¥Reveal"></li>
<li>è¿™æ ·å°±å¯ä»¥æŸ¥çœ‹appäº†,å¯ä»¥çœ‹åˆ°,æ’­å®¢appä¸­é—´éƒ¨åˆ†ä½¿ç”¨çš„æ§ä»¶åç§°ä»¥åŠå¸ƒå±€æ–¹å¼<br><img src="http://ww2.sinaimg.cn/large/72f96cbagw1f861qucaq1j21kw0v213g.jpg" alt="æŸ¥çœ‹appç•Œé¢"></li>
</ol>
<h3 id="ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼"><a href="#ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼" class="headerlink" title="ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼"></a>ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„ç®€å•æ–¹å¼</h3><p>ä½¿ç”¨RevealæŸ¥çœ‹è‡ªå·±çš„appçš„æ–¹å¼å¾ˆç®€å•,åªéœ€è¦é…ç½®ä¸€ä¸‹æ–­ç‚¹å³å¯,å®˜æ–¹ç»™å‡ºäº†æ•™ç¨‹,å¯ä»¥ç‚¹å‡»<a href="http://support.revealapp.com/kb/getting-started/load-the-reveal-server-via-an-xcode-breakpoint" target="_blank" rel="external">è¿™é‡Œ</a>æŸ¥çœ‹.</p>
<h3 id="ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤"><a href="#ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤" class="headerlink" title="ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤"></a>ç®€å•è®°å½•åˆ©ç”¨ç¬¦å·æ–­ç‚¹æŸ¥çœ‹Appæ­¥éª¤</h3><ol>
<li>æ‰“å¼€Xcode,é€‰æ‹©<strong>View</strong> <strong>â†’ Navigators</strong> <strong>â†’ Show Breakpoint Navigator</strong></li>
<li>ç‚¹å‡» <strong>+</strong> æŒ‰é’®,é€‰æ‹©<strong>Add Symbolic Breakpoint</strong>,å¦‚ä¸‹å›¾<br><img src="http://ww1.sinaimg.cn/large/72f96cbagw1f862aw5twjj20ea06wabf.jpg" alt="æ·»åŠ å›¾ç‰‡"></li>
<li><p>è¿›è¡Œæ–­ç‚¹ç¼–è¾‘,å¦‚ä¸‹å›¾<br><img src="http://ww3.sinaimg.cn/large/72f96cbagw1f862cendfrj20q40egq6w.jpg" alt="ç¼–è¾‘æ–­ç‚¹"><br>  æ–­ç‚¹å‘½ä»¤:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expr (Class)NSClassFromString(@"IBARevealLoader") == nil ? (void )dlopen("/Applications/Reveal.app/Contents/SharedSupport/iOS-Libraries/RevealServer.framework/RevealServer", 0x2) : ((void)0)</div></pre></td></tr></table></figure>
<p>å¦‚æœå‘½ä»¤æ— æ•ˆ,å‚çœ‹<a href="http://support.revealapp.com/kb/getting-started/load-the-reveal-server-via-an-xcode-breakpoint" target="_blank" rel="external">å®˜æ–¹æ•™ç¨‹</a></p>
</li>
<li>è¿›è¡Œæ–­ç‚¹è®¾ç½®,å¦‚ä¸‹å›¾<br><img src="http://ww1.sinaimg.cn/large/72f96cbagw1f862fq6wfbj20s80ccgpf.jpg" alt="æ–­ç‚¹è®¾ç½®"></li>
<li>è¿è¡ŒXcode,æ¥ä¸‹æ¥çš„æ­¥éª¤æ˜¯é‡å¤çœŸæœºæŸ¥çœ‹appæ­¥éª¤4-5æ­¥.</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å®‰è£…Chisel]]></title>
      <url>https://jiangdaohong.github.io./2016/09/22/%E5%AE%89%E8%A3%85Chisel/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ä½¿ç”¨Chiselçš„å®‰è£…è¿‡ç¨‹ä»¥åŠåŸºæœ¬çš„å‘½ä»¤<br><a id="more"></a></p>
<ol>
<li>ä½¿ç”¨ brew install chisel</li>
<li>è®°å½•é»˜è®¤å‘½ä»¤çš„å®‰è£…è·¯å¾„,é»˜è®¤è·¯å¾„æ˜¯ /usr/local/opt/chisel/libexec/fblldb.py</li>
<li>ç”¨vimæ‰“å¼€ <code>~./lldbinit</code> æ–‡ä»¶,å¦‚æœä¸å­˜åœ¨,æ–°å»ºæ­¤æ–‡ä»¶</li>
<li><p>åœ¨æ–‡ä»¶ä¸­æ·»åŠ å‘½ä»¤</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">command script <span class="keyword">import</span> å®‰è£…è·¯å¾„</div></pre></td></tr></table></figure>
</li>
<li><p>é‡å¯Xcode</p>
</li>
</ol>
<p>å®˜æ–¹åœ°å€ä»¥åŠå¸¸ç”¨å‘½ä»¤å‚è€ƒ:<a href="https://github.com/facebook/chisel" target="_blank" rel="external">https://github.com/facebook/chisel</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Tips]]></title>
      <url>https://jiangdaohong.github.io./2016/08/19/tips/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// ä¸»çº¿ç¨‹</div><div class="line">if (pthread_main_np() == 0) returnnil;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//å¤„äºå¼€å‘é˜¶æ®µ</div><div class="line">#ifdef DEBUG</div><div class="line">#define DHLog(...) NSLog(VA_ARGS)</div><div class="line">#else</div><div class="line">//å¤„äºå‘å¸ƒé˜¶æ®µ</div><div class="line">#define DHLog(...)</div><div class="line">#endif</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//Format</div><div class="line">#define F(string, args...)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [NSString stringWithFormat:string, args]</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[123]]></title>
      <url>https://jiangdaohong.github.io./2016/08/19/hello%20world/</url>
      <content type="html"><![CDATA[<p>hello world</p>
]]></content>
    </entry>
    
  
  
</search>
